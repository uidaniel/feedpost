function u2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $x(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bx={exports:{}},Id={},zx={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fc=Symbol.for("react.element"),h2=Symbol.for("react.portal"),d2=Symbol.for("react.fragment"),f2=Symbol.for("react.strict_mode"),p2=Symbol.for("react.profiler"),m2=Symbol.for("react.provider"),g2=Symbol.for("react.context"),y2=Symbol.for("react.forward_ref"),_2=Symbol.for("react.suspense"),v2=Symbol.for("react.memo"),w2=Symbol.for("react.lazy"),F0=Symbol.iterator;function E2(t){return t===null||typeof t!="object"?null:(t=F0&&t[F0]||t["@@iterator"],typeof t=="function"?t:null)}var Wx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hx=Object.assign,qx={};function na(t,e,n){this.props=t,this.context=e,this.refs=qx,this.updater=n||Wx}na.prototype.isReactComponent={};na.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};na.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Gx(){}Gx.prototype=na.prototype;function Iy(t,e,n){this.props=t,this.context=e,this.refs=qx,this.updater=n||Wx}var Sy=Iy.prototype=new Gx;Sy.constructor=Iy;Hx(Sy,na.prototype);Sy.isPureReactComponent=!0;var V0=Array.isArray,Kx=Object.prototype.hasOwnProperty,Cy={current:null},Qx={key:!0,ref:!0,__self:!0,__source:!0};function Yx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Kx.call(e,r)&&!Qx.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:fc,type:t,key:i,ref:o,props:s,_owner:Cy.current}}function T2(t,e){return{$$typeof:fc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Py(t){return typeof t=="object"&&t!==null&&t.$$typeof===fc}function x2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var j0=/\/+/g;function Wf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?x2(""+t.key):e.toString(36)}function Mu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fc:case h2:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Wf(o,0):r,V0(s)?(n="",t!=null&&(n=t.replace(j0,"$&/")+"/"),Mu(s,e,n,"",function(c){return c})):s!=null&&(Py(s)&&(s=T2(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(j0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",V0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Wf(i,a);o+=Mu(i,e,n,l,s)}else if(l=E2(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Wf(i,a++),o+=Mu(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zc(t,e,n){if(t==null)return t;var r=[],s=0;return Mu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function I2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},Lu={transition:null},S2={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:Lu,ReactCurrentOwner:Cy};te.Children={map:Zc,forEach:function(t,e,n){Zc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zc(t,function(){e++}),e},toArray:function(t){return Zc(t,function(e){return e})||[]},only:function(t){if(!Py(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=na;te.Fragment=d2;te.Profiler=p2;te.PureComponent=Iy;te.StrictMode=f2;te.Suspense=_2;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S2;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Hx({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Cy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Kx.call(e,l)&&!Qx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:fc,type:t.type,key:s,ref:i,props:r,_owner:o}};te.createContext=function(t){return t={$$typeof:g2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:m2,_context:t},t.Consumer=t};te.createElement=Yx;te.createFactory=function(t){var e=Yx.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:y2,render:t}};te.isValidElement=Py;te.lazy=function(t){return{$$typeof:w2,_payload:{_status:-1,_result:t},_init:I2}};te.memo=function(t,e){return{$$typeof:v2,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=Lu.transition;Lu.transition={};try{t()}finally{Lu.transition=e}};te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};te.useCallback=function(t,e){return Vt.current.useCallback(t,e)};te.useContext=function(t){return Vt.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};te.useEffect=function(t,e){return Vt.current.useEffect(t,e)};te.useId=function(){return Vt.current.useId()};te.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return Vt.current.useMemo(t,e)};te.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};te.useRef=function(t){return Vt.current.useRef(t)};te.useState=function(t){return Vt.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return Vt.current.useTransition()};te.version="18.2.0";zx.exports=te;var T=zx.exports;const Tn=$x(T),dm=u2({__proto__:null,default:Tn},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C2=T,P2=Symbol.for("react.element"),A2=Symbol.for("react.fragment"),R2=Object.prototype.hasOwnProperty,k2=C2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N2={key:!0,ref:!0,__self:!0,__source:!0};function Xx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)R2.call(e,r)&&!N2.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:P2,type:t,key:i,ref:o,props:s,_owner:k2.current}}Id.Fragment=A2;Id.jsx=Xx;Id.jsxs=Xx;Bx.exports=Id;var d=Bx.exports,fm={},Jx={exports:{}},dn={},Zx={exports:{}},eI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(x,S){var P=x.length;x.push(S);e:for(;0<P;){var O=P-1>>>1,V=x[O];if(0<s(V,S))x[O]=S,x[P]=V,P=O;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var S=x[0],P=x.pop();if(P!==S){x[0]=P;e:for(var O=0,V=x.length,fe=V>>>1;O<fe;){var ve=2*(O+1)-1,je=x[ve],me=ve+1,Oe=x[me];if(0>s(je,P))me<V&&0>s(Oe,je)?(x[O]=Oe,x[me]=P,O=me):(x[O]=je,x[ve]=P,O=ve);else if(me<V&&0>s(Oe,P))x[O]=Oe,x[me]=P,O=me;else break e}}return S}function s(x,S){var P=x.sortIndex-S.sortIndex;return P!==0?P:x.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(x){for(var S=n(c);S!==null;){if(S.callback===null)r(c);else if(S.startTime<=x)r(c),S.sortIndex=S.expirationTime,e(l,S);else break;S=n(c)}}function E(x){if(v=!1,_(x),!g)if(n(l)!==null)g=!0,H(I);else{var S=n(c);S!==null&&_e(E,S.startTime-x)}}function I(x,S){g=!1,v&&(v=!1,m(C),C=-1),p=!0;var P=f;try{for(_(S),h=n(l);h!==null&&(!(h.expirationTime>S)||x&&!X());){var O=h.callback;if(typeof O=="function"){h.callback=null,f=h.priorityLevel;var V=O(h.expirationTime<=S);S=t.unstable_now(),typeof V=="function"?h.callback=V:h===n(l)&&r(l),_(S)}else r(l);h=n(l)}if(h!==null)var fe=!0;else{var ve=n(c);ve!==null&&_e(E,ve.startTime-S),fe=!1}return fe}finally{h=null,f=P,p=!1}}var A=!1,R=null,C=-1,k=5,M=-1;function X(){return!(t.unstable_now()-M<k)}function le(){if(R!==null){var x=t.unstable_now();M=x;var S=!0;try{S=R(!0,x)}finally{S?ce():(A=!1,R=null)}}else A=!1}var ce;if(typeof y=="function")ce=function(){y(le)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,q=W.port2;W.port1.onmessage=le,ce=function(){q.postMessage(null)}}else ce=function(){w(le,0)};function H(x){R=x,A||(A=!0,ce())}function _e(x,S){C=w(function(){x(t.unstable_now())},S)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,H(I))},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<x?Math.floor(1e3/x):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(x){switch(f){case 1:case 2:case 3:var S=3;break;default:S=f}var P=f;f=S;try{return x()}finally{f=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(x,S){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var P=f;f=x;try{return S()}finally{f=P}},t.unstable_scheduleCallback=function(x,S,P){var O=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?O+P:O):P=O,x){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=P+V,x={id:u++,callback:S,priorityLevel:x,startTime:P,expirationTime:V,sortIndex:-1},P>O?(x.sortIndex=P,e(c,x),n(l)===null&&x===n(c)&&(v?(m(C),C=-1):v=!0,_e(E,P-O))):(x.sortIndex=V,e(l,x),g||p||(g=!0,H(I))),x},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(x){var S=f;return function(){var P=f;f=S;try{return x.apply(this,arguments)}finally{f=P}}}})(eI);Zx.exports=eI;var b2=Zx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tI=T,sn=b2;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nI=new Set,wl={};function bi(t,e){Do(t,e),Do(t+"Capture",e)}function Do(t,e){for(wl[t]=e,t=0;t<e.length;t++)nI.add(e[t])}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pm=Object.prototype.hasOwnProperty,D2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U0={},$0={};function O2(t){return pm.call($0,t)?!0:pm.call(U0,t)?!1:D2.test(t)?$0[t]=!0:(U0[t]=!0,!1)}function M2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function L2(t,e,n,r){if(e===null||typeof e>"u"||M2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ay=/[\-:]([a-z])/g;function Ry(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ay,Ry);gt[e]=new jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ay,Ry);gt[e]=new jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ay,Ry);gt[e]=new jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new jt(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ky(t,e,n,r){var s=gt.hasOwnProperty(e)?gt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(L2(e,n,s,r)&&(n=null),r||s===null?O2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wr=tI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eu=Symbol.for("react.element"),Ji=Symbol.for("react.portal"),Zi=Symbol.for("react.fragment"),Ny=Symbol.for("react.strict_mode"),mm=Symbol.for("react.profiler"),rI=Symbol.for("react.provider"),sI=Symbol.for("react.context"),by=Symbol.for("react.forward_ref"),gm=Symbol.for("react.suspense"),ym=Symbol.for("react.suspense_list"),Dy=Symbol.for("react.memo"),Qr=Symbol.for("react.lazy"),iI=Symbol.for("react.offscreen"),B0=Symbol.iterator;function va(t){return t===null||typeof t!="object"?null:(t=B0&&t[B0]||t["@@iterator"],typeof t=="function"?t:null)}var be=Object.assign,Hf;function La(t){if(Hf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hf=e&&e[1]||""}return`
`+Hf+t}var qf=!1;function Gf(t,e){if(!t||qf)return"";qf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{qf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?La(t):""}function F2(t){switch(t.tag){case 5:return La(t.type);case 16:return La("Lazy");case 13:return La("Suspense");case 19:return La("SuspenseList");case 0:case 2:case 15:return t=Gf(t.type,!1),t;case 11:return t=Gf(t.type.render,!1),t;case 1:return t=Gf(t.type,!0),t;default:return""}}function _m(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zi:return"Fragment";case Ji:return"Portal";case mm:return"Profiler";case Ny:return"StrictMode";case gm:return"Suspense";case ym:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sI:return(t.displayName||"Context")+".Consumer";case rI:return(t._context.displayName||"Context")+".Provider";case by:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dy:return e=t.displayName||null,e!==null?e:_m(t.type)||"Memo";case Qr:e=t._payload,t=t._init;try{return _m(t(e))}catch{}}return null}function V2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _m(e);case 8:return e===Ny?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ss(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function j2(t){var e=oI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tu(t){t._valueTracker||(t._valueTracker=j2(t))}function aI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=oI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vm(t,e){var n=e.checked;return be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function z0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ss(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lI(t,e){e=e.checked,e!=null&&ky(t,"checked",e,!1)}function wm(t,e){lI(t,e);var n=Ss(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Em(t,e.type,n):e.hasOwnProperty("defaultValue")&&Em(t,e.type,Ss(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function W0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Em(t,e,n){(e!=="number"||sh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fa=Array.isArray;function vo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ss(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Tm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function H0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(Fa(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ss(n)}}function cI(t,e){var n=Ss(e.value),r=Ss(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function q0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nu,hI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nu=nu||document.createElement("div"),nu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function El(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U2=["Webkit","ms","Moz","O"];Object.keys(Ya).forEach(function(t){U2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ya[e]=Ya[t]})});function dI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ya.hasOwnProperty(t)&&Ya[t]?(""+e).trim():e+"px"}function fI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=dI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var $2=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Im(t,e){if(e){if($2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function Sm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cm=null;function Oy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pm=null,wo=null,Eo=null;function G0(t){if(t=gc(t)){if(typeof Pm!="function")throw Error(D(280));var e=t.stateNode;e&&(e=Rd(e),Pm(t.stateNode,t.type,e))}}function pI(t){wo?Eo?Eo.push(t):Eo=[t]:wo=t}function mI(){if(wo){var t=wo,e=Eo;if(Eo=wo=null,G0(t),e)for(t=0;t<e.length;t++)G0(e[t])}}function gI(t,e){return t(e)}function yI(){}var Kf=!1;function _I(t,e,n){if(Kf)return t(e,n);Kf=!0;try{return gI(t,e,n)}finally{Kf=!1,(wo!==null||Eo!==null)&&(yI(),mI())}}function Tl(t,e){var n=t.stateNode;if(n===null)return null;var r=Rd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var Am=!1;if(Dr)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){Am=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{Am=!1}function B2(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Xa=!1,ih=null,oh=!1,Rm=null,z2={onError:function(t){Xa=!0,ih=t}};function W2(t,e,n,r,s,i,o,a,l){Xa=!1,ih=null,B2.apply(z2,arguments)}function H2(t,e,n,r,s,i,o,a,l){if(W2.apply(this,arguments),Xa){if(Xa){var c=ih;Xa=!1,ih=null}else throw Error(D(198));oh||(oh=!0,Rm=c)}}function Di(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function K0(t){if(Di(t)!==t)throw Error(D(188))}function q2(t){var e=t.alternate;if(!e){if(e=Di(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return K0(s),t;if(i===r)return K0(s),e;i=i.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function wI(t){return t=q2(t),t!==null?EI(t):null}function EI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=EI(t);if(e!==null)return e;t=t.sibling}return null}var TI=sn.unstable_scheduleCallback,Q0=sn.unstable_cancelCallback,G2=sn.unstable_shouldYield,K2=sn.unstable_requestPaint,Ue=sn.unstable_now,Q2=sn.unstable_getCurrentPriorityLevel,My=sn.unstable_ImmediatePriority,xI=sn.unstable_UserBlockingPriority,ah=sn.unstable_NormalPriority,Y2=sn.unstable_LowPriority,II=sn.unstable_IdlePriority,Sd=null,sr=null;function X2(t){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(Sd,t,void 0,(t.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:eD,J2=Math.log,Z2=Math.LN2;function eD(t){return t>>>=0,t===0?32:31-(J2(t)/Z2|0)|0}var ru=64,su=4194304;function Va(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Va(a):(i&=o,i!==0&&(r=Va(i)))}else o=n&~s,o!==0?r=Va(o):i!==0&&(r=Va(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-jn(e),s=1<<n,r|=t[n],e&=~s;return r}function tD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-jn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=tD(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function km(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function SI(){var t=ru;return ru<<=1,!(ru&4194240)&&(ru=64),t}function Qf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jn(e),t[e]=n}function rD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-jn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ly(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var he=0;function CI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var PI,Fy,AI,RI,kI,Nm=!1,iu=[],ls=null,cs=null,us=null,xl=new Map,Il=new Map,Jr=[],sD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Y0(t,e){switch(t){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(e.pointerId)}}function Ea(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=gc(e),e!==null&&Fy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function iD(t,e,n,r,s){switch(e){case"focusin":return ls=Ea(ls,t,e,n,r,s),!0;case"dragenter":return cs=Ea(cs,t,e,n,r,s),!0;case"mouseover":return us=Ea(us,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return xl.set(i,Ea(xl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Il.set(i,Ea(Il.get(i)||null,t,e,n,r,s)),!0}return!1}function NI(t){var e=ti(t.target);if(e!==null){var n=Di(e);if(n!==null){if(e=n.tag,e===13){if(e=vI(n),e!==null){t.blockedOn=e,kI(t.priority,function(){AI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cm=r,n.target.dispatchEvent(r),Cm=null}else return e=gc(n),e!==null&&Fy(e),t.blockedOn=n,!1;e.shift()}return!0}function X0(t,e,n){Fu(t)&&n.delete(e)}function oD(){Nm=!1,ls!==null&&Fu(ls)&&(ls=null),cs!==null&&Fu(cs)&&(cs=null),us!==null&&Fu(us)&&(us=null),xl.forEach(X0),Il.forEach(X0)}function Ta(t,e){t.blockedOn===e&&(t.blockedOn=null,Nm||(Nm=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,oD)))}function Sl(t){function e(s){return Ta(s,t)}if(0<iu.length){Ta(iu[0],t);for(var n=1;n<iu.length;n++){var r=iu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ls!==null&&Ta(ls,t),cs!==null&&Ta(cs,t),us!==null&&Ta(us,t),xl.forEach(e),Il.forEach(e),n=0;n<Jr.length;n++)r=Jr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jr.length&&(n=Jr[0],n.blockedOn===null);)NI(n),n.blockedOn===null&&Jr.shift()}var To=Wr.ReactCurrentBatchConfig,ch=!0;function aD(t,e,n,r){var s=he,i=To.transition;To.transition=null;try{he=1,Vy(t,e,n,r)}finally{he=s,To.transition=i}}function lD(t,e,n,r){var s=he,i=To.transition;To.transition=null;try{he=4,Vy(t,e,n,r)}finally{he=s,To.transition=i}}function Vy(t,e,n,r){if(ch){var s=bm(t,e,n,r);if(s===null)ip(t,e,r,uh,n),Y0(t,r);else if(iD(s,t,e,n,r))r.stopPropagation();else if(Y0(t,r),e&4&&-1<sD.indexOf(t)){for(;s!==null;){var i=gc(s);if(i!==null&&PI(i),i=bm(t,e,n,r),i===null&&ip(t,e,r,uh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ip(t,e,r,null,n)}}var uh=null;function bm(t,e,n,r){if(uh=null,t=Oy(r),t=ti(t),t!==null)if(e=Di(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return uh=t,null}function bI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q2()){case My:return 1;case xI:return 4;case ah:case Y2:return 16;case II:return 536870912;default:return 16}default:return 16}}var ss=null,jy=null,Vu=null;function DI(){if(Vu)return Vu;var t,e=jy,n=e.length,r,s="value"in ss?ss.value:ss.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Vu=s.slice(t,1<r?1-r:void 0)}function ju(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ou(){return!0}function J0(){return!1}function fn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ou:J0,this.isPropagationStopped=J0,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ou)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ou)},persist:function(){},isPersistent:ou}),e}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uy=fn(ra),mc=be({},ra,{view:0,detail:0}),cD=fn(mc),Yf,Xf,xa,Cd=be({},mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$y,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xa&&(xa&&t.type==="mousemove"?(Yf=t.screenX-xa.screenX,Xf=t.screenY-xa.screenY):Xf=Yf=0,xa=t),Yf)},movementY:function(t){return"movementY"in t?t.movementY:Xf}}),Z0=fn(Cd),uD=be({},Cd,{dataTransfer:0}),hD=fn(uD),dD=be({},mc,{relatedTarget:0}),Jf=fn(dD),fD=be({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),pD=fn(fD),mD=be({},ra,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gD=fn(mD),yD=be({},ra,{data:0}),ew=fn(yD),_D={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ED(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wD[t])?!!e[t]:!1}function $y(){return ED}var TD=be({},mc,{key:function(t){if(t.key){var e=_D[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ju(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$y,charCode:function(t){return t.type==="keypress"?ju(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ju(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xD=fn(TD),ID=be({},Cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tw=fn(ID),SD=be({},mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$y}),CD=fn(SD),PD=be({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),AD=fn(PD),RD=be({},Cd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kD=fn(RD),ND=[9,13,27,32],By=Dr&&"CompositionEvent"in window,Ja=null;Dr&&"documentMode"in document&&(Ja=document.documentMode);var bD=Dr&&"TextEvent"in window&&!Ja,OI=Dr&&(!By||Ja&&8<Ja&&11>=Ja),nw=" ",rw=!1;function MI(t,e){switch(t){case"keyup":return ND.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var eo=!1;function DD(t,e){switch(t){case"compositionend":return LI(e);case"keypress":return e.which!==32?null:(rw=!0,nw);case"textInput":return t=e.data,t===nw&&rw?null:t;default:return null}}function OD(t,e){if(eo)return t==="compositionend"||!By&&MI(t,e)?(t=DI(),Vu=jy=ss=null,eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OI&&e.locale!=="ko"?null:e.data;default:return null}}var MD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!MD[t.type]:e==="textarea"}function FI(t,e,n,r){pI(r),e=hh(e,"onChange"),0<e.length&&(n=new Uy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Za=null,Cl=null;function LD(t){KI(t,0)}function Pd(t){var e=ro(t);if(aI(e))return t}function FD(t,e){if(t==="change")return e}var VI=!1;if(Dr){var Zf;if(Dr){var ep="oninput"in document;if(!ep){var iw=document.createElement("div");iw.setAttribute("oninput","return;"),ep=typeof iw.oninput=="function"}Zf=ep}else Zf=!1;VI=Zf&&(!document.documentMode||9<document.documentMode)}function ow(){Za&&(Za.detachEvent("onpropertychange",jI),Cl=Za=null)}function jI(t){if(t.propertyName==="value"&&Pd(Cl)){var e=[];FI(e,Cl,t,Oy(t)),_I(LD,e)}}function VD(t,e,n){t==="focusin"?(ow(),Za=e,Cl=n,Za.attachEvent("onpropertychange",jI)):t==="focusout"&&ow()}function jD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pd(Cl)}function UD(t,e){if(t==="click")return Pd(e)}function $D(t,e){if(t==="input"||t==="change")return Pd(e)}function BD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wn=typeof Object.is=="function"?Object.is:BD;function Pl(t,e){if(Wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!pm.call(e,s)||!Wn(t[s],e[s]))return!1}return!0}function aw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lw(t,e){var n=aw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=aw(n)}}function UI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?UI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $I(){for(var t=window,e=sh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sh(t.document)}return e}function zy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zD(t){var e=$I(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&UI(n.ownerDocument.documentElement,n)){if(r!==null&&zy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=lw(n,i);var o=lw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var WD=Dr&&"documentMode"in document&&11>=document.documentMode,to=null,Dm=null,el=null,Om=!1;function cw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Om||to==null||to!==sh(r)||(r=to,"selectionStart"in r&&zy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),el&&Pl(el,r)||(el=r,r=hh(Dm,"onSelect"),0<r.length&&(e=new Uy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=to)))}function au(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var no={animationend:au("Animation","AnimationEnd"),animationiteration:au("Animation","AnimationIteration"),animationstart:au("Animation","AnimationStart"),transitionend:au("Transition","TransitionEnd")},tp={},BI={};Dr&&(BI=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function Ad(t){if(tp[t])return tp[t];if(!no[t])return t;var e=no[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in BI)return tp[t]=e[n];return t}var zI=Ad("animationend"),WI=Ad("animationiteration"),HI=Ad("animationstart"),qI=Ad("transitionend"),GI=new Map,uw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(t,e){GI.set(t,e),bi(e,[t])}for(var np=0;np<uw.length;np++){var rp=uw[np],HD=rp.toLowerCase(),qD=rp[0].toUpperCase()+rp.slice(1);Ms(HD,"on"+qD)}Ms(zI,"onAnimationEnd");Ms(WI,"onAnimationIteration");Ms(HI,"onAnimationStart");Ms("dblclick","onDoubleClick");Ms("focusin","onFocus");Ms("focusout","onBlur");Ms(qI,"onTransitionEnd");Do("onMouseEnter",["mouseout","mouseover"]);Do("onMouseLeave",["mouseout","mouseover"]);Do("onPointerEnter",["pointerout","pointerover"]);Do("onPointerLeave",["pointerout","pointerover"]);bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GD=new Set("cancel close invalid load scroll toggle".split(" ").concat(ja));function hw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,H2(r,e,void 0,t),t.currentTarget=null}function KI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;hw(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;hw(s,a,c),i=l}}}if(oh)throw t=Rm,oh=!1,Rm=null,t}function we(t,e){var n=e[jm];n===void 0&&(n=e[jm]=new Set);var r=t+"__bubble";n.has(r)||(QI(e,t,2,!1),n.add(r))}function sp(t,e,n){var r=0;e&&(r|=4),QI(n,t,r,e)}var lu="_reactListening"+Math.random().toString(36).slice(2);function Al(t){if(!t[lu]){t[lu]=!0,nI.forEach(function(n){n!=="selectionchange"&&(GD.has(n)||sp(n,!1,t),sp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lu]||(e[lu]=!0,sp("selectionchange",!1,e))}}function QI(t,e,n,r){switch(bI(e)){case 1:var s=aD;break;case 4:s=lD;break;default:s=Vy}n=s.bind(null,e,n,t),s=void 0,!Am||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ip(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ti(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}_I(function(){var c=i,u=Oy(n),h=[];e:{var f=GI.get(t);if(f!==void 0){var p=Uy,g=t;switch(t){case"keypress":if(ju(n)===0)break e;case"keydown":case"keyup":p=xD;break;case"focusin":g="focus",p=Jf;break;case"focusout":g="blur",p=Jf;break;case"beforeblur":case"afterblur":p=Jf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Z0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=hD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=CD;break;case zI:case WI:case HI:p=pD;break;case qI:p=AD;break;case"scroll":p=cD;break;case"wheel":p=kD;break;case"copy":case"cut":case"paste":p=gD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=tw}var v=(e&4)!==0,w=!v&&t==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var y=c,_;y!==null;){_=y;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,m!==null&&(E=Tl(y,m),E!=null&&v.push(Rl(y,E,_)))),w)break;y=y.return}0<v.length&&(f=new p(f,g,null,n,u),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Cm&&(g=n.relatedTarget||n.fromElement)&&(ti(g)||g[Or]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?ti(g):null,g!==null&&(w=Di(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(v=Z0,E="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=tw,E="onPointerLeave",m="onPointerEnter",y="pointer"),w=p==null?f:ro(p),_=g==null?f:ro(g),f=new v(E,y+"leave",p,n,u),f.target=w,f.relatedTarget=_,E=null,ti(u)===c&&(v=new v(m,y+"enter",g,n,u),v.target=_,v.relatedTarget=w,E=v),w=E,p&&g)t:{for(v=p,m=g,y=0,_=v;_;_=qi(_))y++;for(_=0,E=m;E;E=qi(E))_++;for(;0<y-_;)v=qi(v),y--;for(;0<_-y;)m=qi(m),_--;for(;y--;){if(v===m||m!==null&&v===m.alternate)break t;v=qi(v),m=qi(m)}v=null}else v=null;p!==null&&dw(h,f,p,v,!1),g!==null&&w!==null&&dw(h,w,g,v,!0)}}e:{if(f=c?ro(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var I=FD;else if(sw(f))if(VI)I=$D;else{I=jD;var A=VD}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=UD);if(I&&(I=I(t,c))){FI(h,I,n,u);break e}A&&A(t,f,c),t==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&Em(f,"number",f.value)}switch(A=c?ro(c):window,t){case"focusin":(sw(A)||A.contentEditable==="true")&&(to=A,Dm=c,el=null);break;case"focusout":el=Dm=to=null;break;case"mousedown":Om=!0;break;case"contextmenu":case"mouseup":case"dragend":Om=!1,cw(h,n,u);break;case"selectionchange":if(WD)break;case"keydown":case"keyup":cw(h,n,u)}var R;if(By)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else eo?MI(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(OI&&n.locale!=="ko"&&(eo||C!=="onCompositionStart"?C==="onCompositionEnd"&&eo&&(R=DI()):(ss=u,jy="value"in ss?ss.value:ss.textContent,eo=!0)),A=hh(c,C),0<A.length&&(C=new ew(C,t,null,n,u),h.push({event:C,listeners:A}),R?C.data=R:(R=LI(n),R!==null&&(C.data=R)))),(R=bD?DD(t,n):OD(t,n))&&(c=hh(c,"onBeforeInput"),0<c.length&&(u=new ew("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=R))}KI(h,e)})}function Rl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Tl(t,n),i!=null&&r.unshift(Rl(t,i,s)),i=Tl(t,e),i!=null&&r.push(Rl(t,i,s))),t=t.return}return r}function qi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Tl(n,i),l!=null&&o.unshift(Rl(n,l,a))):s||(l=Tl(n,i),l!=null&&o.push(Rl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var KD=/\r\n?/g,QD=/\u0000|\uFFFD/g;function fw(t){return(typeof t=="string"?t:""+t).replace(KD,`
`).replace(QD,"")}function cu(t,e,n){if(e=fw(e),fw(t)!==e&&n)throw Error(D(425))}function dh(){}var Mm=null,Lm=null;function Fm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vm=typeof setTimeout=="function"?setTimeout:void 0,YD=typeof clearTimeout=="function"?clearTimeout:void 0,pw=typeof Promise=="function"?Promise:void 0,XD=typeof queueMicrotask=="function"?queueMicrotask:typeof pw<"u"?function(t){return pw.resolve(null).then(t).catch(JD)}:Vm;function JD(t){setTimeout(function(){throw t})}function op(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Sl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Sl(e)}function hs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sa=Math.random().toString(36).slice(2),Xn="__reactFiber$"+sa,kl="__reactProps$"+sa,Or="__reactContainer$"+sa,jm="__reactEvents$"+sa,ZD="__reactListeners$"+sa,eO="__reactHandles$"+sa;function ti(t){var e=t[Xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Or]||n[Xn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mw(t);t!==null;){if(n=t[Xn])return n;t=mw(t)}return e}t=n,n=t.parentNode}return null}function gc(t){return t=t[Xn]||t[Or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ro(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function Rd(t){return t[kl]||null}var Um=[],so=-1;function Ls(t){return{current:t}}function Ie(t){0>so||(t.current=Um[so],Um[so]=null,so--)}function ge(t,e){so++,Um[so]=t.current,t.current=e}var Cs={},kt=Ls(Cs),zt=Ls(!1),mi=Cs;function Oo(t,e){var n=t.type.contextTypes;if(!n)return Cs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Wt(t){return t=t.childContextTypes,t!=null}function fh(){Ie(zt),Ie(kt)}function gw(t,e,n){if(kt.current!==Cs)throw Error(D(168));ge(kt,e),ge(zt,n)}function YI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(D(108,V2(t)||"Unknown",s));return be({},n,r)}function ph(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cs,mi=kt.current,ge(kt,t),ge(zt,zt.current),!0}function yw(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=YI(t,e,mi),r.__reactInternalMemoizedMergedChildContext=t,Ie(zt),Ie(kt),ge(kt,t)):Ie(zt),ge(zt,n)}var wr=null,kd=!1,ap=!1;function XI(t){wr===null?wr=[t]:wr.push(t)}function tO(t){kd=!0,XI(t)}function Fs(){if(!ap&&wr!==null){ap=!0;var t=0,e=he;try{var n=wr;for(he=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wr=null,kd=!1}catch(s){throw wr!==null&&(wr=wr.slice(t+1)),TI(My,Fs),s}finally{he=e,ap=!1}}return null}var io=[],oo=0,mh=null,gh=0,yn=[],_n=0,gi=null,Er=1,Tr="";function Ks(t,e){io[oo++]=gh,io[oo++]=mh,mh=t,gh=e}function JI(t,e,n){yn[_n++]=Er,yn[_n++]=Tr,yn[_n++]=gi,gi=t;var r=Er;t=Tr;var s=32-jn(r)-1;r&=~(1<<s),n+=1;var i=32-jn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Er=1<<32-jn(e)+s|n<<s|r,Tr=i+t}else Er=1<<i|n<<s|r,Tr=t}function Wy(t){t.return!==null&&(Ks(t,1),JI(t,1,0))}function Hy(t){for(;t===mh;)mh=io[--oo],io[oo]=null,gh=io[--oo],io[oo]=null;for(;t===gi;)gi=yn[--_n],yn[_n]=null,Tr=yn[--_n],yn[_n]=null,Er=yn[--_n],yn[_n]=null}var nn=null,Zt=null,Pe=!1,On=null;function ZI(t,e){var n=wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _w(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nn=t,Zt=hs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nn=t,Zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gi!==null?{id:Er,overflow:Tr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nn=t,Zt=null,!0):!1;default:return!1}}function $m(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bm(t){if(Pe){var e=Zt;if(e){var n=e;if(!_w(t,e)){if($m(t))throw Error(D(418));e=hs(n.nextSibling);var r=nn;e&&_w(t,e)?ZI(r,n):(t.flags=t.flags&-4097|2,Pe=!1,nn=t)}}else{if($m(t))throw Error(D(418));t.flags=t.flags&-4097|2,Pe=!1,nn=t}}}function vw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nn=t}function uu(t){if(t!==nn)return!1;if(!Pe)return vw(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fm(t.type,t.memoizedProps)),e&&(e=Zt)){if($m(t))throw eS(),Error(D(418));for(;e;)ZI(t,e),e=hs(e.nextSibling)}if(vw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zt=hs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zt=null}}else Zt=nn?hs(t.stateNode.nextSibling):null;return!0}function eS(){for(var t=Zt;t;)t=hs(t.nextSibling)}function Mo(){Zt=nn=null,Pe=!1}function qy(t){On===null?On=[t]:On.push(t)}var nO=Wr.ReactCurrentBatchConfig;function bn(t,e){if(t&&t.defaultProps){e=be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var yh=Ls(null),_h=null,ao=null,Gy=null;function Ky(){Gy=ao=_h=null}function Qy(t){var e=yh.current;Ie(yh),t._currentValue=e}function zm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xo(t,e){_h=t,Gy=ao=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function Cn(t){var e=t._currentValue;if(Gy!==t)if(t={context:t,memoizedValue:e,next:null},ao===null){if(_h===null)throw Error(D(308));ao=t,_h.dependencies={lanes:0,firstContext:t}}else ao=ao.next=t;return e}var ni=null;function Yy(t){ni===null?ni=[t]:ni.push(t)}function tS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Yy(e)):(n.next=s.next,s.next=n),e.interleaved=n,Mr(t,r)}function Mr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yr=!1;function Xy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ar(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ds(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Mr(t,n)}return s=r.interleaved,s===null?(e.next=e,Yy(r)):(e.next=s.next,s.next=e),r.interleaved=e,Mr(t,n)}function Uu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ly(t,n)}}function ww(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vh(t,e,n,r){var s=t.updateQueue;Yr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(f=e,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=be({},h,f);break e;case 2:Yr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);_i|=o,t.lanes=o,t.memoizedState=h}}function Ew(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var rS=new tI.Component().refs;function Wm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Nd={isMounted:function(t){return(t=t._reactInternals)?Di(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ft(),s=ps(t),i=Ar(r,s);i.payload=e,n!=null&&(i.callback=n),e=ds(t,i,s),e!==null&&(Un(e,t,s,r),Uu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ft(),s=ps(t),i=Ar(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ds(t,i,s),e!==null&&(Un(e,t,s,r),Uu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ft(),r=ps(t),s=Ar(n,r);s.tag=2,e!=null&&(s.callback=e),e=ds(t,s,r),e!==null&&(Un(e,t,r,n),Uu(e,t,r))}};function Tw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Pl(n,r)||!Pl(s,i):!0}function sS(t,e,n){var r=!1,s=Cs,i=e.contextType;return typeof i=="object"&&i!==null?i=Cn(i):(s=Wt(e)?mi:kt.current,r=e.contextTypes,i=(r=r!=null)?Oo(t,s):Cs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function xw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Nd.enqueueReplaceState(e,e.state,null)}function Hm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=rS,Xy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Cn(i):(i=Wt(e)?mi:kt.current,s.context=Oo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Wm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Nd.enqueueReplaceState(s,s.state,null),vh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ia(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===rS&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function hu(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Iw(t){var e=t._init;return e(t._payload)}function iS(t){function e(m,y){if(t){var _=m.deletions;_===null?(m.deletions=[y],m.flags|=16):_.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function s(m,y){return m=ms(m,y),m.index=0,m.sibling=null,m}function i(m,y,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<y?(m.flags|=2,y):_):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,y,_,E){return y===null||y.tag!==6?(y=pp(_,m.mode,E),y.return=m,y):(y=s(y,_),y.return=m,y)}function l(m,y,_,E){var I=_.type;return I===Zi?u(m,y,_.props.children,E,_.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Qr&&Iw(I)===y.type)?(E=s(y,_.props),E.ref=Ia(m,y,_),E.return=m,E):(E=qu(_.type,_.key,_.props,null,m.mode,E),E.ref=Ia(m,y,_),E.return=m,E)}function c(m,y,_,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=mp(_,m.mode,E),y.return=m,y):(y=s(y,_.children||[]),y.return=m,y)}function u(m,y,_,E,I){return y===null||y.tag!==7?(y=hi(_,m.mode,E,I),y.return=m,y):(y=s(y,_),y.return=m,y)}function h(m,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=pp(""+y,m.mode,_),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case eu:return _=qu(y.type,y.key,y.props,null,m.mode,_),_.ref=Ia(m,null,y),_.return=m,_;case Ji:return y=mp(y,m.mode,_),y.return=m,y;case Qr:var E=y._init;return h(m,E(y._payload),_)}if(Fa(y)||va(y))return y=hi(y,m.mode,_,null),y.return=m,y;hu(m,y)}return null}function f(m,y,_,E){var I=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return I!==null?null:a(m,y,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case eu:return _.key===I?l(m,y,_,E):null;case Ji:return _.key===I?c(m,y,_,E):null;case Qr:return I=_._init,f(m,y,I(_._payload),E)}if(Fa(_)||va(_))return I!==null?null:u(m,y,_,E,null);hu(m,_)}return null}function p(m,y,_,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(_)||null,a(y,m,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case eu:return m=m.get(E.key===null?_:E.key)||null,l(y,m,E,I);case Ji:return m=m.get(E.key===null?_:E.key)||null,c(y,m,E,I);case Qr:var A=E._init;return p(m,y,_,A(E._payload),I)}if(Fa(E)||va(E))return m=m.get(_)||null,u(y,m,E,I,null);hu(y,E)}return null}function g(m,y,_,E){for(var I=null,A=null,R=y,C=y=0,k=null;R!==null&&C<_.length;C++){R.index>C?(k=R,R=null):k=R.sibling;var M=f(m,R,_[C],E);if(M===null){R===null&&(R=k);break}t&&R&&M.alternate===null&&e(m,R),y=i(M,y,C),A===null?I=M:A.sibling=M,A=M,R=k}if(C===_.length)return n(m,R),Pe&&Ks(m,C),I;if(R===null){for(;C<_.length;C++)R=h(m,_[C],E),R!==null&&(y=i(R,y,C),A===null?I=R:A.sibling=R,A=R);return Pe&&Ks(m,C),I}for(R=r(m,R);C<_.length;C++)k=p(R,m,C,_[C],E),k!==null&&(t&&k.alternate!==null&&R.delete(k.key===null?C:k.key),y=i(k,y,C),A===null?I=k:A.sibling=k,A=k);return t&&R.forEach(function(X){return e(m,X)}),Pe&&Ks(m,C),I}function v(m,y,_,E){var I=va(_);if(typeof I!="function")throw Error(D(150));if(_=I.call(_),_==null)throw Error(D(151));for(var A=I=null,R=y,C=y=0,k=null,M=_.next();R!==null&&!M.done;C++,M=_.next()){R.index>C?(k=R,R=null):k=R.sibling;var X=f(m,R,M.value,E);if(X===null){R===null&&(R=k);break}t&&R&&X.alternate===null&&e(m,R),y=i(X,y,C),A===null?I=X:A.sibling=X,A=X,R=k}if(M.done)return n(m,R),Pe&&Ks(m,C),I;if(R===null){for(;!M.done;C++,M=_.next())M=h(m,M.value,E),M!==null&&(y=i(M,y,C),A===null?I=M:A.sibling=M,A=M);return Pe&&Ks(m,C),I}for(R=r(m,R);!M.done;C++,M=_.next())M=p(R,m,C,M.value,E),M!==null&&(t&&M.alternate!==null&&R.delete(M.key===null?C:M.key),y=i(M,y,C),A===null?I=M:A.sibling=M,A=M);return t&&R.forEach(function(le){return e(m,le)}),Pe&&Ks(m,C),I}function w(m,y,_,E){if(typeof _=="object"&&_!==null&&_.type===Zi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case eu:e:{for(var I=_.key,A=y;A!==null;){if(A.key===I){if(I=_.type,I===Zi){if(A.tag===7){n(m,A.sibling),y=s(A,_.props.children),y.return=m,m=y;break e}}else if(A.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Qr&&Iw(I)===A.type){n(m,A.sibling),y=s(A,_.props),y.ref=Ia(m,A,_),y.return=m,m=y;break e}n(m,A);break}else e(m,A);A=A.sibling}_.type===Zi?(y=hi(_.props.children,m.mode,E,_.key),y.return=m,m=y):(E=qu(_.type,_.key,_.props,null,m.mode,E),E.ref=Ia(m,y,_),E.return=m,m=E)}return o(m);case Ji:e:{for(A=_.key;y!==null;){if(y.key===A)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(m,y.sibling),y=s(y,_.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=mp(_,m.mode,E),y.return=m,m=y}return o(m);case Qr:return A=_._init,w(m,y,A(_._payload),E)}if(Fa(_))return g(m,y,_,E);if(va(_))return v(m,y,_,E);hu(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(m,y.sibling),y=s(y,_),y.return=m,m=y):(n(m,y),y=pp(_,m.mode,E),y.return=m,m=y),o(m)):n(m,y)}return w}var Lo=iS(!0),oS=iS(!1),yc={},ir=Ls(yc),Nl=Ls(yc),bl=Ls(yc);function ri(t){if(t===yc)throw Error(D(174));return t}function Jy(t,e){switch(ge(bl,e),ge(Nl,t),ge(ir,yc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xm(e,t)}Ie(ir),ge(ir,e)}function Fo(){Ie(ir),Ie(Nl),Ie(bl)}function aS(t){ri(bl.current);var e=ri(ir.current),n=xm(e,t.type);e!==n&&(ge(Nl,t),ge(ir,n))}function Zy(t){Nl.current===t&&(Ie(ir),Ie(Nl))}var Re=Ls(0);function wh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lp=[];function e_(){for(var t=0;t<lp.length;t++)lp[t]._workInProgressVersionPrimary=null;lp.length=0}var $u=Wr.ReactCurrentDispatcher,cp=Wr.ReactCurrentBatchConfig,yi=0,Ne=null,Ke=null,nt=null,Eh=!1,tl=!1,Dl=0,rO=0;function yt(){throw Error(D(321))}function t_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wn(t[n],e[n]))return!1;return!0}function n_(t,e,n,r,s,i){if(yi=i,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$u.current=t===null||t.memoizedState===null?aO:lO,t=n(r,s),tl){i=0;do{if(tl=!1,Dl=0,25<=i)throw Error(D(301));i+=1,nt=Ke=null,e.updateQueue=null,$u.current=cO,t=n(r,s)}while(tl)}if($u.current=Th,e=Ke!==null&&Ke.next!==null,yi=0,nt=Ke=Ne=null,Eh=!1,e)throw Error(D(300));return t}function r_(){var t=Dl!==0;return Dl=0,t}function Qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ne.memoizedState=nt=t:nt=nt.next=t,nt}function Pn(){if(Ke===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var e=nt===null?Ne.memoizedState:nt.next;if(e!==null)nt=e,Ke=t;else{if(t===null)throw Error(D(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},nt===null?Ne.memoizedState=nt=t:nt=nt.next=t}return nt}function Ol(t,e){return typeof e=="function"?e(t):e}function up(t){var e=Pn(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=Ke,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((yi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ne.lanes|=u,_i|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Wn(r,e.memoizedState)||(Bt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ne.lanes|=i,_i|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hp(t){var e=Pn(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Wn(i,e.memoizedState)||(Bt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function lS(){}function cS(t,e){var n=Ne,r=Pn(),s=e(),i=!Wn(r.memoizedState,s);if(i&&(r.memoizedState=s,Bt=!0),r=r.queue,s_(dS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,Ml(9,hS.bind(null,n,r,s,e),void 0,null),st===null)throw Error(D(349));yi&30||uS(n,e,s)}return s}function uS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hS(t,e,n,r){e.value=n,e.getSnapshot=r,fS(e)&&pS(t)}function dS(t,e,n){return n(function(){fS(e)&&pS(t)})}function fS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wn(t,n)}catch{return!0}}function pS(t){var e=Mr(t,1);e!==null&&Un(e,t,1,-1)}function Sw(t){var e=Qn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ol,lastRenderedState:t},e.queue=t,t=t.dispatch=oO.bind(null,Ne,t),[e.memoizedState,t]}function Ml(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mS(){return Pn().memoizedState}function Bu(t,e,n,r){var s=Qn();Ne.flags|=t,s.memoizedState=Ml(1|e,n,void 0,r===void 0?null:r)}function bd(t,e,n,r){var s=Pn();r=r===void 0?null:r;var i=void 0;if(Ke!==null){var o=Ke.memoizedState;if(i=o.destroy,r!==null&&t_(r,o.deps)){s.memoizedState=Ml(e,n,i,r);return}}Ne.flags|=t,s.memoizedState=Ml(1|e,n,i,r)}function Cw(t,e){return Bu(8390656,8,t,e)}function s_(t,e){return bd(2048,8,t,e)}function gS(t,e){return bd(4,2,t,e)}function yS(t,e){return bd(4,4,t,e)}function _S(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vS(t,e,n){return n=n!=null?n.concat([t]):null,bd(4,4,_S.bind(null,e,t),n)}function i_(){}function wS(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&t_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ES(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&t_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function TS(t,e,n){return yi&21?(Wn(n,e)||(n=SI(),Ne.lanes|=n,_i|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function sO(t,e){var n=he;he=n!==0&&4>n?n:4,t(!0);var r=cp.transition;cp.transition={};try{t(!1),e()}finally{he=n,cp.transition=r}}function xS(){return Pn().memoizedState}function iO(t,e,n){var r=ps(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},IS(t))SS(e,n);else if(n=tS(t,e,n,r),n!==null){var s=Ft();Un(n,t,r,s),CS(n,e,r)}}function oO(t,e,n){var r=ps(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(IS(t))SS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Wn(a,o)){var l=e.interleaved;l===null?(s.next=s,Yy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=tS(t,e,s,r),n!==null&&(s=Ft(),Un(n,t,r,s),CS(n,e,r))}}function IS(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function SS(t,e){tl=Eh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function CS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ly(t,n)}}var Th={readContext:Cn,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},aO={readContext:Cn,useCallback:function(t,e){return Qn().memoizedState=[t,e===void 0?null:e],t},useContext:Cn,useEffect:Cw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bu(4194308,4,_S.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bu(4,2,t,e)},useMemo:function(t,e){var n=Qn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=iO.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=Qn();return t={current:t},e.memoizedState=t},useState:Sw,useDebugValue:i_,useDeferredValue:function(t){return Qn().memoizedState=t},useTransition:function(){var t=Sw(!1),e=t[0];return t=sO.bind(null,t[1]),Qn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,s=Qn();if(Pe){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),st===null)throw Error(D(349));yi&30||uS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Cw(dS.bind(null,r,i,t),[t]),r.flags|=2048,Ml(9,hS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Qn(),e=st.identifierPrefix;if(Pe){var n=Tr,r=Er;n=(r&~(1<<32-jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lO={readContext:Cn,useCallback:wS,useContext:Cn,useEffect:s_,useImperativeHandle:vS,useInsertionEffect:gS,useLayoutEffect:yS,useMemo:ES,useReducer:up,useRef:mS,useState:function(){return up(Ol)},useDebugValue:i_,useDeferredValue:function(t){var e=Pn();return TS(e,Ke.memoizedState,t)},useTransition:function(){var t=up(Ol)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:lS,useSyncExternalStore:cS,useId:xS,unstable_isNewReconciler:!1},cO={readContext:Cn,useCallback:wS,useContext:Cn,useEffect:s_,useImperativeHandle:vS,useInsertionEffect:gS,useLayoutEffect:yS,useMemo:ES,useReducer:hp,useRef:mS,useState:function(){return hp(Ol)},useDebugValue:i_,useDeferredValue:function(t){var e=Pn();return Ke===null?e.memoizedState=t:TS(e,Ke.memoizedState,t)},useTransition:function(){var t=hp(Ol)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:lS,useSyncExternalStore:cS,useId:xS,unstable_isNewReconciler:!1};function Vo(t,e){try{var n="",r=e;do n+=F2(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function dp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var uO=typeof WeakMap=="function"?WeakMap:Map;function PS(t,e,n){n=Ar(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ih||(Ih=!0,ng=r),qm(t,e)},n}function AS(t,e,n){n=Ar(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){qm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qm(t,e),typeof r!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Pw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new uO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=IO.bind(null,t,e,n),e.then(t,t))}function Aw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Rw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ar(-1,1),e.tag=2,ds(n,e,1))),n.lanes|=1),t)}var hO=Wr.ReactCurrentOwner,Bt=!1;function Ot(t,e,n,r){e.child=t===null?oS(e,null,n,r):Lo(e,t.child,n,r)}function kw(t,e,n,r,s){n=n.render;var i=e.ref;return xo(e,s),r=n_(t,e,n,r,i,s),n=r_(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Lr(t,e,s)):(Pe&&n&&Wy(e),e.flags|=1,Ot(t,e,r,s),e.child)}function Nw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!f_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,RS(t,e,i,r,s)):(t=qu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Pl,n(o,r)&&t.ref===e.ref)return Lr(t,e,s)}return e.flags|=1,t=ms(i,r),t.ref=e.ref,t.return=e,e.child=t}function RS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Pl(i,r)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,Lr(t,e,s)}return Gm(t,e,n,r,s)}function kS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(co,Yt),Yt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(co,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ge(co,Yt),Yt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ge(co,Yt),Yt|=r;return Ot(t,e,s,n),e.child}function NS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gm(t,e,n,r,s){var i=Wt(n)?mi:kt.current;return i=Oo(e,i),xo(e,s),n=n_(t,e,n,r,i,s),r=r_(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Lr(t,e,s)):(Pe&&r&&Wy(e),e.flags|=1,Ot(t,e,n,s),e.child)}function bw(t,e,n,r,s){if(Wt(n)){var i=!0;ph(e)}else i=!1;if(xo(e,s),e.stateNode===null)zu(t,e),sS(e,n,r),Hm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Cn(c):(c=Wt(n)?mi:kt.current,c=Oo(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&xw(e,o,r,c),Yr=!1;var f=e.memoizedState;o.state=f,vh(e,r,o,s),l=e.memoizedState,a!==r||f!==l||zt.current||Yr?(typeof u=="function"&&(Wm(e,n,u,r),l=e.memoizedState),(a=Yr||Tw(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,nS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:bn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Cn(l):(l=Wt(n)?mi:kt.current,l=Oo(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&xw(e,o,r,l),Yr=!1,f=e.memoizedState,o.state=f,vh(e,r,o,s);var g=e.memoizedState;a!==h||f!==g||zt.current||Yr?(typeof p=="function"&&(Wm(e,n,p,r),g=e.memoizedState),(c=Yr||Tw(e,n,c,r,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Km(t,e,n,r,i,s)}function Km(t,e,n,r,s,i){NS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&yw(e,n,!1),Lr(t,e,i);r=e.stateNode,hO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Lo(e,t.child,null,i),e.child=Lo(e,null,a,i)):Ot(t,e,a,i),e.memoizedState=r.state,s&&yw(e,n,!0),e.child}function bS(t){var e=t.stateNode;e.pendingContext?gw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gw(t,e.context,!1),Jy(t,e.containerInfo)}function Dw(t,e,n,r,s){return Mo(),qy(s),e.flags|=256,Ot(t,e,n,r),e.child}var Qm={dehydrated:null,treeContext:null,retryLane:0};function Ym(t){return{baseLanes:t,cachePool:null,transitions:null}}function DS(t,e,n){var r=e.pendingProps,s=Re.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ge(Re,s&1),t===null)return Bm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Md(o,r,0,null),t=hi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ym(n),e.memoizedState=Qm,t):o_(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return dO(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ms(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ms(a,i):(i=hi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ym(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Qm,r}return i=t.child,t=i.sibling,r=ms(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function o_(t,e){return e=Md({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function du(t,e,n,r){return r!==null&&qy(r),Lo(e,t.child,null,n),t=o_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dO(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=dp(Error(D(422))),du(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Md({mode:"visible",children:r.children},s,0,null),i=hi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Lo(e,t.child,null,o),e.child.memoizedState=Ym(o),e.memoizedState=Qm,i);if(!(e.mode&1))return du(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(D(419)),r=dp(i,r,void 0),du(t,e,o,r)}if(a=(o&t.childLanes)!==0,Bt||a){if(r=st,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Mr(t,s),Un(r,t,s,-1))}return d_(),r=dp(Error(D(421))),du(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=SO.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Zt=hs(s.nextSibling),nn=e,Pe=!0,On=null,t!==null&&(yn[_n++]=Er,yn[_n++]=Tr,yn[_n++]=gi,Er=t.id,Tr=t.overflow,gi=e),e=o_(e,r.children),e.flags|=4096,e)}function Ow(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zm(t.return,e,n)}function fp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function OS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ot(t,e,r.children,n),r=Re.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ow(t,n,e);else if(t.tag===19)Ow(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ge(Re,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&wh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),fp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&wh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}fp(e,!0,n,null,i);break;case"together":fp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Lr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_i|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=ms(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ms(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fO(t,e,n){switch(e.tag){case 3:bS(e),Mo();break;case 5:aS(e);break;case 1:Wt(e.type)&&ph(e);break;case 4:Jy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ge(yh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ge(Re,Re.current&1),e.flags|=128,null):n&e.child.childLanes?DS(t,e,n):(ge(Re,Re.current&1),t=Lr(t,e,n),t!==null?t.sibling:null);ge(Re,Re.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return OS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(Re,Re.current),r)break;return null;case 22:case 23:return e.lanes=0,kS(t,e,n)}return Lr(t,e,n)}var MS,Xm,LS,FS;MS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xm=function(){};LS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ri(ir.current);var i=null;switch(n){case"input":s=vm(t,s),r=vm(t,r),i=[];break;case"select":s=be({},s,{value:void 0}),r=be({},r,{value:void 0}),i=[];break;case"textarea":s=Tm(t,s),r=Tm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dh)}Im(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(wl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(wl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&we("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};FS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Sa(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pO(t,e,n){var r=e.pendingProps;switch(Hy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return Wt(e.type)&&fh(),_t(e),null;case 3:return r=e.stateNode,Fo(),Ie(zt),Ie(kt),e_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(uu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,On!==null&&(ig(On),On=null))),Xm(t,e),_t(e),null;case 5:Zy(e);var s=ri(bl.current);if(n=e.type,t!==null&&e.stateNode!=null)LS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return _t(e),null}if(t=ri(ir.current),uu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Xn]=e,r[kl]=i,t=(e.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(s=0;s<ja.length;s++)we(ja[s],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":z0(r,i),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},we("invalid",r);break;case"textarea":H0(r,i),we("invalid",r)}Im(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&cu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&cu(r.textContent,a,t),s=["children",""+a]):wl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":tu(r),W0(r,i,!0);break;case"textarea":tu(r),q0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=dh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xn]=e,t[kl]=r,MS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sm(n,r),n){case"dialog":we("cancel",t),we("close",t),s=r;break;case"iframe":case"object":case"embed":we("load",t),s=r;break;case"video":case"audio":for(s=0;s<ja.length;s++)we(ja[s],t);s=r;break;case"source":we("error",t),s=r;break;case"img":case"image":case"link":we("error",t),we("load",t),s=r;break;case"details":we("toggle",t),s=r;break;case"input":z0(t,r),s=vm(t,r),we("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=be({},r,{value:void 0}),we("invalid",t);break;case"textarea":H0(t,r),s=Tm(t,r),we("invalid",t);break;default:s=r}Im(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?fI(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hI(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&El(t,l):typeof l=="number"&&El(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(wl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&we("scroll",t):l!=null&&ky(t,i,l,o))}switch(n){case"input":tu(t),W0(t,r,!1);break;case"textarea":tu(t),q0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ss(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?vo(t,!!r.multiple,i,!1):r.defaultValue!=null&&vo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=dh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)FS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=ri(bl.current),ri(ir.current),uu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xn]=e,(i=r.nodeValue!==n)&&(t=nn,t!==null))switch(t.tag){case 3:cu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xn]=e,e.stateNode=r}return _t(e),null;case 13:if(Ie(Re),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&Zt!==null&&e.mode&1&&!(e.flags&128))eS(),Mo(),e.flags|=98560,i=!1;else if(i=uu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(D(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[Xn]=e}else Mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),i=!1}else On!==null&&(ig(On),On=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Re.current&1?Xe===0&&(Xe=3):d_())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return Fo(),Xm(t,e),t===null&&Al(e.stateNode.containerInfo),_t(e),null;case 10:return Qy(e.type._context),_t(e),null;case 17:return Wt(e.type)&&fh(),_t(e),null;case 19:if(Ie(Re),i=e.memoizedState,i===null)return _t(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Sa(i,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wh(t),o!==null){for(e.flags|=128,Sa(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(Re,Re.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ue()>jo&&(e.flags|=128,r=!0,Sa(i,!1),e.lanes=4194304)}else{if(!r)if(t=wh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Sa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Pe)return _t(e),null}else 2*Ue()-i.renderingStartTime>jo&&n!==1073741824&&(e.flags|=128,r=!0,Sa(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ue(),e.sibling=null,n=Re.current,ge(Re,r?n&1|2:n&1),e):(_t(e),null);case 22:case 23:return h_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function mO(t,e){switch(Hy(e),e.tag){case 1:return Wt(e.type)&&fh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fo(),Ie(zt),Ie(kt),e_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zy(e),null;case 13:if(Ie(Re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));Mo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(Re),null;case 4:return Fo(),null;case 10:return Qy(e.type._context),null;case 22:case 23:return h_(),null;case 24:return null;default:return null}}var fu=!1,Tt=!1,gO=typeof WeakSet=="function"?WeakSet:Set,j=null;function lo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(t,e,r)}else n.current=null}function Jm(t,e,n){try{n()}catch(r){Me(t,e,r)}}var Mw=!1;function yO(t,e){if(Mm=ch,t=$I(),zy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lm={focusedElem:t,selectionRange:n},ch=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,w=g.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:bn(e.type,v),w);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(E){Me(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return g=Mw,Mw=!1,g}function nl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Jm(e,n,i)}s=s.next}while(s!==r)}}function Dd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function VS(t){var e=t.alternate;e!==null&&(t.alternate=null,VS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xn],delete e[kl],delete e[jm],delete e[ZD],delete e[eO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jS(t){return t.tag===5||t.tag===3||t.tag===4}function Lw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dh));else if(r!==4&&(t=t.child,t!==null))for(eg(t,e,n),t=t.sibling;t!==null;)eg(t,e,n),t=t.sibling}function tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tg(t,e,n),t=t.sibling;t!==null;)tg(t,e,n),t=t.sibling}var lt=null,Dn=!1;function qr(t,e,n){for(n=n.child;n!==null;)US(t,e,n),n=n.sibling}function US(t,e,n){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(Sd,n)}catch{}switch(n.tag){case 5:Tt||lo(n,e);case 6:var r=lt,s=Dn;lt=null,qr(t,e,n),lt=r,Dn=s,lt!==null&&(Dn?(t=lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):lt.removeChild(n.stateNode));break;case 18:lt!==null&&(Dn?(t=lt,n=n.stateNode,t.nodeType===8?op(t.parentNode,n):t.nodeType===1&&op(t,n),Sl(t)):op(lt,n.stateNode));break;case 4:r=lt,s=Dn,lt=n.stateNode.containerInfo,Dn=!0,qr(t,e,n),lt=r,Dn=s;break;case 0:case 11:case 14:case 15:if(!Tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Jm(n,e,o),s=s.next}while(s!==r)}qr(t,e,n);break;case 1:if(!Tt&&(lo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Me(n,e,a)}qr(t,e,n);break;case 21:qr(t,e,n);break;case 22:n.mode&1?(Tt=(r=Tt)||n.memoizedState!==null,qr(t,e,n),Tt=r):qr(t,e,n);break;default:qr(t,e,n)}}function Fw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gO),e.forEach(function(r){var s=CO.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:lt=a.stateNode,Dn=!1;break e;case 3:lt=a.stateNode.containerInfo,Dn=!0;break e;case 4:lt=a.stateNode.containerInfo,Dn=!0;break e}a=a.return}if(lt===null)throw Error(D(160));US(i,o,s),lt=null,Dn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Me(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$S(e,t),e=e.sibling}function $S(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(e,t),Kn(t),r&4){try{nl(3,t,t.return),Dd(3,t)}catch(v){Me(t,t.return,v)}try{nl(5,t,t.return)}catch(v){Me(t,t.return,v)}}break;case 1:Nn(e,t),Kn(t),r&512&&n!==null&&lo(n,n.return);break;case 5:if(Nn(e,t),Kn(t),r&512&&n!==null&&lo(n,n.return),t.flags&32){var s=t.stateNode;try{El(s,"")}catch(v){Me(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&lI(s,i),Sm(a,o);var c=Sm(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?fI(s,h):u==="dangerouslySetInnerHTML"?hI(s,h):u==="children"?El(s,h):ky(s,u,h,c)}switch(a){case"input":wm(s,i);break;case"textarea":cI(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?vo(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?vo(s,!!i.multiple,i.defaultValue,!0):vo(s,!!i.multiple,i.multiple?[]:"",!1))}s[kl]=i}catch(v){Me(t,t.return,v)}}break;case 6:if(Nn(e,t),Kn(t),r&4){if(t.stateNode===null)throw Error(D(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Me(t,t.return,v)}}break;case 3:if(Nn(e,t),Kn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sl(e.containerInfo)}catch(v){Me(t,t.return,v)}break;case 4:Nn(e,t),Kn(t);break;case 13:Nn(e,t),Kn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(c_=Ue())),r&4&&Fw(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Tt=(c=Tt)||u,Nn(e,t),Tt=c):Nn(e,t),Kn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(j=t,u=t.child;u!==null;){for(h=j=u;j!==null;){switch(f=j,p=f.child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:lo(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Me(r,n,v)}}break;case 5:lo(f,f.return);break;case 22:if(f.memoizedState!==null){jw(h);continue}}p!==null?(p.return=f,j=p):jw(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dI("display",o))}catch(v){Me(t,t.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){Me(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Nn(e,t),Kn(t),r&4&&Fw(t);break;case 21:break;default:Nn(e,t),Kn(t)}}function Kn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jS(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(El(s,""),r.flags&=-33);var i=Lw(t);tg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Lw(t);eg(t,a,o);break;default:throw Error(D(161))}}catch(l){Me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _O(t,e,n){j=t,BS(t)}function BS(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var s=j,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||fu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Tt;a=fu;var c=Tt;if(fu=o,(Tt=l)&&!c)for(j=s;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?Uw(s):l!==null?(l.return=o,j=l):Uw(s);for(;i!==null;)j=i,BS(i),i=i.sibling;j=s,fu=a,Tt=c}Vw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,j=i):Vw(t)}}function Vw(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tt||Dd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:bn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ew(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ew(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Sl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Tt||e.flags&512&&Zm(e)}catch(f){Me(e,e.return,f)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function jw(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function Uw(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Dd(4,e)}catch(l){Me(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Me(e,s,l)}}var i=e.return;try{Zm(e)}catch(l){Me(e,i,l)}break;case 5:var o=e.return;try{Zm(e)}catch(l){Me(e,o,l)}}}catch(l){Me(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var vO=Math.ceil,xh=Wr.ReactCurrentDispatcher,a_=Wr.ReactCurrentOwner,xn=Wr.ReactCurrentBatchConfig,oe=0,st=null,He=null,ft=0,Yt=0,co=Ls(0),Xe=0,Ll=null,_i=0,Od=0,l_=0,rl=null,Ut=null,c_=0,jo=1/0,vr=null,Ih=!1,ng=null,fs=null,pu=!1,is=null,Sh=0,sl=0,rg=null,Wu=-1,Hu=0;function Ft(){return oe&6?Ue():Wu!==-1?Wu:Wu=Ue()}function ps(t){return t.mode&1?oe&2&&ft!==0?ft&-ft:nO.transition!==null?(Hu===0&&(Hu=SI()),Hu):(t=he,t!==0||(t=window.event,t=t===void 0?16:bI(t.type)),t):1}function Un(t,e,n,r){if(50<sl)throw sl=0,rg=null,Error(D(185));pc(t,n,r),(!(oe&2)||t!==st)&&(t===st&&(!(oe&2)&&(Od|=n),Xe===4&&Zr(t,ft)),Ht(t,r),n===1&&oe===0&&!(e.mode&1)&&(jo=Ue()+500,kd&&Fs()))}function Ht(t,e){var n=t.callbackNode;nD(t,e);var r=lh(t,t===st?ft:0);if(r===0)n!==null&&Q0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Q0(n),e===1)t.tag===0?tO($w.bind(null,t)):XI($w.bind(null,t)),XD(function(){!(oe&6)&&Fs()}),n=null;else{switch(CI(r)){case 1:n=My;break;case 4:n=xI;break;case 16:n=ah;break;case 536870912:n=II;break;default:n=ah}n=YS(n,zS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zS(t,e){if(Wu=-1,Hu=0,oe&6)throw Error(D(327));var n=t.callbackNode;if(Io()&&t.callbackNode!==n)return null;var r=lh(t,t===st?ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ch(t,r);else{e=r;var s=oe;oe|=2;var i=HS();(st!==t||ft!==e)&&(vr=null,jo=Ue()+500,ui(t,e));do try{TO();break}catch(a){WS(t,a)}while(!0);Ky(),xh.current=i,oe=s,He!==null?e=0:(st=null,ft=0,e=Xe)}if(e!==0){if(e===2&&(s=km(t),s!==0&&(r=s,e=sg(t,s))),e===1)throw n=Ll,ui(t,0),Zr(t,r),Ht(t,Ue()),n;if(e===6)Zr(t,r);else{if(s=t.current.alternate,!(r&30)&&!wO(s)&&(e=Ch(t,r),e===2&&(i=km(t),i!==0&&(r=i,e=sg(t,i))),e===1))throw n=Ll,ui(t,0),Zr(t,r),Ht(t,Ue()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:Qs(t,Ut,vr);break;case 3:if(Zr(t,r),(r&130023424)===r&&(e=c_+500-Ue(),10<e)){if(lh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ft(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Vm(Qs.bind(null,t,Ut,vr),e);break}Qs(t,Ut,vr);break;case 4:if(Zr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-jn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vO(r/1960))-r,10<r){t.timeoutHandle=Vm(Qs.bind(null,t,Ut,vr),r);break}Qs(t,Ut,vr);break;case 5:Qs(t,Ut,vr);break;default:throw Error(D(329))}}}return Ht(t,Ue()),t.callbackNode===n?zS.bind(null,t):null}function sg(t,e){var n=rl;return t.current.memoizedState.isDehydrated&&(ui(t,e).flags|=256),t=Ch(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&ig(e)),t}function ig(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function wO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Wn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zr(t,e){for(e&=~l_,e&=~Od,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jn(e),r=1<<n;t[n]=-1,e&=~r}}function $w(t){if(oe&6)throw Error(D(327));Io();var e=lh(t,0);if(!(e&1))return Ht(t,Ue()),null;var n=Ch(t,e);if(t.tag!==0&&n===2){var r=km(t);r!==0&&(e=r,n=sg(t,r))}if(n===1)throw n=Ll,ui(t,0),Zr(t,e),Ht(t,Ue()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qs(t,Ut,vr),Ht(t,Ue()),null}function u_(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(jo=Ue()+500,kd&&Fs())}}function vi(t){is!==null&&is.tag===0&&!(oe&6)&&Io();var e=oe;oe|=1;var n=xn.transition,r=he;try{if(xn.transition=null,he=1,t)return t()}finally{he=r,xn.transition=n,oe=e,!(oe&6)&&Fs()}}function h_(){Yt=co.current,Ie(co)}function ui(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,YD(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(Hy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fh();break;case 3:Fo(),Ie(zt),Ie(kt),e_();break;case 5:Zy(r);break;case 4:Fo();break;case 13:Ie(Re);break;case 19:Ie(Re);break;case 10:Qy(r.type._context);break;case 22:case 23:h_()}n=n.return}if(st=t,He=t=ms(t.current,null),ft=Yt=e,Xe=0,Ll=null,l_=Od=_i=0,Ut=rl=null,ni!==null){for(e=0;e<ni.length;e++)if(n=ni[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ni=null}return t}function WS(t,e){do{var n=He;try{if(Ky(),$u.current=Th,Eh){for(var r=Ne.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Eh=!1}if(yi=0,nt=Ke=Ne=null,tl=!1,Dl=0,a_.current=null,n===null||n.return===null){Xe=1,Ll=e,He=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=ft,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Aw(o);if(p!==null){p.flags&=-257,Rw(p,o,a,i,e),p.mode&1&&Pw(i,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){Pw(i,c,e),d_();break e}l=Error(D(426))}}else if(Pe&&a.mode&1){var w=Aw(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Rw(w,o,a,i,e),qy(Vo(l,a));break e}}i=l=Vo(l,a),Xe!==4&&(Xe=2),rl===null?rl=[i]:rl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=PS(i,l,e);ww(i,m);break e;case 1:a=l;var y=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(fs===null||!fs.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=AS(i,a,e);ww(i,E);break e}}i=i.return}while(i!==null)}GS(n)}catch(I){e=I,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function HS(){var t=xh.current;return xh.current=Th,t===null?Th:t}function d_(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),st===null||!(_i&268435455)&&!(Od&268435455)||Zr(st,ft)}function Ch(t,e){var n=oe;oe|=2;var r=HS();(st!==t||ft!==e)&&(vr=null,ui(t,e));do try{EO();break}catch(s){WS(t,s)}while(!0);if(Ky(),oe=n,xh.current=r,He!==null)throw Error(D(261));return st=null,ft=0,Xe}function EO(){for(;He!==null;)qS(He)}function TO(){for(;He!==null&&!G2();)qS(He)}function qS(t){var e=QS(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?GS(t):He=e,a_.current=null}function GS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mO(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,He=null;return}}else if(n=pO(n,e,Yt),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Xe===0&&(Xe=5)}function Qs(t,e,n){var r=he,s=xn.transition;try{xn.transition=null,he=1,xO(t,e,n,r)}finally{xn.transition=s,he=r}return null}function xO(t,e,n,r){do Io();while(is!==null);if(oe&6)throw Error(D(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(rD(t,i),t===st&&(He=st=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pu||(pu=!0,YS(ah,function(){return Io(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=xn.transition,xn.transition=null;var o=he;he=1;var a=oe;oe|=4,a_.current=null,yO(t,n),$S(n,t),zD(Lm),ch=!!Mm,Lm=Mm=null,t.current=n,_O(n),K2(),oe=a,he=o,xn.transition=i}else t.current=n;if(pu&&(pu=!1,is=t,Sh=s),i=t.pendingLanes,i===0&&(fs=null),X2(n.stateNode),Ht(t,Ue()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ih)throw Ih=!1,t=ng,ng=null,t;return Sh&1&&t.tag!==0&&Io(),i=t.pendingLanes,i&1?t===rg?sl++:(sl=0,rg=t):sl=0,Fs(),null}function Io(){if(is!==null){var t=CI(Sh),e=xn.transition,n=he;try{if(xn.transition=null,he=16>t?16:t,is===null)var r=!1;else{if(t=is,is=null,Sh=0,oe&6)throw Error(D(331));var s=oe;for(oe|=4,j=t.current;j!==null;){var i=j,o=i.child;if(j.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(j=c;j!==null;){var u=j;switch(u.tag){case 0:case 11:case 15:nl(8,u,i)}var h=u.child;if(h!==null)h.return=u,j=h;else for(;j!==null;){u=j;var f=u.sibling,p=u.return;if(VS(u),u===c){j=null;break}if(f!==null){f.return=p,j=f;break}j=p}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}j=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,j=o;else e:for(;j!==null;){if(i=j,i.flags&2048)switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,j=m;break e}j=i.return}}var y=t.current;for(j=y;j!==null;){o=j;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,j=_;else e:for(o=y;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dd(9,a)}}catch(I){Me(a,a.return,I)}if(a===o){j=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,j=E;break e}j=a.return}}if(oe=s,Fs(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(Sd,t)}catch{}r=!0}return r}finally{he=n,xn.transition=e}}return!1}function Bw(t,e,n){e=Vo(n,e),e=PS(t,e,1),t=ds(t,e,1),e=Ft(),t!==null&&(pc(t,1,e),Ht(t,e))}function Me(t,e,n){if(t.tag===3)Bw(t,t,n);else for(;e!==null;){if(e.tag===3){Bw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fs===null||!fs.has(r))){t=Vo(n,t),t=AS(e,t,1),e=ds(e,t,1),t=Ft(),e!==null&&(pc(e,1,t),Ht(e,t));break}}e=e.return}}function IO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ft(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(ft&n)===n&&(Xe===4||Xe===3&&(ft&130023424)===ft&&500>Ue()-c_?ui(t,0):l_|=n),Ht(t,e)}function KS(t,e){e===0&&(t.mode&1?(e=su,su<<=1,!(su&130023424)&&(su=4194304)):e=1);var n=Ft();t=Mr(t,e),t!==null&&(pc(t,e,n),Ht(t,n))}function SO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),KS(t,n)}function CO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),KS(t,n)}var QS;QS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zt.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,fO(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,Pe&&e.flags&1048576&&JI(e,gh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zu(t,e),t=e.pendingProps;var s=Oo(e,kt.current);xo(e,n),s=n_(null,e,r,t,s,n);var i=r_();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wt(r)?(i=!0,ph(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xy(e),s.updater=Nd,e.stateNode=s,s._reactInternals=e,Hm(e,r,t,n),e=Km(null,e,r,!0,i,n)):(e.tag=0,Pe&&i&&Wy(e),Ot(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=AO(r),t=bn(r,t),s){case 0:e=Gm(null,e,r,t,n);break e;case 1:e=bw(null,e,r,t,n);break e;case 11:e=kw(null,e,r,t,n);break e;case 14:e=Nw(null,e,r,bn(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bn(r,s),Gm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bn(r,s),bw(t,e,r,s,n);case 3:e:{if(bS(e),t===null)throw Error(D(387));r=e.pendingProps,i=e.memoizedState,s=i.element,nS(t,e),vh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Vo(Error(D(423)),e),e=Dw(t,e,r,n,s);break e}else if(r!==s){s=Vo(Error(D(424)),e),e=Dw(t,e,r,n,s);break e}else for(Zt=hs(e.stateNode.containerInfo.firstChild),nn=e,Pe=!0,On=null,n=oS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mo(),r===s){e=Lr(t,e,n);break e}Ot(t,e,r,n)}e=e.child}return e;case 5:return aS(e),t===null&&Bm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Fm(r,s)?o=null:i!==null&&Fm(r,i)&&(e.flags|=32),NS(t,e),Ot(t,e,o,n),e.child;case 6:return t===null&&Bm(e),null;case 13:return DS(t,e,n);case 4:return Jy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Lo(e,null,r,n):Ot(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bn(r,s),kw(t,e,r,s,n);case 7:return Ot(t,e,e.pendingProps,n),e.child;case 8:return Ot(t,e,e.pendingProps.children,n),e.child;case 12:return Ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ge(yh,r._currentValue),r._currentValue=o,i!==null)if(Wn(i.value,o)){if(i.children===s.children&&!zt.current){e=Lr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ar(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),zm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),zm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ot(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,xo(e,n),s=Cn(s),r=r(s),e.flags|=1,Ot(t,e,r,n),e.child;case 14:return r=e.type,s=bn(r,e.pendingProps),s=bn(r.type,s),Nw(t,e,r,s,n);case 15:return RS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bn(r,s),zu(t,e),e.tag=1,Wt(r)?(t=!0,ph(e)):t=!1,xo(e,n),sS(e,r,s),Hm(e,r,s,n),Km(null,e,r,!0,t,n);case 19:return OS(t,e,n);case 22:return kS(t,e,n)}throw Error(D(156,e.tag))};function YS(t,e){return TI(t,e)}function PO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,e,n,r){return new PO(t,e,n,r)}function f_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AO(t){if(typeof t=="function")return f_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===by)return 11;if(t===Dy)return 14}return 2}function ms(t,e){var n=t.alternate;return n===null?(n=wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")f_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zi:return hi(n.children,s,i,e);case Ny:o=8,s|=8;break;case mm:return t=wn(12,n,e,s|2),t.elementType=mm,t.lanes=i,t;case gm:return t=wn(13,n,e,s),t.elementType=gm,t.lanes=i,t;case ym:return t=wn(19,n,e,s),t.elementType=ym,t.lanes=i,t;case iI:return Md(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rI:o=10;break e;case sI:o=9;break e;case by:o=11;break e;case Dy:o=14;break e;case Qr:o=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=wn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function hi(t,e,n,r){return t=wn(7,t,r,e),t.lanes=n,t}function Md(t,e,n,r){return t=wn(22,t,r,e),t.elementType=iI,t.lanes=n,t.stateNode={isHidden:!1},t}function pp(t,e,n){return t=wn(6,t,null,e),t.lanes=n,t}function mp(t,e,n){return e=wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RO(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qf(0),this.expirationTimes=Qf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function p_(t,e,n,r,s,i,o,a,l){return t=new RO(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=wn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xy(i),t}function kO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ji,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function XS(t){if(!t)return Cs;t=t._reactInternals;e:{if(Di(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(Wt(n))return YI(t,n,e)}return e}function JS(t,e,n,r,s,i,o,a,l){return t=p_(n,r,!0,t,s,i,o,a,l),t.context=XS(null),n=t.current,r=Ft(),s=ps(n),i=Ar(r,s),i.callback=e??null,ds(n,i,s),t.current.lanes=s,pc(t,s,r),Ht(t,r),t}function Ld(t,e,n,r){var s=e.current,i=Ft(),o=ps(s);return n=XS(n),e.context===null?e.context=n:e.pendingContext=n,e=Ar(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ds(s,e,o),t!==null&&(Un(t,s,o,i),Uu(t,s,o)),o}function Ph(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function m_(t,e){zw(t,e),(t=t.alternate)&&zw(t,e)}function NO(){return null}var ZS=typeof reportError=="function"?reportError:function(t){console.error(t)};function g_(t){this._internalRoot=t}Fd.prototype.render=g_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));Ld(t,e,null,null)};Fd.prototype.unmount=g_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vi(function(){Ld(null,t,null,null)}),e[Or]=null}};function Fd(t){this._internalRoot=t}Fd.prototype.unstable_scheduleHydration=function(t){if(t){var e=RI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jr.length&&e!==0&&e<Jr[n].priority;n++);Jr.splice(n,0,t),n===0&&NI(t)}};function y_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ww(){}function bO(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Ph(o);i.call(c)}}var o=JS(e,r,t,0,null,!1,!1,"",Ww);return t._reactRootContainer=o,t[Or]=o.current,Al(t.nodeType===8?t.parentNode:t),vi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Ph(l);a.call(c)}}var l=p_(t,0,!1,null,null,!1,!1,"",Ww);return t._reactRootContainer=l,t[Or]=l.current,Al(t.nodeType===8?t.parentNode:t),vi(function(){Ld(e,l,n,r)}),l}function jd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ph(o);a.call(l)}}Ld(e,o,t,s)}else o=bO(n,e,t,s,r);return Ph(o)}PI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Va(e.pendingLanes);n!==0&&(Ly(e,n|1),Ht(e,Ue()),!(oe&6)&&(jo=Ue()+500,Fs()))}break;case 13:vi(function(){var r=Mr(t,1);if(r!==null){var s=Ft();Un(r,t,1,s)}}),m_(t,1)}};Fy=function(t){if(t.tag===13){var e=Mr(t,134217728);if(e!==null){var n=Ft();Un(e,t,134217728,n)}m_(t,134217728)}};AI=function(t){if(t.tag===13){var e=ps(t),n=Mr(t,e);if(n!==null){var r=Ft();Un(n,t,e,r)}m_(t,e)}};RI=function(){return he};kI=function(t,e){var n=he;try{return he=t,e()}finally{he=n}};Pm=function(t,e,n){switch(e){case"input":if(wm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Rd(r);if(!s)throw Error(D(90));aI(r),wm(r,s)}}}break;case"textarea":cI(t,n);break;case"select":e=n.value,e!=null&&vo(t,!!n.multiple,e,!1)}};gI=u_;yI=vi;var DO={usingClientEntryPoint:!1,Events:[gc,ro,Rd,pI,mI,u_]},Ca={findFiberByHostInstance:ti,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},OO={bundleType:Ca.bundleType,version:Ca.version,rendererPackageName:Ca.rendererPackageName,rendererConfig:Ca.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wI(t),t===null?null:t.stateNode},findFiberByHostInstance:Ca.findFiberByHostInstance||NO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mu.isDisabled&&mu.supportsFiber)try{Sd=mu.inject(OO),sr=mu}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DO;dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y_(e))throw Error(D(200));return kO(t,e,null,n)};dn.createRoot=function(t,e){if(!y_(t))throw Error(D(299));var n=!1,r="",s=ZS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=p_(t,1,!1,null,null,n,!1,r,s),t[Or]=e.current,Al(t.nodeType===8?t.parentNode:t),new g_(e)};dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=wI(e),t=t===null?null:t.stateNode,t};dn.flushSync=function(t){return vi(t)};dn.hydrate=function(t,e,n){if(!Vd(e))throw Error(D(200));return jd(null,t,e,!0,n)};dn.hydrateRoot=function(t,e,n){if(!y_(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ZS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=JS(e,null,t,1,n??null,s,!1,i,o),t[Or]=e.current,Al(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Fd(e)};dn.render=function(t,e,n){if(!Vd(e))throw Error(D(200));return jd(null,t,e,!1,n)};dn.unmountComponentAtNode=function(t){if(!Vd(t))throw Error(D(40));return t._reactRootContainer?(vi(function(){jd(null,null,t,!1,function(){t._reactRootContainer=null,t[Or]=null})}),!0):!1};dn.unstable_batchedUpdates=u_;dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vd(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return jd(t,e,n,!1,r)};dn.version="18.2.0-next-9e3b772b8-20220608";function eC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eC)}catch(t){console.error(t)}}eC(),Jx.exports=dn;var MO=Jx.exports,Hw=MO;fm.createRoot=Hw.createRoot,fm.hydrateRoot=Hw.hydrateRoot;function at(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var LO=typeof Symbol=="function"&&Symbol.observable||"@@observable",qw=LO,gp=()=>Math.random().toString(36).substring(7).split("").join("."),FO={INIT:`@@redux/INIT${gp()}`,REPLACE:`@@redux/REPLACE${gp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${gp()}`},Ah=FO;function __(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function tC(t,e,n){if(typeof t!="function")throw new Error(at(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(at(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(at(1));return n(tC)(t,e)}let r=t,s=e,i=new Map,o=i,a=0,l=!1;function c(){o===i&&(o=new Map,i.forEach((w,m)=>{o.set(m,w)}))}function u(){if(l)throw new Error(at(3));return s}function h(w){if(typeof w!="function")throw new Error(at(4));if(l)throw new Error(at(5));let m=!0;c();const y=a++;return o.set(y,w),function(){if(m){if(l)throw new Error(at(6));m=!1,c(),o.delete(y),i=null}}}function f(w){if(!__(w))throw new Error(at(7));if(typeof w.type>"u")throw new Error(at(8));if(typeof w.type!="string")throw new Error(at(17));if(l)throw new Error(at(9));try{l=!0,s=r(s,w)}finally{l=!1}return(i=o).forEach(y=>{y()}),w}function p(w){if(typeof w!="function")throw new Error(at(10));r=w,f({type:Ah.REPLACE})}function g(){const w=h;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error(at(11));function y(){const E=m;E.next&&E.next(u())}return y(),{unsubscribe:w(y)}},[qw](){return this}}}return f({type:Ah.INIT}),{dispatch:f,subscribe:h,getState:u,replaceReducer:p,[qw]:g}}function VO(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Ah.INIT})>"u")throw new Error(at(12));if(typeof n(void 0,{type:Ah.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(at(13))})}function jO(t){const e=Object.keys(t),n={};for(let i=0;i<e.length;i++){const o=e[i];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let s;try{VO(n)}catch(i){s=i}return function(o={},a){if(s)throw s;let l=!1;const c={};for(let u=0;u<r.length;u++){const h=r[u],f=n[h],p=o[h],g=f(p,a);if(typeof g>"u")throw a&&a.type,new Error(at(14));c[h]=g,l=l||g!==p}return l=l||r.length!==Object.keys(o).length,l?c:o}}function Rh(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function UO(...t){return e=>(n,r)=>{const s=e(n,r);let i=()=>{throw new Error(at(15))};const o={getState:s.getState,dispatch:(l,...c)=>i(l,...c)},a=t.map(l=>l(o));return i=Rh(...a)(s.dispatch),{...s,dispatch:i}}}function $O(t){return __(t)&&"type"in t&&typeof t.type=="string"}var nC=Symbol.for("immer-nothing"),Gw=Symbol.for("immer-draftable"),on=Symbol.for("immer-state");function Mn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Uo=Object.getPrototypeOf;function Ps(t){return!!t&&!!t[on]}function Fr(t){var e;return t?rC(t)||Array.isArray(t)||!!t[Gw]||!!((e=t.constructor)!=null&&e[Gw])||$d(t)||Bd(t):!1}var BO=Object.prototype.constructor.toString();function rC(t){if(!t||typeof t!="object")return!1;const e=Uo(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===BO}function Fl(t,e){Ud(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function Ud(t){const e=t[on];return e?e.type_:Array.isArray(t)?1:$d(t)?2:Bd(t)?3:0}function og(t,e){return Ud(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function sC(t,e,n){const r=Ud(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function zO(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function $d(t){return t instanceof Map}function Bd(t){return t instanceof Set}function Ys(t){return t.copy_||t.base_}function ag(t,e){if($d(t))return new Map(t);if(Bd(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&rC(t))return Uo(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[on];let r=Reflect.ownKeys(n);for(let s=0;s<r.length;s++){const i=r[s],o=n[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Uo(t),n)}function v_(t,e=!1){return zd(t)||Ps(t)||!Fr(t)||(Ud(t)>1&&(t.set=t.add=t.clear=t.delete=WO),Object.freeze(t),e&&Fl(t,(n,r)=>v_(r,!0))),t}function WO(){Mn(2)}function zd(t){return Object.isFrozen(t)}var HO={};function wi(t){const e=HO[t];return e||Mn(0,t),e}var Vl;function iC(){return Vl}function qO(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Kw(t,e){e&&(wi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function lg(t){cg(t),t.drafts_.forEach(GO),t.drafts_=null}function cg(t){t===Vl&&(Vl=t.parent_)}function Qw(t){return Vl=qO(Vl,t)}function GO(t){const e=t[on];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Yw(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[on].modified_&&(lg(e),Mn(4)),Fr(t)&&(t=kh(e,t),e.parent_||Nh(e,t)),e.patches_&&wi("Patches").generateReplacementPatches_(n[on].base_,t,e.patches_,e.inversePatches_)):t=kh(e,n,[]),lg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==nC?t:void 0}function kh(t,e,n){if(zd(e))return e;const r=e[on];if(!r)return Fl(e,(s,i)=>Xw(t,r,e,s,i,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Nh(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let i=s,o=!1;r.type_===3&&(i=new Set(s),s.clear(),o=!0),Fl(i,(a,l)=>Xw(t,r,s,a,l,n,o)),Nh(t,s,!1),n&&t.patches_&&wi("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Xw(t,e,n,r,s,i,o){if(Ps(s)){const a=i&&e&&e.type_!==3&&!og(e.assigned_,r)?i.concat(r):void 0,l=kh(t,s,a);if(sC(n,r,l),Ps(l))t.canAutoFreeze_=!1;else return}else o&&n.add(s);if(Fr(s)&&!zd(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;kh(t,s),(!e||!e.scope_.parent_)&&Nh(t,s)}}function Nh(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&v_(e,n)}function KO(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:iC(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,i=w_;n&&(s=[r],i=jl);const{revoke:o,proxy:a}=Proxy.revocable(s,i);return r.draft_=a,r.revoke_=o,a}var w_={get(t,e){if(e===on)return t;const n=Ys(t);if(!og(n,e))return QO(t,n,e);const r=n[e];return t.finalized_||!Fr(r)?r:r===yp(t.base_,e)?(_p(t),t.copy_[e]=hg(r,t)):r},has(t,e){return e in Ys(t)},ownKeys(t){return Reflect.ownKeys(Ys(t))},set(t,e,n){const r=oC(Ys(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const s=yp(Ys(t),e),i=s==null?void 0:s[on];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(zO(n,s)&&(n!==void 0||og(t.base_,e)))return!0;_p(t),ug(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return yp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,_p(t),ug(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ys(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Mn(11)},getPrototypeOf(t){return Uo(t.base_)},setPrototypeOf(){Mn(12)}},jl={};Fl(w_,(t,e)=>{jl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});jl.deleteProperty=function(t,e){return jl.set.call(this,t,e,void 0)};jl.set=function(t,e,n){return w_.set.call(this,t[0],e,n,t[0])};function yp(t,e){const n=t[on];return(n?Ys(n):t)[e]}function QO(t,e,n){var s;const r=oC(e,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(t.draft_):void 0}function oC(t,e){if(!(e in t))return;let n=Uo(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Uo(n)}}function ug(t){t.modified_||(t.modified_=!0,t.parent_&&ug(t.parent_))}function _p(t){t.copy_||(t.copy_=ag(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var YO=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const i=n;n=e;const o=this;return function(l=i,...c){return o.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&Mn(6),r!==void 0&&typeof r!="function"&&Mn(7);let s;if(Fr(e)){const i=Qw(this),o=hg(e,void 0);let a=!0;try{s=n(o),a=!1}finally{a?lg(i):cg(i)}return Kw(i,r),Yw(s,i)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===nC&&(s=void 0),this.autoFreeze_&&v_(s,!0),r){const i=[],o=[];wi("Patches").generateReplacementPatches_(e,s,i,o),r(i,o)}return s}else Mn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,s;return[this.produce(e,n,(o,a)=>{r=o,s=a}),r,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Fr(t)||Mn(8),Ps(t)&&(t=aC(t));const e=Qw(this),n=hg(t,void 0);return n[on].isManual_=!0,cg(e),n}finishDraft(t,e){const n=t&&t[on];(!n||!n.isManual_)&&Mn(9);const{scope_:r}=n;return Kw(r,e),Yw(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const r=wi("Patches").applyPatches_;return Ps(t)?r(t,e):this.produce(t,s=>r(s,e))}};function hg(t,e){const n=$d(t)?wi("MapSet").proxyMap_(t,e):Bd(t)?wi("MapSet").proxySet_(t,e):KO(t,e);return(e?e.scope_:iC()).drafts_.push(n),n}function aC(t){return Ps(t)||Mn(10,t),lC(t)}function lC(t){if(!Fr(t)||zd(t))return t;const e=t[on];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=ag(t,e.scope_.immer_.useStrictShallowCopy_)}else n=ag(t,!0);return Fl(n,(r,s)=>{sC(n,r,lC(s))}),e&&(e.finalized_=!1),n}var an=new YO,cC=an.produce;an.produceWithPatches.bind(an);an.setAutoFreeze.bind(an);an.setUseStrictShallowCopy.bind(an);an.applyPatches.bind(an);an.createDraft.bind(an);an.finishDraft.bind(an);function XO(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function JO(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Jw=t=>Array.isArray(t)?t:[t];function ZO(t){const e=Array.isArray(t[0])?t[0]:t;return JO(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function e4(t,e){const n=[],{length:r}=t;for(let s=0;s<r;s++)n.push(t[s].apply(null,e));return n}var t4=class{constructor(t){this.value=t}deref(){return this.value}},n4=typeof WeakRef<"u"?WeakRef:t4,r4=0,Zw=1;function gu(){return{s:r4,v:void 0,o:null,p:null}}function uC(t,e={}){let n=gu();const{resultEqualityCheck:r}=e;let s,i=0;function o(){let a=n;const{length:l}=arguments;for(let h=0,f=l;h<f;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=a.o;g===null&&(a.o=g=new WeakMap);const v=g.get(p);v===void 0?(a=gu(),g.set(p,a)):a=v}else{let g=a.p;g===null&&(a.p=g=new Map);const v=g.get(p);v===void 0?(a=gu(),g.set(p,a)):a=v}}const c=a;let u;if(a.s===Zw?u=a.v:(u=t.apply(null,arguments),i++),c.s=Zw,r){const h=(s==null?void 0:s.deref())??s;h!=null&&r(h,u)&&(u=h,i!==0&&i--),s=typeof u=="object"&&u!==null||typeof u=="function"?new n4(u):u}return c.v=u,u}return o.clearCache=()=>{n=gu(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function s4(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t;return(...s)=>{let i=0,o=0,a,l={},c=s.pop();typeof c=="object"&&(l=c,c=s.pop()),XO(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:h,memoizeOptions:f=[],argsMemoize:p=uC,argsMemoizeOptions:g=[],devModeChecks:v={}}=u,w=Jw(f),m=Jw(g),y=ZO(s),_=h(function(){return i++,c.apply(null,arguments)},...w),E=p(function(){o++;const A=e4(y,arguments);return a=_.apply(null,A),a},...m);return Object.assign(E,{resultFunc:c,memoizedResultFunc:_,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:h,argsMemoize:p})}}function hC(t){return({dispatch:n,getState:r})=>s=>i=>typeof i=="function"?i(n,r,t):s(i)}var i4=hC(),o4=hC,a4=(...t)=>{const e=s4(...t);return(...n)=>{const r=e(...n),s=(i,...o)=>r(Ps(i)?aC(i):i,...o);return Object.assign(s,r),s}};a4(uC);var l4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Rh:Rh.apply(null,arguments)};function Ul(t,e){function n(...r){if(e){let s=e(...r);if(!s)throw new Error($n(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>$O(r)&&r.type===t,n}var dC=class Ua extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ua.prototype)}static get[Symbol.species](){return Ua}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ua(...e[0].concat(this)):new Ua(...e.concat(this))}};function eE(t){return Fr(t)?cC(t,()=>{}):t}function tE(t,e,n){if(t.has(e)){let s=t.get(e);return n.update&&(s=n.update(s,e,t),t.set(e,s)),s}if(!n.insert)throw new Error($n(10));const r=n.insert(e,t);return t.set(e,r),r}function c4(t){return typeof t=="boolean"}var u4=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=e??{};let o=new dC;return n&&(c4(n)?o.push(i4):o.push(o4(n.extraArgument))),o},h4="RTK_autoBatch",fC=t=>e=>{setTimeout(e,t)},d4=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:fC(10),f4=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let s=!0,i=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?d4:t.type==="callback"?t.queueNotification:fC(t.timeout),c=()=>{o=!1,i&&(i=!1,a.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const h=()=>s&&u(),f=r.subscribe(h);return a.add(u),()=>{f(),a.delete(u)}},dispatch(u){var h;try{return s=!((h=u==null?void 0:u.meta)!=null&&h[h4]),i=!s,i&&(o||(o=!0,l(c))),r.dispatch(u)}finally{s=!0}}})},p4=t=>function(n){const{autoBatch:r=!0}=n??{};let s=new dC(t);return r&&s.push(f4(typeof r=="object"?r:void 0)),s},m4=!0;function g4(t){const e=u4(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(__(n))a=jO(n);else throw new Error($n(1));let l;typeof r=="function"?l=r(e):l=e();let c=Rh;s&&(c=l4({trace:!m4,...typeof s=="object"&&s}));const u=UO(...l),h=p4(u);let f=typeof o=="function"?o(h):h();const p=c(...f);return tC(a,i,p)}function pC(t){const e={},n=[];let r;const s={addCase(i,o){const a=typeof i=="string"?i:i.type;if(!a)throw new Error($n(28));if(a in e)throw new Error($n(29));return e[a]=o,s},addMatcher(i,o){return n.push({matcher:i,reducer:o}),s},addDefaultCase(i){return r=i,s}};return t(s),[e,n,r]}function y4(t){return typeof t=="function"}function _4(t,e){let[n,r,s]=pC(e),i;if(y4(t))i=()=>eE(t());else{const a=eE(t);i=()=>a}function o(a=i(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[s]),c.reduce((u,h)=>{if(h)if(Ps(u)){const p=h(u,l);return p===void 0?u:p}else{if(Fr(u))return cC(u,f=>h(f,l));{const f=h(u,l);if(f===void 0){if(u===null)return u;throw new Error($n(9))}return f}}return u},a)}return o.getInitialState=i,o}var v4=Symbol.for("rtk-slice-createasyncthunk");function w4(t,e){return`${t}/${e}`}function E4({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[v4];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error($n(11));typeof process<"u";const a=(typeof s.reducers=="function"?s.reducers(I4()):s.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(w,m){const y=typeof w=="string"?w:w.type;if(!y)throw new Error($n(12));if(y in c.sliceCaseReducersByType)throw new Error($n(13));return c.sliceCaseReducersByType[y]=m,u},addMatcher(w,m){return c.sliceMatchers.push({matcher:w,reducer:m}),u},exposeAction(w,m){return c.actionCreators[w]=m,u},exposeCaseReducer(w,m){return c.sliceCaseReducersByName[w]=m,u}};l.forEach(w=>{const m=a[w],y={reducerName:w,type:w4(i,w),createNotation:typeof s.reducers=="function"};C4(m)?A4(y,m,u,e):S4(y,m,u)});function h(){const[w={},m=[],y=void 0]=typeof s.extraReducers=="function"?pC(s.extraReducers):[s.extraReducers],_={...w,...c.sliceCaseReducersByType};return _4(s.initialState,E=>{for(let I in _)E.addCase(I,_[I]);for(let I of c.sliceMatchers)E.addMatcher(I.matcher,I.reducer);for(let I of m)E.addMatcher(I.matcher,I.reducer);y&&E.addDefaultCase(y)})}const f=w=>w,p=new WeakMap;let g;const v={name:i,reducerPath:o,reducer(w,m){return g||(g=h()),g(w,m)},actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState(){return g||(g=h()),g.getInitialState()},getSelectors(w=f){const m=tE(p,this,{insert:()=>new WeakMap});return tE(m,w,{insert:()=>{const y={};for(const[_,E]of Object.entries(s.selectors??{}))y[_]=T4(this,E,w,this!==v);return y}})},selectSlice(w){let m=w[this.reducerPath];return typeof m>"u"&&this!==v&&(m=this.getInitialState()),m},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(w,{reducerPath:m,...y}={}){const _=m??this.reducerPath;return w.inject({reducerPath:_,reducer:this.reducer},y),{...this,reducerPath:_}}};return v}}function T4(t,e,n,r){function s(i,...o){let a=n.call(t,i);return typeof a>"u"&&r&&(a=t.getInitialState()),e(a,...o)}return s.unwrapped=e,s}var x4=E4();function I4(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function S4({type:t,reducerName:e,createNotation:n},r,s){let i,o;if("reducer"in r){if(n&&!P4(r))throw new Error($n(17));i=r.reducer,o=r.prepare}else i=r;s.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,o?Ul(t,o):Ul(t))}function C4(t){return t._reducerDefinitionType==="asyncThunk"}function P4(t){return t._reducerDefinitionType==="reducerWithPrepare"}function A4({type:t,reducerName:e},n,r,s){if(!s)throw new Error($n(18));const{payloadCreator:i,fulfilled:o,pending:a,rejected:l,settled:c,options:u}=n,h=s(t,i,u);r.exposeAction(e,h),o&&r.addCase(h.fulfilled,o),a&&r.addCase(h.pending,a),l&&r.addCase(h.rejected,l),c&&r.addMatcher(h.settled,c),r.exposeCaseReducer(e,{fulfilled:o||yu,pending:a||yu,rejected:l||yu,settled:c||yu})}function yu(){}var E_="listenerMiddleware";Ul(`${E_}/add`);Ul(`${E_}/removeAll`);Ul(`${E_}/remove`);function $n(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var nE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L=function(t,e){if(!t)throw ia(e)},ia=function(t){return new Error("Firebase Database ("+mC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},R4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},T_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):R4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new k4;const f=i<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const g=c<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class k4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yC=function(t){const e=gC(t);return T_.encodeByteArray(e,!0)},bh=function(t){return yC(t).replace(/\./g,"")},Dh=function(t){try{return T_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t){return _C(void 0,t)}function _C(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!b4(n)||(t[n]=_C(t[n],e[n]));return t}function b4(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=()=>D4().__FIREBASE_DEFAULTS__,M4=()=>{if(typeof process>"u"||typeof nE>"u")return;const t=nE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},L4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Dh(t[1]);return e&&JSON.parse(e)},x_=()=>{try{return O4()||M4()||L4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vC=t=>{var e,n;return(n=(e=x_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wC=t=>{const e=vC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},EC=()=>{var t;return(t=x_())===null||t===void 0?void 0:t.config},TC=t=>{var e;return(e=x_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[bh(JSON.stringify(n)),bh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function IC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F4(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function CC(){return mC.NODE_ADMIN===!0}function PC(){try{return typeof indexedDB=="object"}catch{return!1}}function AC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function V4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="FirebaseError";class kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=j4,Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oi.prototype.create)}}class Oi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?U4(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new kn(s,a,r)}}function U4(t,e){return t.replace($4,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const $4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t){return JSON.parse(t)}function ht(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=$l(Dh(i[0])||""),n=$l(Dh(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},B4=function(t){const e=RC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},z4=function(t){const e=RC(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $o(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function dg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Oh(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Mh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(rE(i)&&rE(o)){if(!Mh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function rE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $a(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ba(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):h<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const f=(s<<5|s>>>27)+c+l+u+r[h]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function H4(t,e){const n=new q4(t,e);return n.subscribe.bind(n)}class q4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");G4(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=vp),s.error===void 0&&(s.error=vp),s.complete===void 0&&(s.complete=vp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vp(){}function K4(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,L(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Wd=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=1e3,X4=2,J4=4*60*60*1e3,Z4=.5;function sE(t,e=Y4,n=X4){const r=e*Math.pow(n,t),s=Math.round(Z4*r*(Math.random()-.5)*2);return Math.min(J4,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t){return t&&t._delegate?t._delegate:t}class ln{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eM=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new I_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nM(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function tM(t){return t===Xs?void 0:t}function nM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Z||(Z={}));const sM={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},iM=Z.INFO,oM={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},aM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=oM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _c{constructor(e){this.name=e,this._logLevel=iM,this._logHandler=aM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Z))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...e),this._logHandler(this,Z.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...e),this._logHandler(this,Z.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...e),this._logHandler(this,Z.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...e),this._logHandler(this,Z.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...e),this._logHandler(this,Z.ERROR,...e)}}const lM=(t,e)=>e.some(n=>t instanceof n);let iE,oE;function cM(){return iE||(iE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uM(){return oE||(oE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kC=new WeakMap,fg=new WeakMap,NC=new WeakMap,wp=new WeakMap,C_=new WeakMap;function hM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(gs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&kC.set(n,t)}).catch(()=>{}),C_.set(e,t),e}function dM(t){if(fg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});fg.set(t,e)}let pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fM(t){pg=t(pg)}function pM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ep(this),e,...n);return NC.set(r,e.sort?e.sort():[e]),gs(r)}:uM().includes(t)?function(...e){return t.apply(Ep(this),e),gs(kC.get(this))}:function(...e){return gs(t.apply(Ep(this),e))}}function mM(t){return typeof t=="function"?pM(t):(t instanceof IDBTransaction&&dM(t),lM(t,cM())?new Proxy(t,pg):t)}function gs(t){if(t instanceof IDBRequest)return hM(t);if(wp.has(t))return wp.get(t);const e=mM(t);return e!==t&&(wp.set(t,e),C_.set(e,t)),e}const Ep=t=>C_.get(t);function gM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=gs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(gs(o.result),l.oldVersion,l.newVersion,gs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const yM=["get","getKey","getAll","getAllKeys","count"],_M=["put","add","delete","clear"],Tp=new Map;function aE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tp.get(e))return Tp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=_M.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||yM.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Tp.set(e,i),i}fM(t=>({...t,get:(e,n,r)=>aE(e,n)||t.get(e,n,r),has:(e,n)=>!!aE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mg="@firebase/app",lE="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new _c("@firebase/app"),EM="@firebase/app-compat",TM="@firebase/analytics-compat",xM="@firebase/analytics",IM="@firebase/app-check-compat",SM="@firebase/app-check",CM="@firebase/auth",PM="@firebase/auth-compat",AM="@firebase/database",RM="@firebase/database-compat",kM="@firebase/functions",NM="@firebase/functions-compat",bM="@firebase/installations",DM="@firebase/installations-compat",OM="@firebase/messaging",MM="@firebase/messaging-compat",LM="@firebase/performance",FM="@firebase/performance-compat",VM="@firebase/remote-config",jM="@firebase/remote-config-compat",UM="@firebase/storage",$M="@firebase/storage-compat",BM="@firebase/firestore",zM="@firebase/firestore-compat",WM="firebase",HM="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="[DEFAULT]",qM={[mg]:"fire-core",[EM]:"fire-core-compat",[xM]:"fire-analytics",[TM]:"fire-analytics-compat",[SM]:"fire-app-check",[IM]:"fire-app-check-compat",[CM]:"fire-auth",[PM]:"fire-auth-compat",[AM]:"fire-rtdb",[RM]:"fire-rtdb-compat",[kM]:"fire-fn",[NM]:"fire-fn-compat",[bM]:"fire-iid",[DM]:"fire-iid-compat",[OM]:"fire-fcm",[MM]:"fire-fcm-compat",[LM]:"fire-perf",[FM]:"fire-perf-compat",[VM]:"fire-rc",[jM]:"fire-rc-compat",[UM]:"fire-gcs",[$M]:"fire-gcs-compat",[BM]:"fire-fst",[zM]:"fire-fst-compat","fire-js":"fire-js",[WM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new Map,yg=new Map;function GM(t,e){try{t.container.addComponent(e)}catch(n){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function An(t){const e=t.name;if(yg.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;yg.set(e,t);for(const n of Lh.values())GM(n,t);return!0}function aa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ys=new Oi("app","Firebase",KM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=HM;function bC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gg,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ys.create("bad-app-name",{appName:String(s)});if(n||(n=EC()),!n)throw ys.create("no-options");const i=Lh.get(s);if(i){if(Mh(n,i.options)&&Mh(r,i.config))return i;throw ys.create("duplicate-app",{appName:s})}const o=new rM(s);for(const l of yg.values())o.addComponent(l);const a=new QM(n,r,o);return Lh.set(s,a),a}function P_(t=gg){const e=Lh.get(t);if(!e&&t===gg&&EC())return bC();if(!e)throw ys.create("no-app",{appName:t});return e}function Pt(t,e,n){var r;let s=(r=qM[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(a.join(" "));return}An(new ln(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="firebase-heartbeat-database",XM=1,Bl="firebase-heartbeat-store";let xp=null;function DC(){return xp||(xp=gM(YM,XM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Bl)}}}).catch(t=>{throw ys.create("idb-open",{originalErrorMessage:t.message})})),xp}async function JM(t){try{return await(await DC()).transaction(Bl).objectStore(Bl).get(OC(t))}catch(e){if(e instanceof kn)Ei.warn(e.message);else{const n=ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ei.warn(n.message)}}}async function cE(t,e){try{const r=(await DC()).transaction(Bl,"readwrite");await r.objectStore(Bl).put(e,OC(t)),await r.done}catch(n){if(n instanceof kn)Ei.warn(n.message);else{const r=ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ei.warn(r.message)}}}function OC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=1024,eL=30*24*60*60*1e3;class tL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=uE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=eL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uE(),{heartbeatsToSend:r,unsentEntries:s}=nL(this._heartbeatsCache.heartbeats),i=bh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function uE(){return new Date().toISOString().substring(0,10)}function nL(t,e=ZM){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),hE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),hE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PC()?AC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return cE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return cE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function hE(t){return bh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t){An(new ln("platform-logger",e=>new vM(e),"PRIVATE")),An(new ln("heartbeat",e=>new tL(e),"PRIVATE")),Pt(mg,lE,t),Pt(mg,lE,"esm2017"),Pt("fire-js","")}sL("");var iL="firebase",oL="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pt(iL,oL,"app");var dE={};const fE="@firebase/database",pE="1.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MC="";function aL(t){MC=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ht(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:$l(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Hr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new lL(e)}}catch{}return new cL},si=LC("localStorage"),_g=LC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new _c("@firebase/database"),uL=function(){let t=1;return function(){return t++}}(),FC=function(t){const e=Q4(t),n=new W4;n.update(e);const r=n.digest();return T_.encodeByteArray(r)},vc=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=vc.apply(null,r):typeof r=="object"?e+=ht(r):e+=r,e+=" "}return e};let di=null,mE=!0;const hL=function(t,e){L(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(So.logLevel=Z.VERBOSE,di=So.log.bind(So),e&&_g.set("logging_enabled",!0)):typeof t=="function"?di=t:(di=null,_g.remove("logging_enabled"))},xt=function(...t){if(mE===!0&&(mE=!1,di===null&&_g.get("logging_enabled")===!0&&hL(!0)),di){const e=vc.apply(null,t);di(e)}},wc=function(t){return function(...e){xt(t,...e)}},vg=function(...t){const e="FIREBASE INTERNAL ERROR: "+vc(...t);So.error(e)},Vr=function(...t){const e=`FIREBASE FATAL ERROR: ${vc(...t)}`;throw So.error(e),new Error(e)},rn=function(...t){const e="FIREBASE WARNING: "+vc(...t);So.warn(e)},dL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&rn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},VC=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},fL=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Bo="[MIN_NAME]",Ti="[MAX_NAME]",la=function(t,e){if(t===e)return 0;if(t===Bo||e===Ti)return-1;if(e===Bo||t===Ti)return 1;{const n=gE(t),r=gE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},pL=function(t,e){return t===e?0:t<e?-1:1},Pa=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ht(e))},A_=function(t){if(typeof t!="object"||t===null)return ht(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ht(e[r]),n+=":",n+=A_(t[e[r]]);return n+="}",n},jC=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Rn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const UC=function(t){L(!VC(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},mL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},yL=new RegExp("^-?(0*)\\d{1,10}$"),_L=-2147483648,vL=2147483647,gE=function(t){if(yL.test(t)){const e=Number(t);if(e>=_L&&e<=vL)return e}return null},Ec=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw rn("Exception was thrown by user callback.",n),e},Math.floor(0))}},wL=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},il=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){rn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(xt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rn(e)}}class Co{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Co.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="5",$C="v",BC="s",zC="r",WC="f",HC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qC="ls",GC="p",wg="ac",KC="websocket",QC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=si.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&si.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function xL(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function XC(t,e,n){L(typeof e=="string","typeof type must == string"),L(typeof n=="object","typeof params must == object");let r;if(e===KC)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===QC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);xL(t)&&(n.ns=t.namespace);const s=[];return Rn(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.counters_={}}incrementCounter(e,n=1){Hr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return N4(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip={},Sp={};function k_(t){const e=t.toString();return Ip[e]||(Ip[e]=new IL),Ip[e]}function SL(t,e){const n=t.toString();return Sp[n]||(Sp[n]=e()),Sp[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Ec(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="start",PL="close",AL="pLPCommand",RL="pRTLPCB",JC="id",ZC="pw",eP="ser",kL="cb",NL="seg",bL="ts",DL="d",OL="dframe",tP=1870,nP=30,ML=tP-nP,LL=25e3,FL=3e4;class uo{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=wc(e),this.stats_=k_(n),this.urlFn=l=>(this.appCheckToken&&(l[wg]=this.appCheckToken),XC(n,QC,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new CL(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(FL)),fL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new N_((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===yE)this.id=a,this.password=l;else if(o===PL)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[yE]="t",r[eP]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[kL]=this.scriptTagHolder.uniqueCallbackIdentifier),r[$C]=R_,this.transportSessionId&&(r[BC]=this.transportSessionId),this.lastSessionId&&(r[qC]=this.lastSessionId),this.applicationId&&(r[GC]=this.applicationId),this.appCheckToken&&(r[wg]=this.appCheckToken),typeof location<"u"&&location.hostname&&HC.test(location.hostname)&&(r[zC]=WC);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){uo.forceAllow_=!0}static forceDisallow(){uo.forceDisallow_=!0}static isAvailable(){return uo.forceAllow_?!0:!uo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mL()&&!gL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ht(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=yC(n),s=jC(r,ML);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[OL]="t",r[JC]=e,r[ZC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ht(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class N_{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=uL(),window[AL+this.uniqueCallbackIdentifier]=e,window[RL+this.uniqueCallbackIdentifier]=n,this.myIFrame=N_.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){xt("frame writing exception"),a.stack&&xt(a.stack),xt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||xt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[JC]=this.myID,e[ZC]=this.myPW,e[eP]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+nP+r.length<=tP;){const o=this.pendingSegs.shift();r=r+"&"+NL+s+"="+o.seg+"&"+bL+s+"="+o.ts+"&"+DL+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(LL)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{xt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=16384,jL=45e3;let Fh=null;typeof MozWebSocket<"u"?Fh=MozWebSocket:typeof WebSocket<"u"&&(Fh=WebSocket);class Ln{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=wc(this.connId),this.stats_=k_(n),this.connURL=Ln.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[$C]=R_,typeof location<"u"&&location.hostname&&HC.test(location.hostname)&&(o[zC]=WC),n&&(o[BC]=n),r&&(o[qC]=r),s&&(o[wg]=s),i&&(o[GC]=i),XC(e,KC,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,si.set("previous_websocket_failure",!0);try{let r;CC(),this.mySock=new Fh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Ln.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Fh!==null&&!Ln.forceDisallow_}static previouslyFailed(){return si.isInMemoryStorage||si.get("previous_websocket_failure")===!0}markConnectionHealthy(){si.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=$l(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(L(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=ht(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=jC(n,VL);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(jL))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ln.responsesRequiredToBeHealthy=2;Ln.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[uo,Ln]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Ln&&Ln.isAvailable();let r=n&&!Ln.previouslyFailed();if(e.webSocketOnly&&(n||rn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ln];else{const s=this.transports_=[];for(const i of zl.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);zl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}zl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=6e4,$L=5e3,BL=10*1024,zL=100*1024,Cp="t",_E="d",WL="s",vE="r",HL="e",wE="o",EE="a",TE="n",xE="p",qL="h";class GL{constructor(e,n,r,s,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=wc("c:"+this.id+":"),this.transportManager_=new zl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=il(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>zL?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BL?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Cp in e){const n=e[Cp];n===EE?this.upgradeIfSecondaryHealthy_():n===vE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===wE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Pa("t",e),r=Pa("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:xE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:EE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:TE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Pa("t",e),r=Pa("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Pa(Cp,e);if(_E in e){const r=e[_E];if(n===qL){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===TE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===WL?this.onConnectionShutdown_(r):n===vE?this.onReset_(r):n===HL?vg("Server Error: "+r):n===wE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vg("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),R_!==r&&rn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),il(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UL))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):il(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor($L))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:xE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(si.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.allowedEvents_=e,this.listeners_={},L(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){L(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends sP{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!S_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Vh}getInitialEvent(e){return L(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=32,SE=768;class Ce{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function pe(){return new Ce("")}function se(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function As(t){return t.pieces_.length-t.pieceNum_}function Te(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ce(t.pieces_,e)}function iP(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function KL(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function oP(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function aP(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ce(e,0)}function rt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ce)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Ce(n,0)}function ne(t){return t.pieceNum_>=t.pieces_.length}function En(t,e){const n=se(t),r=se(e);if(n===null)return e;if(n===r)return En(Te(t),Te(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function lP(t,e){if(As(t)!==As(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Fn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(As(t)>As(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class QL{constructor(e,n){this.errorPrefix_=n,this.parts_=oP(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Wd(this.parts_[r]);cP(this)}}function YL(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Wd(e),cP(t)}function XL(t){const e=t.parts_.pop();t.byteLength_-=Wd(e),t.parts_.length>0&&(t.byteLength_-=1)}function cP(t){if(t.byteLength_>SE)throw new Error(t.errorPrefix_+"has a key path longer than "+SE+" bytes ("+t.byteLength_+").");if(t.parts_.length>IE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+IE+") or object contains a cycle "+Js(t))}function Js(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_ extends sP{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new b_}getInitialEvent(e){return L(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=1e3,JL=60*5*1e3,CE=30*1e3,ZL=1.3,eF=3e4,tF="server_kill",PE=3;class Rr extends rP{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Rr.nextPersistentConnectionId_++,this.log_=wc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Aa,this.maxReconnectDelay_=JL,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!CC())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");b_.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Vh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(ht(i)),L(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new I_,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),L(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),L(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Rr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Hr(e,"w")){const r=$o(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();rn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||z4(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=CE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=B4(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),L(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ht(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):vg("Unrecognized action received from server: "+ht(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){L(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Aa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Aa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>eF&&(this.reconnectDelay_=Aa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ZL)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Rr.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){L(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?xt("getToken() completed but was canceled"):(xt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new GL(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{rn(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(tF)},i))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&rn(h),l())}}}interrupt(e){xt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){xt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],dg(this.interruptReasons_)&&(this.reconnectDelay_=Aa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>A_(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Ce(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){xt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=PE&&(this.reconnectDelay_=CE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){xt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=PE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+MC.replace(/\./g,"-")]=1,S_()?e["framework.cordova"]=1:SC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Vh.getInstance().currentlyOnline();return dg(this.interruptReasons_)&&e}}Rr.nextPersistentConnectionId_=0;Rr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ie(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ie(Bo,e),s=new ie(Bo,n);return this.compare(r,s)!==0}minPost(){return ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u;class uP extends Hd{static get __EMPTY_NODE(){return _u}static set __EMPTY_NODE(e){_u=e}compare(e,n){return la(e.name,n.name)}isDefinedOn(e){throw ia("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ie.MIN}maxPost(){return new ie(Ti,_u)}makePost(e,n){return L(typeof e=="string","KeyIndex indexValue must always be a string."),new ie(e,_u)}toString(){return".key"}}const Po=new uP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu=class{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Xt=class za{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??za.RED,this.left=s??Zn.EMPTY_NODE,this.right=i??Zn.EMPTY_NODE}copy(e,n,r,s,i){return new za(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Zn.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,za.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,za.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};Xt.RED=!0;Xt.BLACK=!1;class nF{copy(e,n,r,s,i){return this}insert(e,n,r){return new Xt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let Zn=class Gu{constructor(e,n=Gu.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Gu(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Xt.BLACK,null,null))}remove(e){return new Gu(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new vu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new vu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new vu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new vu(this.root_,null,this.comparator_,!0,e)}};Zn.EMPTY_NODE=new nF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(t,e){return la(t.name,e.name)}function D_(t,e){return la(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eg;function sF(t){Eg=t}const hP=function(t){return typeof t=="number"?"number:"+UC(t):"string:"+t},dP=function(t){if(t.isLeafNode()){const e=t.val();L(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Hr(e,".sv"),"Priority must be a string or number.")}else L(t===Eg||t.isEmpty(),"priority of unexpected type.");L(t===Eg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AE;class et{constructor(e,n=et.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,L(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),dP(this.priorityNode_)}static set __childrenNodeConstructor(e){AE=e}static get __childrenNodeConstructor(){return AE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new et(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ne(e)?this:se(e)===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:et.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=se(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(L(r!==".priority"||As(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,et.__childrenNodeConstructor.EMPTY_NODE.updateChild(Te(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+hP(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=UC(this.value_):e+=this.value_,this.lazyHash_=FC(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===et.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof et.__childrenNodeConstructor?-1:(L(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=et.VALUE_TYPE_ORDER.indexOf(n),i=et.VALUE_TYPE_ORDER.indexOf(r);return L(s>=0,"Unknown leaf type: "+n),L(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}et.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fP,pP;function iF(t){fP=t}function oF(t){pP=t}class aF extends Hd{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?la(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ie.MIN}maxPost(){return new ie(Ti,new et("[PRIORITY-POST]",pP))}makePost(e,n){const r=fP(e);return new ie(n,new et("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ct=new aF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=Math.log(2);class cF{constructor(e){const n=i=>parseInt(Math.log(i)/lF,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const jh=function(t,e,n,r){t.sort(e);const s=function(l,c){const u=c-l;let h,f;if(u===0)return null;if(u===1)return h=t[l],f=n?n(h):h,new Xt(f,h.node,Xt.BLACK,null,null);{const p=parseInt(u/2,10)+l,g=s(l,p),v=s(p+1,c);return h=t[p],f=n?n(h):h,new Xt(f,h.node,Xt.BLACK,g,v)}},i=function(l){let c=null,u=null,h=t.length;const f=function(g,v){const w=h-g,m=h;h-=g;const y=s(w+1,m),_=t[w],E=n?n(_):_;p(new Xt(E,_.node,v,null,y))},p=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const v=l.nextBitIsOne(),w=Math.pow(2,l.count-(g+1));v?f(w,Xt.BLACK):(f(w,Xt.BLACK),f(w,Xt.RED))}return u},o=new cF(t.length),a=i(o);return new Zn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pp;const Gi={};class xr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return L(Gi&&Ct,"ChildrenNode.ts has not been loaded"),Pp=Pp||new xr({".priority":Gi},{".priority":Ct}),Pp}get(e){const n=$o(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Zn?n:null}hasIndex(e){return Hr(this.indexSet_,e.toString())}addIndex(e,n){L(e!==Po,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(ie.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=jh(r,e.getCompare()):a=Gi;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new xr(u,c)}addToIndexes(e,n){const r=Oh(this.indexes_,(s,i)=>{const o=$o(this.indexSet_,i);if(L(o,"Missing index implementation for "+i),s===Gi)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ie.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),jh(a,o.getCompare())}else return Gi;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new ie(e.name,a))),l.insert(e,e.node)}});return new xr(r,this.indexSet_)}removeFromIndexes(e,n){const r=Oh(this.indexes_,s=>{if(s===Gi)return s;{const i=n.get(e.name);return i?s.remove(new ie(e.name,i)):s}});return new xr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra;class ue{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&dP(this.priorityNode_),this.children_.isEmpty()&&L(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ra||(Ra=new ue(new Zn(D_),null,xr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ra}updatePriority(e){return this.children_.isEmpty()?this:new ue(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ra:n}}getChild(e){const n=se(e);return n===null?this:this.getImmediateChild(n).getChild(Te(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(L(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ie(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Ra:this.priorityNode_;return new ue(s,o,i)}}updateChild(e,n){const r=se(e);if(r===null)return n;{L(se(e)!==".priority"||As(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Te(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Ct,(o,a)=>{n[o]=a.val(e),r++,i&&ue.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+hP(this.getPriority().val())+":"),this.forEachChild(Ct,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":FC(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new ie(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ie(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ie(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ie.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ie.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Tc?-1:0}withIndex(e){if(e===Po||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ue(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Po||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ct),s=n.getIterator(Ct);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Po?null:this.indexMap_.get(e.toString())}}ue.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class uF extends ue{constructor(){super(new Zn(D_),ue.EMPTY_NODE,xr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ue.EMPTY_NODE}isEmpty(){return!1}}const Tc=new uF;Object.defineProperties(ie,{MIN:{value:new ie(Bo,ue.EMPTY_NODE)},MAX:{value:new ie(Ti,Tc)}});uP.__EMPTY_NODE=ue.EMPTY_NODE;et.__childrenNodeConstructor=ue;sF(Tc);oF(Tc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=!0;function It(t,e=null){if(t===null)return ue.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),L(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new et(n,It(e))}if(!(t instanceof Array)&&hF){const n=[];let r=!1;if(Rn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=It(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ie(o,l)))}}),n.length===0)return ue.EMPTY_NODE;const i=jh(n,rF,o=>o.name,D_);if(r){const o=jh(n,Ct.getCompare());return new ue(i,It(e),new xr({".priority":o},{".priority":Ct}))}else return new ue(i,It(e),xr.Default)}else{let n=ue.EMPTY_NODE;return Rn(t,(r,s)=>{if(Hr(t,r)&&r.substring(0,1)!=="."){const i=It(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(It(e))}}iF(It);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF extends Hd{constructor(e){super(),this.indexPath_=e,L(!ne(e)&&se(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?la(e.name,n.name):i}makePost(e,n){const r=It(e),s=ue.EMPTY_NODE.updateChild(this.indexPath_,r);return new ie(n,s)}maxPost(){const e=ue.EMPTY_NODE.updateChild(this.indexPath_,Tc);return new ie(Ti,e)}toString(){return oP(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF extends Hd{compare(e,n){const r=e.node.compareTo(n.node);return r===0?la(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ie.MIN}maxPost(){return ie.MAX}makePost(e,n){const r=It(e);return new ie(n,r)}toString(){return".value"}}const pF=new fF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t){return{type:"value",snapshotNode:t}}function gF(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function yF(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function RE(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function _F(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ct}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return L(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return L(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bo}hasEnd(){return this.endSet_}getIndexEndValue(){return L(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return L(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ti}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return L(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ct}copy(){const e=new O_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function kE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ct?n="$priority":t.index_===pF?n="$value":t.index_===Po?n="$key":(L(t.index_ instanceof dF,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ht(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=ht(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ht(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ht(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ht(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function NE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ct&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends rP{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=wc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(L(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Uh.getListenId_(e,r),a={};this.listens_[o]=a;const l=kE(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(i,h,!1,r),$o(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const r=Uh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=kE(e._queryParams),r=e._path.toString(),s=new I_;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+oa(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=$l(a.responseText)}catch{rn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&rn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(){this.rootNode_=ue.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(){return{value:null,children:new Map}}function mP(t,e,n){if(ne(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=se(e);t.children.has(r)||t.children.set(r,$h());const s=t.children.get(r);e=Te(e),mP(s,e,n)}}function Tg(t,e,n){t.value!==null?n(e,t.value):wF(t,(r,s)=>{const i=new Ce(e.toString()+"/"+r);Tg(s,i,n)})}function wF(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Rn(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=10*1e3,TF=30*1e3,xF=5*60*1e3;class IF{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new EF(e);const r=bE+(TF-bE)*Math.random();il(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Rn(e,(s,i)=>{i>0&&Hr(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),il(this.reportStats_.bind(this),Math.floor(Math.random()*2*xF))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(er||(er={}));function gP(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function yP(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function _P(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=er.ACK_USER_WRITE,this.source=gP()}operationForChild(e){if(ne(this.path)){if(this.affectedTree.value!=null)return L(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ce(e));return new Bh(pe(),n,this.revert)}}else return L(se(this.path)===e,"operationForChild called for unrelated child."),new Bh(Te(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=er.OVERWRITE}operationForChild(e){return ne(this.path)?new xi(this.source,pe(),this.snap.getImmediateChild(e)):new xi(this.source,Te(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=er.MERGE}operationForChild(e){if(ne(this.path)){const n=this.children.subtree(new Ce(e));return n.isEmpty()?null:n.value?new xi(this.source,pe(),n.value):new Wl(this.source,pe(),n)}else return L(se(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Wl(this.source,Te(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ne(e))return this.isFullyInitialized()&&!this.filtered_;const n=se(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function SF(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(_F(o.childName,o.snapshotNode))}),ka(t,s,"child_removed",e,r,n),ka(t,s,"child_added",e,r,n),ka(t,s,"child_moved",i,r,n),ka(t,s,"child_changed",e,r,n),ka(t,s,"value",e,r,n),s}function ka(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>PF(t,a,l)),o.forEach(a=>{const l=CF(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function CF(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function PF(t,e,n){if(e.childName==null||n.childName==null)throw ia("Should only compare child_ events.");const r=new ie(e.childName,e.snapshotNode),s=new ie(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t,e){return{eventCache:t,serverCache:e}}function ol(t,e,n,r){return vP(new M_(e,n,r),t.serverCache)}function wP(t,e,n,r){return vP(t.eventCache,new M_(e,n,r))}function xg(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ii(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ap;const AF=()=>(Ap||(Ap=new Zn(pL)),Ap);class Ee{constructor(e,n=AF()){this.value=e,this.children=n}static fromObject(e){let n=new Ee(null);return Rn(e,(r,s)=>{n=n.set(new Ce(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:pe(),value:this.value};if(ne(e))return null;{const r=se(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(Te(e),n);return i!=null?{path:rt(new Ce(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ne(e))return this;{const n=se(e),r=this.children.get(n);return r!==null?r.subtree(Te(e)):new Ee(null)}}set(e,n){if(ne(e))return new Ee(n,this.children);{const r=se(e),i=(this.children.get(r)||new Ee(null)).set(Te(e),n),o=this.children.insert(r,i);return new Ee(this.value,o)}}remove(e){if(ne(e))return this.children.isEmpty()?new Ee(null):new Ee(null,this.children);{const n=se(e),r=this.children.get(n);if(r){const s=r.remove(Te(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new Ee(null):new Ee(this.value,i)}else return this}}get(e){if(ne(e))return this.value;{const n=se(e),r=this.children.get(n);return r?r.get(Te(e)):null}}setTree(e,n){if(ne(e))return n;{const r=se(e),i=(this.children.get(r)||new Ee(null)).setTree(Te(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new Ee(this.value,o)}}fold(e){return this.fold_(pe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(rt(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,pe(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(ne(e))return null;{const i=se(e),o=this.children.get(i);return o?o.findOnPath_(Te(e),rt(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,pe(),n)}foreachOnPath_(e,n,r){if(ne(e))return this;{this.value&&r(n,this.value);const s=se(e),i=this.children.get(s);return i?i.foreachOnPath_(Te(e),rt(n,s),r):new Ee(null)}}foreach(e){this.foreach_(pe(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(rt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.writeTree_=e}static empty(){return new Bn(new Ee(null))}}function al(t,e,n){if(ne(e))return new Bn(new Ee(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=En(s,e);return i=i.updateChild(o,n),new Bn(t.writeTree_.set(s,i))}else{const s=new Ee(n),i=t.writeTree_.setTree(e,s);return new Bn(i)}}}function DE(t,e,n){let r=t;return Rn(n,(s,i)=>{r=al(r,rt(e,s),i)}),r}function OE(t,e){if(ne(e))return Bn.empty();{const n=t.writeTree_.setTree(e,new Ee(null));return new Bn(n)}}function Ig(t,e){return Mi(t,e)!=null}function Mi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(En(n.path,e)):null}function ME(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ct,(r,s)=>{e.push(new ie(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new ie(r,s.value))}),e}function _s(t,e){if(ne(e))return t;{const n=Mi(t,e);return n!=null?new Bn(new Ee(n)):new Bn(t.writeTree_.subtree(e))}}function Sg(t){return t.writeTree_.isEmpty()}function zo(t,e){return EP(pe(),t.writeTree_,e)}function EP(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(L(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=EP(rt(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(rt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t,e){return PP(e,t)}function RF(t,e,n,r,s){L(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=al(t.visibleWrites,e,n)),t.lastWriteId=r}function kF(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function NF(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);L(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&bF(a,r.path)?s=!1:Fn(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return DF(t),!0;if(r.snap)t.visibleWrites=OE(t.visibleWrites,r.path);else{const a=r.children;Rn(a,l=>{t.visibleWrites=OE(t.visibleWrites,rt(r.path,l))})}return!0}else return!1}function bF(t,e){if(t.snap)return Fn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Fn(rt(t.path,n),e))return!0;return!1}function DF(t){t.visibleWrites=xP(t.allWrites,OF,pe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function OF(t){return t.visible}function xP(t,e,n){let r=Bn.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)Fn(n,o)?(a=En(n,o),r=al(r,a,i.snap)):Fn(o,n)&&(a=En(o,n),r=al(r,pe(),i.snap.getChild(a)));else if(i.children){if(Fn(n,o))a=En(n,o),r=DE(r,a,i.children);else if(Fn(o,n))if(a=En(o,n),ne(a))r=DE(r,pe(),i.children);else{const l=$o(i.children,se(a));if(l){const c=l.getChild(Te(a));r=al(r,pe(),c)}}}else throw ia("WriteRecord should have .snap or .children")}}return r}function IP(t,e,n,r,s){if(!r&&!s){const i=Mi(t.visibleWrites,e);if(i!=null)return i;{const o=_s(t.visibleWrites,e);if(Sg(o))return n;if(n==null&&!Ig(o,pe()))return null;{const a=n||ue.EMPTY_NODE;return zo(o,a)}}}else{const i=_s(t.visibleWrites,e);if(!s&&Sg(i))return n;if(!s&&n==null&&!Ig(i,pe()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(Fn(c.path,e)||Fn(e,c.path))},a=xP(t.allWrites,o,e),l=n||ue.EMPTY_NODE;return zo(a,l)}}}function MF(t,e,n){let r=ue.EMPTY_NODE;const s=Mi(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Ct,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=_s(t.visibleWrites,e);return n.forEachChild(Ct,(o,a)=>{const l=zo(_s(i,new Ce(o)),a);r=r.updateImmediateChild(o,l)}),ME(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=_s(t.visibleWrites,e);return ME(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function LF(t,e,n,r,s){L(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=rt(e,n);if(Ig(t.visibleWrites,i))return null;{const o=_s(t.visibleWrites,i);return Sg(o)?s.getChild(n):zo(o,s.getChild(n))}}function FF(t,e,n,r){const s=rt(e,n),i=Mi(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=_s(t.visibleWrites,s);return zo(o,r.getNode().getImmediateChild(n))}else return null}function VF(t,e){return Mi(t.visibleWrites,e)}function jF(t,e,n,r,s,i,o){let a;const l=_s(t.visibleWrites,e),c=Mi(l,pe());if(c!=null)a=c;else if(n!=null)a=zo(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),f=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<s;)h(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function UF(){return{visibleWrites:Bn.empty(),allWrites:[],lastWriteId:-1}}function Cg(t,e,n,r){return IP(t.writeTree,t.treePath,e,n,r)}function SP(t,e){return MF(t.writeTree,t.treePath,e)}function LE(t,e,n,r){return LF(t.writeTree,t.treePath,e,n,r)}function zh(t,e){return VF(t.writeTree,rt(t.treePath,e))}function $F(t,e,n,r,s,i){return jF(t.writeTree,t.treePath,e,n,r,s,i)}function L_(t,e,n){return FF(t.writeTree,t.treePath,e,n)}function CP(t,e){return PP(rt(t.treePath,e),t.writeTree)}function PP(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;L(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),L(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,RE(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,yF(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,gF(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,RE(r,e.snapshotNode,s.oldSnap));else throw ia("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const AP=new zF;class F_{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new M_(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return L_(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ii(this.viewCache_),i=$F(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}function WF(t,e){L(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),L(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function HF(t,e,n,r,s){const i=new BF;let o,a;if(n.type===er.OVERWRITE){const c=n;c.source.fromUser?o=Pg(t,e,c.path,c.snap,r,s,i):(L(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ne(c.path),o=Wh(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===er.MERGE){const c=n;c.source.fromUser?o=GF(t,e,c.path,c.children,r,s,i):(L(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Ag(t,e,c.path,c.children,r,s,a,i))}else if(n.type===er.ACK_USER_WRITE){const c=n;c.revert?o=YF(t,e,c.path,r,s,i):o=KF(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===er.LISTEN_COMPLETE)o=QF(t,e,n.path,r,i);else throw ia("Unknown operation type: "+n.type);const l=i.getChanges();return qF(e,o,l),{viewCache:o,changes:l}}function qF(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=xg(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(mF(xg(e)))}}function RP(t,e,n,r,s,i){const o=e.eventCache;if(zh(r,n)!=null)return e;{let a,l;if(ne(n))if(L(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ii(e),u=c instanceof ue?c:ue.EMPTY_NODE,h=SP(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const c=Cg(r,Ii(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=se(n);if(c===".priority"){L(As(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=LE(r,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=Te(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=LE(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(u,f):h=o.getNode().getImmediateChild(c)}else h=L_(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,s,i):a=o.getNode()}}return ol(e,a,o.isFullyInitialized()||ne(n),t.filter.filtersNodes())}}function Wh(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(ne(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=se(n);if(!l.isCompleteForPath(n)&&As(n)>1)return e;const g=Te(n),w=l.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?c=u.updatePriority(l.getNode(),w):c=u.updateChild(l.getNode(),p,w,g,AP,null)}const h=wP(e,c,l.isFullyInitialized()||ne(n),u.filtersNodes()),f=new F_(s,h,i);return RP(t,h,n,s,f,a)}function Pg(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const u=new F_(s,e,i);if(ne(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=ol(e,c,!0,t.filter.filtersNodes());else{const h=se(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=ol(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Te(n),p=a.getNode().getImmediateChild(h);let g;if(ne(f))g=r;else{const v=u.getCompleteChild(h);v!=null?iP(f)===".priority"&&v.getChild(aP(f)).isEmpty()?g=v:g=v.updateChild(f,r):g=ue.EMPTY_NODE}if(p.equals(g))l=e;else{const v=t.filter.updateChild(a.getNode(),h,g,f,u,o);l=ol(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function FE(t,e){return t.eventCache.isCompleteForChild(e)}function GF(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const u=rt(n,l);FE(e,se(u))&&(a=Pg(t,a,u,c,s,i,o))}),r.foreach((l,c)=>{const u=rt(n,l);FE(e,se(u))||(a=Pg(t,a,u,c,s,i,o))}),a}function VE(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Ag(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ne(n)?c=r:c=new Ee(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(u.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),g=VE(t,p,f);l=Wh(t,l,new Ce(h),g,s,i,o,a)}}),c.children.inorderTraversal((h,f)=>{const p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!u.hasChild(h)&&!p){const g=e.serverCache.getNode().getImmediateChild(h),v=VE(t,g,f);l=Wh(t,l,new Ce(h),v,s,i,o,a)}}),l}function KF(t,e,n,r,s,i,o){if(zh(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ne(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Wh(t,e,n,l.getNode().getChild(n),s,i,a,o);if(ne(n)){let c=new Ee(null);return l.getNode().forEachChild(Po,(u,h)=>{c=c.set(new Ce(u),h)}),Ag(t,e,n,c,s,i,a,o)}else return e}else{let c=new Ee(null);return r.foreach((u,h)=>{const f=rt(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Ag(t,e,n,c,s,i,a,o)}}function QF(t,e,n,r,s){const i=e.serverCache,o=wP(e,i.getNode(),i.isFullyInitialized()||ne(n),i.isFiltered());return RP(t,o,n,r,AP,s)}function YF(t,e,n,r,s,i){let o;if(zh(r,n)!=null)return e;{const a=new F_(r,e,s),l=e.eventCache.getNode();let c;if(ne(n)||se(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Cg(r,Ii(e));else{const h=e.serverCache.getNode();L(h instanceof ue,"serverChildren would be complete if leaf node"),u=SP(r,h)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=se(n);let h=L_(r,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,Te(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,ue.EMPTY_NODE,Te(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Cg(r,Ii(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||zh(r,pe())!=null,ol(e,c,o,t.filter.filtersNodes())}}function XF(t,e){const n=Ii(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ne(e)&&!n.getImmediateChild(se(e)).isEmpty())?n.getChild(e):null}function jE(t,e,n,r){e.type===er.MERGE&&e.source.queryId!==null&&(L(Ii(t.viewCache_),"We should always have a full cache before handling merges"),L(xg(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=HF(t.processor_,s,e,n,r);return WF(t.processor_,i.viewCache),L(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,JF(t,i.changes,i.viewCache.eventCache.getNode(),null)}function JF(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return SF(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UE;function ZF(t){L(!UE,"__referenceConstructor has already been defined"),UE=t}function V_(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return L(i!=null,"SyncTree gave us an op for an invalid query."),jE(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(jE(o,e,n,r));return i}}function j_(t,e){let n=null;for(const r of t.views.values())n=n||XF(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $E;function eV(t){L(!$E,"__referenceConstructor has already been defined"),$E=t}class BE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ee(null),this.pendingWriteTree_=UF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function tV(t,e,n,r,s){return RF(t.pendingWriteTree_,e,n,r,s),s?Gd(t,new xi(gP(),e,n)):[]}function ho(t,e,n=!1){const r=kF(t.pendingWriteTree_,e);if(NF(t.pendingWriteTree_,e)){let i=new Ee(null);return r.snap!=null?i=i.set(pe(),!0):Rn(r.children,o=>{i=i.set(new Ce(o),!0)}),Gd(t,new Bh(r.path,i,n))}else return[]}function qd(t,e,n){return Gd(t,new xi(yP(),e,n))}function nV(t,e,n){const r=Ee.fromObject(n);return Gd(t,new Wl(yP(),e,r))}function rV(t,e,n,r){const s=DP(t,r);if(s!=null){const i=OP(s),o=i.path,a=i.queryId,l=En(o,e),c=new xi(_P(a),l,n);return MP(t,o,c)}else return[]}function sV(t,e,n,r){const s=DP(t,r);if(s){const i=OP(s),o=i.path,a=i.queryId,l=En(o,e),c=Ee.fromObject(n),u=new Wl(_P(a),l,c);return MP(t,o,u)}else return[]}function kP(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=En(o,e),c=j_(a,l);if(c)return c});return IP(s,e,i,n,!0)}function Gd(t,e){return NP(e,t.syncPointTree_,null,TP(t.pendingWriteTree_,pe()))}function NP(t,e,n,r){if(ne(t.path))return bP(t,e,n,r);{const s=e.get(pe());n==null&&s!=null&&(n=j_(s,pe()));let i=[];const o=se(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=CP(r,o);i=i.concat(NP(a,l,c,u))}return s&&(i=i.concat(V_(s,t,r,n))),i}}function bP(t,e,n,r){const s=e.get(pe());n==null&&s!=null&&(n=j_(s,pe()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=CP(r,o),u=t.operationForChild(o);u&&(i=i.concat(bP(u,a,l,c)))}),s&&(i=i.concat(V_(s,t,r,n))),i}function DP(t,e){return t.tagToQueryMap.get(e)}function OP(t){const e=t.indexOf("$");return L(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ce(t.substr(0,e))}}function MP(t,e,n){const r=t.syncPointTree_.get(e);L(r,"Missing sync point for query tag that we're tracking");const s=TP(t.pendingWriteTree_,e);return V_(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new U_(n)}node(){return this.node_}}class $_{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=rt(this.path_,e);return new $_(this.syncTree_,n)}node(){return kP(this.syncTree_,this.path_)}}const iV=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},zE=function(t,e,n){if(!t||typeof t!="object")return t;if(L(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return oV(t[".sv"],e,n);if(typeof t[".sv"]=="object")return aV(t[".sv"],e);L(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},oV=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:L(!1,"Unexpected server value: "+t)}},aV=function(t,e,n){t.hasOwnProperty("increment")||L(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&L(!1,"Unexpected increment value: "+r);const s=e.node();if(L(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},lV=function(t,e,n,r){return B_(e,new $_(n,t),r)},cV=function(t,e,n){return B_(t,new U_(e),n)};function B_(t,e,n){const r=t.getPriority().val(),s=zE(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=zE(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new et(a,It(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new et(s))),o.forEachChild(Ct,(a,l)=>{const c=B_(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function W_(t,e){let n=e instanceof Ce?e:new Ce(e),r=t,s=se(n);for(;s!==null;){const i=$o(r.node.children,s)||{children:{},childCount:0};r=new z_(s,r,i),n=Te(n),s=se(n)}return r}function ca(t){return t.node.value}function LP(t,e){t.node.value=e,Rg(t)}function FP(t){return t.node.childCount>0}function uV(t){return ca(t)===void 0&&!FP(t)}function Kd(t,e){Rn(t.node.children,(n,r)=>{e(new z_(n,t,r))})}function VP(t,e,n,r){n&&!r&&e(t),Kd(t,s=>{VP(s,e,!0,r)}),n&&r&&e(t)}function hV(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function xc(t){return new Ce(t.parent===null?t.name:xc(t.parent)+"/"+t.name)}function Rg(t){t.parent!==null&&dV(t.parent,t.name,t)}function dV(t,e,n){const r=uV(n),s=Hr(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Rg(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Rg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=/[\[\].#$\/\u0000-\u001F\u007F]/,pV=/[\[\].#$\u0000-\u001F\u007F]/,Rp=10*1024*1024,jP=function(t){return typeof t=="string"&&t.length!==0&&!fV.test(t)},mV=function(t){return typeof t=="string"&&t.length!==0&&!pV.test(t)},gV=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),mV(t)},UP=function(t,e,n){const r=n instanceof Ce?new QL(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Js(r));if(typeof e=="function")throw new Error(t+"contains a function "+Js(r)+" with contents = "+e.toString());if(VC(e))throw new Error(t+"contains "+e.toString()+" "+Js(r));if(typeof e=="string"&&e.length>Rp/3&&Wd(e)>Rp)throw new Error(t+"contains a string greater than "+Rp+" utf8 bytes "+Js(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Rn(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!jP(o)))throw new Error(t+" contains an invalid key ("+o+") "+Js(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);YL(r,o),UP(t,a,r),XL(r)}),s&&i)throw new Error(t+' contains ".value" child '+Js(r)+" in addition to actual children.")}},yV=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!jP(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!gV(n))throw new Error(K4(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vV(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!lP(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function Li(t,e,n){vV(t,n),wV(t,r=>Fn(r,e)||Fn(e,r))}function wV(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(EV(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function EV(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();di&&xt("event: "+n.toString()),Ec(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV="repo_interrupt",xV=25;class IV{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _V,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$h(),this.transactionQueueTree_=new z_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function SV(t,e,n){if(t.stats_=k_(t.repoInfo_),t.forceRestClient_||wL())t.server_=new Uh(t.repoInfo_,(r,s,i,o)=>{WE(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>HE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ht(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Rr(t.repoInfo_,e,(r,s,i,o)=>{WE(t,r,s,i,o)},r=>{HE(t,r)},r=>{PV(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=SL(t.repoInfo_,()=>new IF(t.stats_,t.server_)),t.infoData_=new vF,t.infoSyncTree_=new BE({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=qd(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),H_(t,"connected",!1),t.serverSyncTree_=new BE({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);Li(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function CV(t){const n=t.infoData_.getNode(new Ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $P(t){return iV({timestamp:CV(t)})}function WE(t,e,n,r,s){t.dataUpdateCount++;const i=new Ce(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=Oh(n,c=>It(c));o=sV(t.serverSyncTree_,i,l,s)}else{const l=It(n);o=rV(t.serverSyncTree_,i,l,s)}else if(r){const l=Oh(n,c=>It(c));o=nV(t.serverSyncTree_,i,l)}else{const l=It(n);o=qd(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=G_(t,i)),Li(t.eventQueue_,a,o)}function HE(t,e){H_(t,"connected",e),e===!1&&RV(t)}function PV(t,e){Rn(e,(n,r)=>{H_(t,n,r)})}function H_(t,e,n){const r=new Ce("/.info/"+e),s=It(n);t.infoData_.updateSnapshot(r,s);const i=qd(t.infoSyncTree_,r,s);Li(t.eventQueue_,r,i)}function AV(t){return t.nextWriteId_++}function RV(t){BP(t,"onDisconnectEvents");const e=$P(t),n=$h();Tg(t.onDisconnect_,pe(),(s,i)=>{const o=lV(s,i,t.serverSyncTree_,e);mP(n,s,o)});let r=[];Tg(n,pe(),(s,i)=>{r=r.concat(qd(t.serverSyncTree_,s,i));const o=DV(t,s);G_(t,o)}),t.onDisconnect_=$h(),Li(t.eventQueue_,pe(),r)}function kV(t){t.persistentConnection_&&t.persistentConnection_.interrupt(TV)}function BP(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),xt(n,...e)}function zP(t,e,n){return kP(t.serverSyncTree_,e,n)||ue.EMPTY_NODE}function q_(t,e=t.transactionQueueTree_){if(e||Qd(t,e),ca(e)){const n=HP(t,e);L(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&NV(t,xc(e),n)}else FP(e)&&Kd(e,n=>{q_(t,n)})}function NV(t,e,n){const r=n.map(c=>c.currentWriteId),s=zP(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];L(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=En(e,u.path);i=i.updateChild(h,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{BP(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(ho(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Qd(t,W_(t.transactionQueueTree_,e)),q_(t,t.transactionQueueTree_),Li(t.eventQueue_,e,u);for(let f=0;f<h.length;f++)Ec(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{rn("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}G_(t,e)}},o)}function G_(t,e){const n=WP(t,e),r=xc(n),s=HP(t,n);return bV(t,s,r),r}function bV(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=En(n,l.path);let u=!1,h;if(L(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,s=s.concat(ho(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=xV)u=!0,h="maxretry",s=s.concat(ho(t.serverSyncTree_,l.currentWriteId,!0));else{const f=zP(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){UP("transaction failed: Data returned ",p,l.path);let g=It(p);typeof p=="object"&&p!=null&&Hr(p,".priority")||(g=g.updatePriority(f.getPriority()));const w=l.currentWriteId,m=$P(t),y=cV(g,f,m);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=y,l.currentWriteId=AV(t),o.splice(o.indexOf(w),1),s=s.concat(tV(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),s=s.concat(ho(t.serverSyncTree_,w,!0))}else u=!0,h="nodata",s=s.concat(ho(t.serverSyncTree_,l.currentWriteId,!0))}Li(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}Qd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ec(r[a]);q_(t,t.transactionQueueTree_)}function WP(t,e){let n,r=t.transactionQueueTree_;for(n=se(e);n!==null&&ca(r)===void 0;)r=W_(r,n),e=Te(e),n=se(e);return r}function HP(t,e){const n=[];return qP(t,e,n),n.sort((r,s)=>r.order-s.order),n}function qP(t,e,n){const r=ca(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Kd(e,s=>{qP(t,s,n)})}function Qd(t,e){const n=ca(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,LP(e,n.length>0?n:void 0)}Kd(e,r=>{Qd(t,r)})}function DV(t,e){const n=xc(WP(t,e)),r=W_(t.transactionQueueTree_,e);return hV(r,s=>{kp(t,s)}),kp(t,r),VP(r,s=>{kp(t,s)}),n}function kp(t,e){const n=ca(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(L(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(L(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(ho(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?LP(e,void 0):n.length=i+1,Li(t.eventQueue_,xc(e),s);for(let o=0;o<r.length;o++)Ec(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function MV(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):rn(`Invalid query segment '${n}' in query '${t}'`)}return e}const qE=function(t,e){const n=LV(t),r=n.namespace;n.domain==="firebase.com"&&Vr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Vr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||dL();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new YC(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Ce(n.pathString)}},LV=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(s=OV(t.substring(u,h)));const f=MV(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return ne(this._path)?null:iP(this._path)}get ref(){return new ua(this._repo,this._path)}get _queryIdentifier(){const e=NE(this._queryParams),n=A_(e);return n==="{}"?"default":n}get _queryObject(){return NE(this._queryParams)}isEqual(e){if(e=Ge(e),!(e instanceof K_))return!1;const n=this._repo===e._repo,r=lP(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+KL(this._path)}}class ua extends K_{constructor(e,n){super(e,n,new O_,!1)}get parent(){const e=aP(this._path);return e===null?null:new ua(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}ZF(ua);eV(ua);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV="FIREBASE_DATABASE_EMULATOR_HOST",kg={};let VV=!1;function jV(t,e,n,r){t.repoInfo_=new YC(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function UV(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||Vr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xt("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=qE(i,s),a=o.repoInfo,l,c;typeof process<"u"&&dE&&(c=dE[FV]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,o=qE(i,s),a=o.repoInfo):l=!o.repoInfo.secure;const u=s&&l?new Co(Co.OWNER):new TL(t.name,t.options,e);yV("Invalid Firebase Database URL",o),ne(o.path)||Vr("Database URL must point to the root of a Firebase Database (not including a child path).");const h=BV(a,t,u,new EL(t.name,n));return new zV(h,t)}function $V(t,e){const n=kg[e];(!n||n[t.key]!==t)&&Vr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),kV(t),delete n[t.key]}function BV(t,e,n,r){let s=kg[e.name];s||(s={},kg[e.name]=s);let i=s[t.toURLString()];return i&&Vr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new IV(t,VV,n,r),s[t.toURLString()]=i,i}class zV{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(SV(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ua(this._repo,pe())),this._rootInternal}_delete(){return this._rootInternal!==null&&($V(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Vr("Cannot call "+e+" on a deleted database.")}}function GP(t=P_(),e){const n=aa(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=wC("database");r&&WV(n,...r)}return n}function WV(t,e,n,r={}){t=Ge(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Vr("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Vr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Co(Co.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:xC(r.mockUserToken,t.app.options.projectId);i=new Co(o)}jV(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t){aL(Vs),An(new ln("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return UV(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Pt(fE,pE,t),Pt(fE,pE,"esm2017")}Rr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Rr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};HV();var qV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F,Q_=Q_||{},Q=qV||self;function Yd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ic(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function GV(t){return Object.prototype.hasOwnProperty.call(t,Np)&&t[Np]||(t[Np]=++KV)}var Np="closure_uid_"+(1e9*Math.random()>>>0),KV=0;function QV(t,e,n){return t.call.apply(t.bind,arguments)}function YV(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function At(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?At=QV:At=YV,At.apply(null,arguments)}function wu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ot(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function js(){this.s=this.s,this.o=this.o}var XV=0;js.prototype.s=!1;js.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),XV!=0)&&GV(this)};js.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const KP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Y_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function GE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Yd(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Rt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Rt.prototype.h=function(){this.defaultPrevented=!0};var JV=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Q.addEventListener("test",n,e),Q.removeEventListener("test",n,e)}catch{}return t}();function Hl(t){return/^[\s\xa0]*$/.test(t)}function Xd(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Jn(t){return Xd().indexOf(t)!=-1}function X_(t){return X_[" "](t),t}X_[" "]=function(){};function ZV(t,e){var n=Hj;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var ej=Jn("Opera"),Wo=Jn("Trident")||Jn("MSIE"),QP=Jn("Edge"),Ng=QP||Wo,YP=Jn("Gecko")&&!(Xd().toLowerCase().indexOf("webkit")!=-1&&!Jn("Edge"))&&!(Jn("Trident")||Jn("MSIE"))&&!Jn("Edge"),tj=Xd().toLowerCase().indexOf("webkit")!=-1&&!Jn("Edge");function XP(){var t=Q.document;return t?t.documentMode:void 0}var bg;e:{var bp="",Dp=function(){var t=Xd();if(YP)return/rv:([^\);]+)(\)|;)/.exec(t);if(QP)return/Edge\/([\d\.]+)/.exec(t);if(Wo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(tj)return/WebKit\/(\S+)/.exec(t);if(ej)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Dp&&(bp=Dp?Dp[1]:""),Wo){var Op=XP();if(Op!=null&&Op>parseFloat(bp)){bg=String(Op);break e}}bg=bp}var Dg;if(Q.document&&Wo){var KE=XP();Dg=KE||parseInt(bg,10)||void 0}else Dg=void 0;var nj=Dg;function ql(t,e){if(Rt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(YP){e:{try{X_(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:rj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ql.$.h.call(this)}}ot(ql,Rt);var rj={2:"touch",3:"pen",4:"mouse"};ql.prototype.h=function(){ql.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Sc="closure_listenable_"+(1e6*Math.random()|0),sj=0;function ij(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++sj,this.fa=this.ia=!1}function Jd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function J_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function oj(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function JP(t){const e={};for(const n in t)e[n]=t[n];return e}const QE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ZP(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<QE.length;i++)n=QE[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Zd(t){this.src=t,this.g={},this.h=0}Zd.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Mg(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new ij(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Og(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=KP(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Jd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Mg(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Z_="closure_lm_"+(1e6*Math.random()|0),Mp={};function eA(t,e,n,r,s){if(r&&r.once)return nA(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)eA(t,e[i],n,r,s);return null}return n=nv(n),t&&t[Sc]?t.O(e,n,Ic(r)?!!r.capture:!!r,s):tA(t,e,n,!1,r,s)}function tA(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Ic(s)?!!s.capture:!!s,a=tv(t);if(a||(t[Z_]=a=new Zd(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=aj(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)JV||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(sA(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function aj(){function t(n){return e.call(t.src,t.listener,n)}const e=lj;return t}function nA(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)nA(t,e[i],n,r,s);return null}return n=nv(n),t&&t[Sc]?t.P(e,n,Ic(r)?!!r.capture:!!r,s):tA(t,e,n,!0,r,s)}function rA(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)rA(t,e[i],n,r,s);else r=Ic(r)?!!r.capture:!!r,n=nv(n),t&&t[Sc]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Mg(i,n,r,s),-1<n&&(Jd(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=tv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Mg(e,n,r,s)),(n=-1<t?e[t]:null)&&ev(n))}function ev(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Sc])Og(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(sA(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=tv(e))?(Og(n,t),n.h==0&&(n.src=null,e[Z_]=null)):Jd(t)}}}function sA(t){return t in Mp?Mp[t]:Mp[t]="on"+t}function lj(t,e){if(t.fa)t=!0;else{e=new ql(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ev(t),t=n.call(r,e)}return t}function tv(t){return t=t[Z_],t instanceof Zd?t:null}var Lp="__closure_events_fn_"+(1e9*Math.random()>>>0);function nv(t){return typeof t=="function"?t:(t[Lp]||(t[Lp]=function(e){return t.handleEvent(e)}),t[Lp])}function it(){js.call(this),this.i=new Zd(this),this.S=this,this.J=null}ot(it,js);it.prototype[Sc]=!0;it.prototype.removeEventListener=function(t,e,n,r){rA(this,t,e,n,r)};function pt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Rt(e,t);else if(e instanceof Rt)e.target=e.target||t;else{var s=e;e=new Rt(r,t),ZP(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Eu(o,r,!0,e)&&s}if(o=e.g=t,s=Eu(o,r,!0,e)&&s,s=Eu(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Eu(o,r,!1,e)&&s}it.prototype.N=function(){if(it.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Jd(n[r]);delete t.g[e],t.h--}}this.J=null};it.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};it.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Eu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Og(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var rv=Q.JSON.stringify;class cj{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function uj(){var t=sv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class hj{constructor(){this.h=this.g=null}add(e,n){const r=iA.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var iA=new cj(()=>new dj,t=>t.reset());class dj{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function fj(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function pj(t){Q.setTimeout(()=>{throw t},0)}let Gl,Kl=!1,sv=new hj,oA=()=>{const t=Q.Promise.resolve(void 0);Gl=()=>{t.then(mj)}};var mj=()=>{for(var t;t=uj();){try{t.h.call(t.g)}catch(n){pj(n)}var e=iA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Kl=!1};function ef(t,e){it.call(this),this.h=t||1,this.g=e||Q,this.j=At(this.qb,this),this.l=Date.now()}ot(ef,it);F=ef.prototype;F.ga=!1;F.T=null;F.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),pt(this,"tick"),this.ga&&(iv(this),this.start()))}};F.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function iv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}F.N=function(){ef.$.N.call(this),iv(this),delete this.g};function ov(t,e,n){if(typeof t=="function")n&&(t=At(t,n));else if(t&&typeof t.handleEvent=="function")t=At(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function aA(t){t.g=ov(()=>{t.g=null,t.i&&(t.i=!1,aA(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class gj extends js{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:aA(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ql(t){js.call(this),this.h=t,this.g={}}ot(Ql,js);var YE=[];function lA(t,e,n,r){Array.isArray(n)||(n&&(YE[0]=n.toString()),n=YE);for(var s=0;s<n.length;s++){var i=eA(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function cA(t){J_(t.g,function(e,n){this.g.hasOwnProperty(n)&&ev(e)},t),t.g={}}Ql.prototype.N=function(){Ql.$.N.call(this),cA(this)};Ql.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function tf(){this.g=!0}tf.prototype.Ea=function(){this.g=!1};function yj(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function _j(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function fo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+wj(t,n)+(r?" "+r:"")})}function vj(t,e){t.info(function(){return"TIMEOUT: "+e})}tf.prototype.info=function(){};function wj(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return rv(n)}catch{return e}}var Fi={},XE=null;function nf(){return XE=XE||new it}Fi.Ta="serverreachability";function uA(t){Rt.call(this,Fi.Ta,t)}ot(uA,Rt);function Yl(t){const e=nf();pt(e,new uA(e))}Fi.STAT_EVENT="statevent";function hA(t,e){Rt.call(this,Fi.STAT_EVENT,t),this.stat=e}ot(hA,Rt);function Lt(t){const e=nf();pt(e,new hA(e,t))}Fi.Ua="timingevent";function dA(t,e){Rt.call(this,Fi.Ua,t),this.size=e}ot(dA,Rt);function Cc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}var rf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},fA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function av(){}av.prototype.h=null;function JE(t){return t.h||(t.h=t.i())}function pA(){}var Pc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function lv(){Rt.call(this,"d")}ot(lv,Rt);function cv(){Rt.call(this,"c")}ot(cv,Rt);var Lg;function sf(){}ot(sf,av);sf.prototype.g=function(){return new XMLHttpRequest};sf.prototype.i=function(){return{}};Lg=new sf;function Ac(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ql(this),this.P=Ej,t=Ng?125:void 0,this.V=new ef(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new mA}function mA(){this.i=null,this.g="",this.h=!1}var Ej=45e3,gA={},Fg={};F=Ac.prototype;F.setTimeout=function(t){this.P=t};function Vg(t,e,n){t.L=1,t.A=af(jr(e)),t.u=n,t.S=!0,yA(t,null)}function yA(t,e){t.G=Date.now(),Rc(t),t.B=jr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),SA(n.i,"t",r),t.o=0,n=t.l.J,t.h=new mA,t.g=qA(t.l,n?e:null,!t.u),0<t.O&&(t.M=new gj(At(t.Pa,t,t.g),t.O)),lA(t.U,t.g,"readystatechange",t.nb),e=t.I?JP(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Yl(),yj(t.j,t.v,t.B,t.m,t.W,t.u)}F.nb=function(t){t=t.target;const e=this.M;e&&tr(t)==3?e.l():this.Pa(t)};F.Pa=function(t){try{if(t==this.g)e:{const u=tr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Ng||this.g&&(this.h.h||this.g.ja()||n1(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?Yl(3):Yl(2)),of(this);var n=this.g.da();this.ca=n;t:if(_A(this)){var r=n1(this.g);t="";var s=r.length,i=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ii(this),ll(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,_j(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hl(a)){var c=a;break t}}c=null}if(n=c)fo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jg(this,n);else{this.i=!1,this.s=3,Lt(12),ii(this),ll(this);break e}}this.S?(vA(this,u,o),Ng&&this.i&&u==3&&(lA(this.U,this.V,"tick",this.mb),this.V.start())):(fo(this.j,this.m,o,null),jg(this,o)),u==4&&ii(this),this.i&&!this.J&&(u==4?BA(this.l,this):(this.i=!1,Rc(this)))}else Bj(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),ii(this),ll(this)}}}catch{}finally{}};function _A(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function vA(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=Tj(t,n),s==Fg){e==4&&(t.s=4,Lt(14),r=!1),fo(t.j,t.m,null,"[Incomplete Response]");break}else if(s==gA){t.s=4,Lt(15),fo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else fo(t.j,t.m,s,null),jg(t,s);_A(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Lt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),mv(e),e.M=!0,Lt(11))):(fo(t.j,t.m,n,"[Invalid Chunked Response]"),ii(t),ll(t))}F.mb=function(){if(this.g){var t=tr(this.g),e=this.g.ja();this.o<e.length&&(of(this),vA(this,t,e),this.i&&t!=4&&Rc(this))}};function Tj(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Fg:(n=Number(e.substring(n,r)),isNaN(n)?gA:(r+=1,r+n>e.length?Fg:(e=e.slice(r,r+n),t.o=r+n,e)))}F.cancel=function(){this.J=!0,ii(this)};function Rc(t){t.Y=Date.now()+t.P,wA(t,t.P)}function wA(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Cc(At(t.lb,t),e)}function of(t){t.C&&(Q.clearTimeout(t.C),t.C=null)}F.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(vj(this.j,this.B),this.L!=2&&(Yl(),Lt(17)),ii(this),this.s=2,ll(this)):wA(this,this.Y-t)};function ll(t){t.l.H==0||t.J||BA(t.l,t)}function ii(t){of(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,iv(t.V),cA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function jg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ug(n.i,t))){if(!t.K&&Ug(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Gh(n),hf(n);else break e;pv(n),Lt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Cc(At(n.ib,n),6e3));if(1>=AA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else oi(n,11)}else if((t.K||n.g==t)&&Gh(n),!Hl(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var i=r.i;i.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(uv(i,i.h),i.h=null))}if(r.F){const v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,xe(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=HA(r,r.J?r.pa:null,r.Y),o.K){RA(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(of(a),Rc(a)),r.g=o}else UA(r);0<n.j.length&&df(n)}else c[0]!="stop"&&c[0]!="close"||oi(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?oi(n,7):fv(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Yl(4)}catch{}}function xj(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Yd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Ij(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Yd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function EA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Yd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Ij(t),r=xj(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var TA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sj(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function fi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof fi){this.h=t.h,Hh(this,t.j),this.s=t.s,this.g=t.g,qh(this,t.m),this.l=t.l;var e=t.i,n=new Xl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ZE(this,n),this.o=t.o}else t&&(e=String(t).match(TA))?(this.h=!1,Hh(this,e[1]||"",!0),this.s=Wa(e[2]||""),this.g=Wa(e[3]||"",!0),qh(this,e[4]),this.l=Wa(e[5]||"",!0),ZE(this,e[6]||"",!0),this.o=Wa(e[7]||"")):(this.h=!1,this.i=new Xl(null,this.h))}fi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ha(e,e1,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ha(e,e1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ha(n,n.charAt(0)=="/"?Aj:Pj,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ha(n,kj)),t.join("")};function jr(t){return new fi(t)}function Hh(t,e,n){t.j=n?Wa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function qh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ZE(t,e,n){e instanceof Xl?(t.i=e,Nj(t.i,t.h)):(n||(e=Ha(e,Rj)),t.i=new Xl(e,t.h))}function xe(t,e,n){t.i.set(e,n)}function af(t){return xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Wa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ha(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Cj),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Cj(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var e1=/[#\/\?@]/g,Pj=/[#\?:]/g,Aj=/[#\?]/g,Rj=/[#\?@]/g,kj=/#/g;function Xl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Us(t){t.g||(t.g=new Map,t.h=0,t.i&&Sj(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}F=Xl.prototype;F.add=function(t,e){Us(this),this.i=null,t=ha(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function xA(t,e){Us(t),e=ha(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function IA(t,e){return Us(t),e=ha(t,e),t.g.has(e)}F.forEach=function(t,e){Us(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};F.ta=function(){Us(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};F.Z=function(t){Us(this);let e=[];if(typeof t=="string")IA(this,t)&&(e=e.concat(this.g.get(ha(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};F.set=function(t,e){return Us(this),this.i=null,t=ha(this,t),IA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};F.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function SA(t,e,n){xA(t,e),0<n.length&&(t.i=null,t.g.set(ha(t,e),Y_(n)),t.h+=n.length)}F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function ha(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Nj(t,e){e&&!t.j&&(Us(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(xA(this,r),SA(this,s,n))},t)),t.j=e}var bj=class{constructor(t,e){this.g=t,this.map=e}};function CA(t){this.l=t||Dj,Q.PerformanceNavigationTiming?(t=Q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Dj=10;function PA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function AA(t){return t.h?1:t.g?t.g.size:0}function Ug(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function uv(t,e){t.g?t.g.add(e):t.h=e}function RA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}CA.prototype.cancel=function(){if(this.i=kA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function kA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Y_(t.i)}var Oj=class{stringify(t){return Q.JSON.stringify(t,void 0)}parse(t){return Q.JSON.parse(t,void 0)}};function Mj(){this.g=new Oj}function Lj(t,e,n){const r=n||"";try{EA(t,function(s,i){let o=s;Ic(s)&&(o=rv(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Fj(t,e){const n=new tf;if(Q.Image){const r=new Image;r.onload=wu(Tu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=wu(Tu,n,r,"TestLoadImage: error",!1,e),r.onabort=wu(Tu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=wu(Tu,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Tu(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function lf(t){this.l=t.ec||null,this.j=t.ob||!1}ot(lf,av);lf.prototype.g=function(){return new cf(this.l,this.j)};lf.prototype.i=function(t){return function(){return t}}({});function cf(t,e){it.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=hv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ot(cf,it);var hv=0;F=cf.prototype;F.open=function(t,e){if(this.readyState!=hv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Jl(this)};F.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kc(this)),this.readyState=hv};F.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Jl(this)),this.g&&(this.readyState=3,Jl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;NA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function NA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}F.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?kc(this):Jl(this),this.readyState==3&&NA(this)}};F.Za=function(t){this.g&&(this.response=this.responseText=t,kc(this))};F.Ya=function(t){this.g&&(this.response=t,kc(this))};F.ka=function(){this.g&&kc(this)};function kc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Jl(t)}F.setRequestHeader=function(t,e){this.v.append(t,e)};F.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};F.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Jl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(cf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Vj=Q.JSON.parse;function Fe(t){it.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=bA,this.L=this.M=!1}ot(Fe,it);var bA="",jj=/^https?$/i,Uj=["POST","PUT"];F=Fe.prototype;F.Oa=function(t){this.M=t};F.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Lg.g(),this.C=this.u?JE(this.u):JE(Lg),this.g.onreadystatechange=At(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){t1(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=Q.FormData&&t instanceof Q.FormData,!(0<=KP(Uj,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{MA(this),0<this.B&&((this.L=$j(this.g))?(this.g.timeout=this.B,this.g.ontimeout=At(this.ua,this)):this.A=ov(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){t1(this,i)}};function $j(t){return Wo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}F.ua=function(){typeof Q_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pt(this,"timeout"),this.abort(8))};function t1(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,DA(t),uf(t)}function DA(t){t.F||(t.F=!0,pt(t,"complete"),pt(t,"error"))}F.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,pt(this,"complete"),pt(this,"abort"),uf(this))};F.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uf(this,!0)),Fe.$.N.call(this)};F.La=function(){this.s||(this.G||this.v||this.l?OA(this):this.kb())};F.kb=function(){OA(this)};function OA(t){if(t.h&&typeof Q_<"u"&&(!t.C[1]||tr(t)!=4||t.da()!=2)){if(t.v&&tr(t)==4)ov(t.La,0,t);else if(pt(t,"readystatechange"),tr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(TA)[1]||null;!s&&Q.self&&Q.self.location&&(s=Q.self.location.protocol.slice(0,-1)),r=!jj.test(s?s.toLowerCase():"")}n=r}if(n)pt(t,"complete"),pt(t,"success");else{t.m=6;try{var i=2<tr(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",DA(t)}}finally{uf(t)}}}}function uf(t,e){if(t.g){MA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||pt(t,"ready");try{n.onreadystatechange=r}catch{}}}function MA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}F.isActive=function(){return!!this.g};function tr(t){return t.g?t.g.readyState:0}F.da=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}};F.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};F.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Vj(e)}};function n1(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case bA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Bj(t){const e={};t=(t.g&&2<=tr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Hl(t[r]))continue;var n=fj(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}oj(e,function(r){return r.join(", ")})}F.Ia=function(){return this.m};F.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function LA(t){let e="";return J_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function dv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=LA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):xe(t,e,n))}function Na(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function FA(t){this.Ga=0,this.j=[],this.l=new tf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Na("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Na("baseRetryDelayMs",5e3,t),this.hb=Na("retryDelaySeedMs",1e4,t),this.eb=Na("forwardChannelMaxRetries",2,t),this.xa=Na("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new CA(t&&t.concurrentRequestLimit),this.Ja=new Mj,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}F=FA.prototype;F.ra=8;F.H=1;function fv(t){if(VA(t),t.H==3){var e=t.W++,n=jr(t.I);if(xe(n,"SID",t.K),xe(n,"RID",e),xe(n,"TYPE","terminate"),Nc(t,n),e=new Ac(t,t.l,e),e.L=2,e.A=af(jr(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Q.Image&&(new Image().src=e.A,n=!0),n||(e.g=qA(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Rc(e)}WA(t)}function hf(t){t.g&&(mv(t),t.g.cancel(),t.g=null)}function VA(t){hf(t),t.u&&(Q.clearTimeout(t.u),t.u=null),Gh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Q.clearTimeout(t.m),t.m=null)}function df(t){if(!PA(t.i)&&!t.m){t.m=!0;var e=t.Na;Gl||oA(),Kl||(Gl(),Kl=!0),sv.add(e,t),t.C=0}}function zj(t,e){return AA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Cc(At(t.Na,t,e),zA(t,t.C)),t.C++,!0)}F.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Ac(this,this.l,t);let i=this.s;if(this.U&&(i?(i=JP(i),ZP(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=jA(this,s,e),n=jr(this.I),xe(n,"RID",t),xe(n,"CVER",22),this.F&&xe(n,"X-HTTP-Session-Id",this.F),Nc(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(LA(i)))+"&"+e:this.o&&dv(n,this.o,i)),uv(this.i,s),this.bb&&xe(n,"TYPE","init"),this.P?(xe(n,"$req",e),xe(n,"SID","null"),s.aa=!0,Vg(s,n,null)):Vg(s,n,e),this.H=2}}else this.H==3&&(t?r1(this,t):this.j.length==0||PA(this.i)||r1(this))};function r1(t,e){var n;e?n=e.m:n=t.W++;const r=jr(t.I);xe(r,"SID",t.K),xe(r,"RID",n),xe(r,"AID",t.V),Nc(t,r),t.o&&t.s&&dv(r,t.o,t.s),n=new Ac(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=jA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),uv(t.i,n),Vg(n,r,e)}function Nc(t,e){t.na&&J_(t.na,function(n,r){xe(e,r,n)}),t.h&&EA({},function(n,r){xe(e,r,n)})}function jA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?At(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{Lj(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function UA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Gl||oA(),Kl||(Gl(),Kl=!0),sv.add(e,t),t.A=0}}function pv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Cc(At(t.Ma,t),zA(t,t.A)),t.A++,!0)}F.Ma=function(){if(this.u=null,$A(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Cc(At(this.jb,this),t)}};F.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Lt(10),hf(this),$A(this))};function mv(t){t.B!=null&&(Q.clearTimeout(t.B),t.B=null)}function $A(t){t.g=new Ac(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=jr(t.wa);xe(e,"RID","rpc"),xe(e,"SID",t.K),xe(e,"AID",t.V),xe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&xe(e,"TO",t.qa),xe(e,"TYPE","xmlhttp"),Nc(t,e),t.o&&t.s&&dv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=af(jr(e)),n.u=null,n.S=!0,yA(n,t)}F.ib=function(){this.v!=null&&(this.v=null,hf(this),pv(this),Lt(19))};function Gh(t){t.v!=null&&(Q.clearTimeout(t.v),t.v=null)}function BA(t,e){var n=null;if(t.g==e){Gh(t),mv(t),t.g=null;var r=2}else if(Ug(t.i,e))n=e.F,RA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=nf(),pt(r,new dA(r,n)),df(t)}else UA(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&zj(t,e)||r==2&&pv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:oi(t,5);break;case 4:oi(t,10);break;case 3:oi(t,6);break;default:oi(t,2)}}}function zA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function oi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=At(t.pb,t);n||(n=new fi("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||Hh(n,"https"),af(n)),Fj(n.toString(),r)}else Lt(2);t.H=0,t.h&&t.h.za(e),WA(t),VA(t)}F.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Lt(2)):(this.l.info("Failed to ping google.com"),Lt(1))};function WA(t){if(t.H=0,t.ma=[],t.h){const e=kA(t.i);(e.length!=0||t.j.length!=0)&&(GE(t.ma,e),GE(t.ma,t.j),t.i.i.length=0,Y_(t.j),t.j.length=0),t.h.ya()}}function HA(t,e,n){var r=n instanceof fi?jr(n):new fi(n);if(r.g!="")e&&(r.g=e+"."+r.g),qh(r,r.m);else{var s=Q.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new fi(null);r&&Hh(i,r),e&&(i.g=e),s&&qh(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&xe(r,n,e),xe(r,"VER",t.ra),Nc(t,r),r}function qA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Fe(new lf({ob:n})):new Fe(t.va),e.Oa(t.J),e}F.isActive=function(){return!!this.h&&this.h.isActive(this)};function GA(){}F=GA.prototype;F.Ba=function(){};F.Aa=function(){};F.za=function(){};F.ya=function(){};F.isActive=function(){return!0};F.Va=function(){};function Kh(){if(Wo&&!(10<=Number(nj)))throw Error("Environmental error: no available transport.")}Kh.prototype.g=function(t,e){return new cn(t,e)};function cn(t,e){it.call(this),this.g=new FA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Hl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new da(this)}ot(cn,it);cn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Lt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=HA(t,null,t.Y),df(t)};cn.prototype.close=function(){fv(this.g)};cn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=rv(t),t=n);e.j.push(new bj(e.fb++,t)),e.H==3&&df(e)};cn.prototype.N=function(){this.g.h=null,delete this.j,fv(this.g),delete this.g,cn.$.N.call(this)};function KA(t){lv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ot(KA,lv);function QA(){cv.call(this),this.status=1}ot(QA,cv);function da(t){this.g=t}ot(da,GA);da.prototype.Ba=function(){pt(this.g,"a")};da.prototype.Aa=function(t){pt(this.g,new KA(t))};da.prototype.za=function(t){pt(this.g,new QA)};da.prototype.ya=function(){pt(this.g,"b")};function Wj(){this.blockSize=-1}function Hn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ot(Hn,Wj);Hn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Fp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}Hn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Fp(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Fp(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Fp(this,r),s=0;break}}this.h=s,this.i+=e};Hn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function de(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var Hj={};function gv(t){return-128<=t&&128>t?ZV(t,function(e){return new de([e|0],0>e?-1:0)}):new de([t|0],0>t?-1:0)}function nr(t){if(isNaN(t)||!isFinite(t))return Ao;if(0>t)return ut(nr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=$g;return new de(e,0)}function YA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ut(YA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=nr(Math.pow(e,8)),r=Ao,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=nr(Math.pow(e,i)),r=r.R(i).add(nr(o))):(r=r.R(n),r=r.add(nr(o)))}return r}var $g=4294967296,Ao=gv(0),Bg=gv(1),s1=gv(16777216);F=de.prototype;F.ea=function(){if(vn(this))return-ut(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:$g+r)*e,e*=$g}return t};F.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ir(this))return"0";if(vn(this))return"-"+ut(this).toString(t);for(var e=nr(Math.pow(t,6)),n=this,r="";;){var s=Yh(n,e).g;n=Qh(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Ir(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};F.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ir(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function vn(t){return t.h==-1}F.X=function(t){return t=Qh(this,t),vn(t)?-1:Ir(t)?0:1};function ut(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new de(n,~t.h).add(Bg)}F.abs=function(){return vn(this)?ut(this):this};F.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new de(n,n[n.length-1]&-2147483648?-1:0)};function Qh(t,e){return t.add(ut(e))}F.R=function(t){if(Ir(this)||Ir(t))return Ao;if(vn(this))return vn(t)?ut(this).R(ut(t)):ut(ut(this).R(t));if(vn(t))return ut(this.R(ut(t)));if(0>this.X(s1)&&0>t.X(s1))return nr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,xu(n,2*r+2*s),n[2*r+2*s+1]+=i*l,xu(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,xu(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,xu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new de(n,0)};function xu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ba(t,e){this.g=t,this.h=e}function Yh(t,e){if(Ir(e))throw Error("division by zero");if(Ir(t))return new ba(Ao,Ao);if(vn(t))return e=Yh(ut(t),e),new ba(ut(e.g),ut(e.h));if(vn(e))return e=Yh(t,ut(e)),new ba(ut(e.g),e.h);if(30<t.g.length){if(vn(t)||vn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Bg,r=e;0>=r.X(t);)n=i1(n),r=i1(r);var s=Ki(n,1),i=Ki(r,1);for(r=Ki(r,2),n=Ki(n,2);!Ir(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=Ki(r,1),n=Ki(n,1)}return e=Qh(t,s.R(e)),new ba(s,e)}for(s=Ao;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=nr(n),o=i.R(e);vn(o)||0<o.X(t);)n-=r,i=nr(n),o=i.R(e);Ir(i)&&(i=Bg),s=s.add(i),t=Qh(t,o)}return new ba(s,t)}F.gb=function(t){return Yh(this,t).h};F.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new de(n,this.h&t.h)};F.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new de(n,this.h|t.h)};F.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new de(n,this.h^t.h)};function i1(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new de(n,t.h)}function Ki(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new de(s,t.h)}Kh.prototype.createWebChannel=Kh.prototype.g;cn.prototype.send=cn.prototype.u;cn.prototype.open=cn.prototype.m;cn.prototype.close=cn.prototype.close;rf.NO_ERROR=0;rf.TIMEOUT=8;rf.HTTP_ERROR=6;fA.COMPLETE="complete";pA.EventType=Pc;Pc.OPEN="a";Pc.CLOSE="b";Pc.ERROR="c";Pc.MESSAGE="d";it.prototype.listen=it.prototype.O;Fe.prototype.listenOnce=Fe.prototype.P;Fe.prototype.getLastError=Fe.prototype.Sa;Fe.prototype.getLastErrorCode=Fe.prototype.Ia;Fe.prototype.getStatus=Fe.prototype.da;Fe.prototype.getResponseJson=Fe.prototype.Wa;Fe.prototype.getResponseText=Fe.prototype.ja;Fe.prototype.send=Fe.prototype.ha;Fe.prototype.setWithCredentials=Fe.prototype.Oa;Hn.prototype.digest=Hn.prototype.l;Hn.prototype.reset=Hn.prototype.reset;Hn.prototype.update=Hn.prototype.j;de.prototype.add=de.prototype.add;de.prototype.multiply=de.prototype.R;de.prototype.modulo=de.prototype.gb;de.prototype.compare=de.prototype.X;de.prototype.toNumber=de.prototype.ea;de.prototype.toString=de.prototype.toString;de.prototype.getBits=de.prototype.D;de.fromNumber=nr;de.fromString=YA;var qj=function(){return new Kh},Gj=function(){return nf()},Vp=rf,Kj=fA,Qj=Fi,o1={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Iu=pA,Yj=Fe,Xj=Hn,Ro=de;const a1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fa="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new _c("@firebase/firestore");function Da(){return Si.logLevel}function U(t,...e){if(Si.logLevel<=Z.DEBUG){const n=e.map(yv);Si.debug(`Firestore (${fa}): ${t}`,...n)}}function Ur(t,...e){if(Si.logLevel<=Z.ERROR){const n=e.map(yv);Si.error(`Firestore (${fa}): ${t}`,...n)}}function Ho(t,...e){if(Si.logLevel<=Z.WARN){const n=e.map(yv);Si.warn(`Firestore (${fa}): ${t}`,...n)}}function yv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t="Unexpected state"){const e=`FIRESTORE (${fa}) INTERNAL ASSERTION FAILED: `+t;throw Ur(e),new Error(e)}function ye(t,e){t||K()}function J(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Jj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class Zj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class e3{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new kr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new kr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string"),new XA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string"),new Et(e)}}class t3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class n3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new t3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string"),this.R=n.token,new r3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=i3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function qo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new Ze(0,0))}static max(){return new Y(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(),r===void 0?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ae extends Zl{construct(e,n,r){return new Ae(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const o3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends Zl{construct(e,n,r){return new dt(e,n,r)}static isValidIdentifier(e){return o3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new dt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new $(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new $(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new $(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dt(n)}static emptyPath(){return new dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.path=e}static fromPath(e){return new B(Ae.fromString(e))}static fromName(e){return new B(Ae.fromString(e).popFirst(5))}static empty(){return new B(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new B(new Ae(e.slice()))}}function a3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Y.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new Rs(s,B.empty(),e)}function l3(t){return new Rs(t.readTime,t.key,-1)}class Rs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rs(Y.min(),B.empty(),-1)}static max(){return new Rs(Y.max(),B.empty(),-1)}}function c3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=B.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==u3)throw t;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new b((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof b?n:b.resolve(n)}catch(n){return b.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):b.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):b.reject(n)}static resolve(e){return new b((n,r)=>{n(e)})}static reject(e){return new b((n,r)=>{r(e)})}static waitFor(e){return new b((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=b.resolve(!1);for(const r of e)n=n.next(s=>s?b.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new b((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new b((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Dc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}_v._e=-1;function ff(t){return t==null}function Xh(t){return t===0&&1/t==-1/0}function d3(t){return typeof t=="number"&&Number.isInteger(t)&&!Xh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||ct.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ct.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Su(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Su(this.root,e,this.comparator,!1)}getReverseIterator(){return new Su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Su(this.root,e,this.comparator,!0)}}class Su{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ct{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ct.RED,this.left=s??ct.EMPTY,this.right=i??ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ct(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ct.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}}ct.EMPTY=null,ct.RED=!0,ct.BLACK=!1;ct.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,n,r,s,i){return this}insert(e,n,r){return new ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new c1(this.data.getIterator())}getIteratorFrom(e){return new c1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class c1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.fields=e,e.sort(dt.comparator)}static empty(){return new en([])}unionWith(e){let n=new mt(dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new en(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new eR("Invalid base64 string: "+i):i}}(e);return new bt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const f3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(t){if(ye(!!t),typeof t=="string"){let e=0;const n=f3.exec(t);if(ye(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ci(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function wv(t){const e=t.mapValue.fields.__previous_value__;return vv(e)?wv(e):e}function ec(t){const e=ks(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class tc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof tc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Pi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vv(t)?4:m3(t)?9007199254740991:10:K()}function fr(t,e){if(t===e)return!0;const n=Pi(t);if(n!==Pi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ec(t).isEqual(ec(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ks(s.timestampValue),a=ks(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ci(s.bytesValue).isEqual(Ci(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ze(s.geoPointValue.latitude)===ze(i.geoPointValue.latitude)&&ze(s.geoPointValue.longitude)===ze(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ze(s.integerValue)===ze(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ze(s.doubleValue),a=ze(i.doubleValue);return o===a?Xh(o)===Xh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return qo(t.arrayValue.values||[],e.arrayValue.values||[],fr);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(l1(o)!==l1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!fr(o[l],a[l])))return!1;return!0}(t,e);default:return K()}}function nc(t,e){return(t.values||[]).find(n=>fr(n,e))!==void 0}function Go(t,e){if(t===e)return 0;const n=Pi(t),r=Pi(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ze(i.integerValue||i.doubleValue),l=ze(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return u1(t.timestampValue,e.timestampValue);case 4:return u1(ec(t),ec(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ci(i),l=Ci(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ae(a[c],l[c]);if(u!==0)return u}return ae(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ae(ze(i.latitude),ze(o.latitude));return a!==0?a:ae(ze(i.longitude),ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Go(a[c],l[c]);if(u)return u}return ae(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Cu.mapValue&&o===Cu.mapValue)return 0;if(i===Cu.mapValue)return 1;if(o===Cu.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=ae(l[h],u[h]);if(f!==0)return f;const p=Go(a[l[h]],c[u[h]]);if(p!==0)return p}return ae(l.length,u.length)}(t.mapValue,e.mapValue);default:throw K()}}function u1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=ks(t),r=ks(e),s=ae(n.seconds,r.seconds);return s!==0?s:ae(n.nanos,r.nanos)}function Ko(t){return zg(t)}function zg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ks(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ci(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return B.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=zg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${zg(n.fields[o])}`;return s+"}"}(t.mapValue):K()}function Wg(t){return!!t&&"integerValue"in t}function Ev(t){return!!t&&"arrayValue"in t}function h1(t){return!!t&&"nullValue"in t}function d1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ku(t){return!!t&&"mapValue"in t}function cl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Vi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function m3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ku(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cl(n)}setAll(e){let n=dt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=cl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ku(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ku(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Vi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new $t(cl(this.value))}}function tR(t){const e=[];return Vi(t.fields,(n,r)=>{const s=new dt([n]);if(Ku(r)){const i=tR(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new en(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new St(e,0,Y.min(),Y.min(),Y.min(),$t.empty(),0)}static newFoundDocument(e,n,r,s){return new St(e,1,n,Y.min(),r,s,0)}static newNoDocument(e,n){return new St(e,2,n,Y.min(),Y.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,Y.min(),Y.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.position=e,this.inclusive=n}}function f1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=B.comparator(B.fromName(o.referenceValue),n.key):r=Go(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function p1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n="asc"){this.field=e,this.dir=n}}function g3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{}class Ye extends nR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _3(e,n,r):n==="array-contains"?new E3(e,r):n==="in"?new T3(e,r):n==="not-in"?new x3(e,r):n==="array-contains-any"?new I3(e,r):new Ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new v3(e,r):new w3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Go(n,this.value)):n!==null&&Pi(this.value)===Pi(n)&&this.matchesComparison(Go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends nR{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new pr(e,n)}matches(e){return rR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function rR(t){return t.op==="and"}function sR(t){return y3(t)&&rR(t)}function y3(t){for(const e of t.filters)if(e instanceof pr)return!1;return!0}function Hg(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+Ko(t.value);if(sR(t))return t.filters.map(e=>Hg(e)).join(",");{const e=t.filters.map(n=>Hg(n)).join(",");return`${t.op}(${e})`}}function iR(t,e){return t instanceof Ye?function(r,s){return s instanceof Ye&&r.op===s.op&&r.field.isEqual(s.field)&&fr(r.value,s.value)}(t,e):t instanceof pr?function(r,s){return s instanceof pr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&iR(o,s.filters[a]),!0):!1}(t,e):void K()}function oR(t){return t instanceof Ye?function(n){return`${n.field.canonicalString()} ${n.op} ${Ko(n.value)}`}(t):t instanceof pr?function(n){return n.op.toString()+" {"+n.getFilters().map(oR).join(" ,")+"}"}(t):"Filter"}class _3 extends Ye{constructor(e,n,r){super(e,n,r),this.key=B.fromName(r.referenceValue)}matches(e){const n=B.comparator(e.key,this.key);return this.matchesComparison(n)}}class v3 extends Ye{constructor(e,n){super(e,"in",n),this.keys=aR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class w3 extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=aR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>B.fromName(r.referenceValue))}class E3 extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ev(n)&&nc(n.arrayValue,this.value)}}class T3 extends Ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nc(this.value.arrayValue,n)}}class x3 extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!nc(this.value.arrayValue,n)}}class I3 extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ev(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function m1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new S3(t,e,n,r,s,i,o)}function Tv(t){const e=J(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Hg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ff(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ko(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ko(r)).join(",")),e.ce=n}return e.ce}function xv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!g3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!p1(t.startAt,e.startAt)&&p1(t.endAt,e.endAt)}function qg(t){return B.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function C3(t,e,n,r,s,i,o,a){return new pf(t,e,n,r,s,i,o,a)}function Iv(t){return new pf(t)}function g1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function P3(t){return t.collectionGroup!==null}function ul(t){const e=J(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new mt(dt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new Zh(i,r))}),n.has(dt.keyField().canonicalString())||e.le.push(new Zh(dt.keyField(),r))}return e.le}function or(t){const e=J(t);return e.he||(e.he=A3(e,ul(t))),e.he}function A3(t,e){if(t.limitType==="F")return m1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Zh(s.field,i)});const n=t.endAt?new Jh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jh(t.startAt.position,t.startAt.inclusive):null;return m1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gg(t,e,n){return new pf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mf(t,e){return xv(or(t),or(e))&&t.limitType===e.limitType}function lR(t){return`${Tv(or(t))}|lt:${t.limitType}`}function Qi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>oR(s)).join(", ")}]`),ff(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ko(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ko(s)).join(",")),`Target(${r})`}(or(t))}; limitType=${t.limitType})`}function gf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):B.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ul(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=f1(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,ul(r),s)||r.endAt&&!function(o,a,l){const c=f1(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,ul(r),s))}(t,e)}function R3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cR(t){return(e,n)=>{let r=!1;for(const s of ul(t)){const i=k3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function k3(t,e,n){const r=t.field.isKeyField()?B.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Go(l,c):K()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Vi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return ZA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=new De(B.comparator);function $r(){return N3}const uR=new De(B.comparator);function qa(...t){let e=uR;for(const n of t)e=e.insert(n.key,n);return e}function hR(t){let e=uR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ai(){return hl()}function dR(){return hl()}function hl(){return new pa(t=>t.toString(),(t,e)=>t.isEqual(e))}const b3=new De(B.comparator),D3=new mt(B.comparator);function ee(...t){let e=D3;for(const n of t)e=e.add(n);return e}const O3=new mt(ae);function M3(){return O3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function pR(t){return{integerValue:""+t}}function L3(t,e){return d3(e)?pR(e):fR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this._=void 0}}function F3(t,e,n){return t instanceof ed?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&vv(i)&&(i=wv(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof rc?gR(t,e):t instanceof sc?yR(t,e):function(s,i){const o=mR(s,i),a=y1(o)+y1(s.Ie);return Wg(o)&&Wg(s.Ie)?pR(a):fR(s.serializer,a)}(t,e)}function V3(t,e,n){return t instanceof rc?gR(t,e):t instanceof sc?yR(t,e):n}function mR(t,e){return t instanceof td?function(r){return Wg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ed extends yf{}class rc extends yf{constructor(e){super(),this.elements=e}}function gR(t,e){const n=_R(e);for(const r of t.elements)n.some(s=>fr(s,r))||n.push(r);return{arrayValue:{values:n}}}class sc extends yf{constructor(e){super(),this.elements=e}}function yR(t,e){let n=_R(e);for(const r of t.elements)n=n.filter(s=>!fr(s,r));return{arrayValue:{values:n}}}class td extends yf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function y1(t){return ze(t.integerValue||t.doubleValue)}function _R(t){return Ev(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function j3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof rc&&s instanceof rc||r instanceof sc&&s instanceof sc?qo(r.elements,s.elements,fr):r instanceof td&&s instanceof td?fr(r.Ie,s.Ie):r instanceof ed&&s instanceof ed}(t.transform,e.transform)}class U3{constructor(e,n){this.version=e,this.transformResults=n}}class In{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new In}static exists(e){return new In(void 0,e)}static updateTime(e){return new In(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _f{}function vR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sv(t.key,In.none()):new Oc(t.key,t.data,In.none());{const n=t.data,r=$t.empty();let s=new mt(dt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new $s(t.key,r,new en(s.toArray()),In.none())}}function $3(t,e,n){t instanceof Oc?function(s,i,o){const a=s.value.clone(),l=v1(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof $s?function(s,i,o){if(!Qu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=v1(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(wR(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function dl(t,e,n,r){return t instanceof Oc?function(i,o,a,l){if(!Qu(i.precondition,o))return a;const c=i.value.clone(),u=w1(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof $s?function(i,o,a,l){if(!Qu(i.precondition,o))return a;const c=w1(i.fieldTransforms,l,o),u=o.data;return u.setAll(wR(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Qu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function B3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=mR(r.transform,s||null);i!=null&&(n===null&&(n=$t.empty()),n.set(r.field,i))}return n||null}function _1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&qo(r,s,(i,o)=>j3(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Oc extends _f{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $s extends _f{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function wR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function v1(t,e,n){const r=new Map;ye(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,V3(o,a,n[s]))}return r}function w1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,F3(i,o,e))}return r}class Sv extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z3 extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&$3(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dR();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=vR(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,(n,r)=>_1(n,r))&&qo(this.baseMutations,e.baseMutations,(n,r)=>_1(n,r))}}class Cv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ye(e.mutations.length===r.length);let s=function(){return b3}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Cv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e,re;function G3(t){switch(t){default:return K();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function ER(t){if(t===void 0)return Ur("GRPC error has no .code"),N.UNKNOWN;switch(t){case $e.OK:return N.OK;case $e.CANCELLED:return N.CANCELLED;case $e.UNKNOWN:return N.UNKNOWN;case $e.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case $e.INTERNAL:return N.INTERNAL;case $e.UNAVAILABLE:return N.UNAVAILABLE;case $e.UNAUTHENTICATED:return N.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case $e.NOT_FOUND:return N.NOT_FOUND;case $e.ALREADY_EXISTS:return N.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return N.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case $e.ABORTED:return N.ABORTED;case $e.OUT_OF_RANGE:return N.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return N.UNIMPLEMENTED;case $e.DATA_LOSS:return N.DATA_LOSS;default:return K()}}(re=$e||($e={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=new Ro([4294967295,4294967295],0);function E1(t){const e=K3().encode(t),n=new Xj;return n.update(e),new Uint8Array(n.digest())}function T1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ro([n,r],0),new Ro([s,i],0)]}class Pv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ga(`Invalid padding: ${n}`);if(r<0)throw new Ga(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ga(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ga(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ro.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Ro.fromNumber(r)));return s.compare(Q3)===1&&(s=new Ro([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=E1(e),[r,s]=T1(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Pv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=E1(e),[r,s]=T1(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Mc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vf(Y.min(),s,new De(ae),$r(),ee())}}class Mc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Mc(r,n,ee(),ee(),ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class TR{constructor(e,n){this.targetId=e,this.fe=n}}class xR{constructor(e,n,r=bt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class x1{constructor(){this.ge=0,this.pe=S1(),this.ye=bt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ee(),n=ee(),r=ee();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:K()}}),new Mc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=S1()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ye(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Y3{constructor(e){this.Le=e,this.ke=new Map,this.qe=$r(),this.Qe=I1(),this.Ke=new De(ae)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(qg(i))if(r===0){const o=new B(i.path);this.We(n,o,St.newNoDocument(o,Y.min()))}else ye(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ci(r).toUint8Array()}catch(l){if(l instanceof eR)return Ho("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Pv(o,s,i)}catch(l){return Ho(l instanceof Ga?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&qg(a.target)){const l=new B(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,St.newNoDocument(l,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=ee();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new vf(e,n,this.Ke,this.qe,r);return this.qe=$r(),this.Qe=I1(),this.Ke=new De(ae),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new x1,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new mt(ae),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new x1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function I1(){return new De(B.comparator)}function S1(){return new De(B.comparator)}const X3={asc:"ASCENDING",desc:"DESCENDING"},J3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z3={and:"AND",or:"OR"};class e6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kg(t,e){return t.useProto3Json||ff(e)?e:{value:e}}function nd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function t6(t,e){return nd(t,e.toTimestamp())}function ar(t){return ye(!!t),Y.fromTimestamp(function(n){const r=ks(n);return new Ze(r.seconds,r.nanos)}(t))}function Av(t,e){return function(r){return new Ae(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function SR(t){const e=Ae.fromString(t);return ye(RR(e)),e}function Qg(t,e){return Av(t.databaseId,e.path)}function jp(t,e){const n=SR(e);if(n.get(1)!==t.databaseId.projectId)throw new $(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new B(CR(n))}function Yg(t,e){return Av(t.databaseId,e)}function n6(t){const e=SR(t);return e.length===4?Ae.emptyPath():CR(e)}function Xg(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CR(t){return ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function C1(t,e,n){return{name:Qg(t,e),fields:n.value.mapValue.fields}}function r6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(ye(u===void 0||typeof u=="string"),bt.fromBase64String(u||"")):(ye(u===void 0||u instanceof Uint8Array),bt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?N.UNKNOWN:ER(c.code);return new $(u,c.message||"")}(o);n=new xR(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=jp(t,r.document.name),i=ar(r.document.updateTime),o=r.document.createTime?ar(r.document.createTime):Y.min(),a=new $t({mapValue:{fields:r.document.fields}}),l=St.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Yu(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=jp(t,r.document),i=r.readTime?ar(r.readTime):Y.min(),o=St.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Yu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=jp(t,r.document),i=r.removedTargetIds||[];n=new Yu([],i,s,null)}else{if(!("filter"in e))return K();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new q3(s,i),a=r.targetId;n=new TR(a,o)}}return n}function s6(t,e){let n;if(e instanceof Oc)n={update:C1(t,e.key,e.value)};else if(e instanceof Sv)n={delete:Qg(t,e.key)};else if(e instanceof $s)n={update:C1(t,e.key,e.data),updateMask:f6(e.fieldMask)};else{if(!(e instanceof z3))return K();n={verify:Qg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ed)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof rc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof sc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof td)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw K()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:t6(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:K()}(t,e.precondition)),n}function i6(t,e){return t&&t.length>0?(ye(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?ar(s.updateTime):ar(i);return o.isEqual(Y.min())&&(o=ar(i)),new U3(o,s.transformResults||[])}(n,e))):[]}function o6(t,e){return{documents:[Yg(t,e.path)]}}function a6(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Yg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Yg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return AR(pr.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:Yi(h.field),direction:u6(h.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=Kg(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function l6(t){let e=n6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ye(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=PR(h);return f instanceof pr&&sR(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new Zh(Xi(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,ff(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Jh(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,p=h.values||[];return new Jh(p,f)}(n.endAt)),C3(e,s,o,i,a,"F",l,c)}function c6(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xi(n.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Xi(n.unaryFilter.field);return Ye.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xi(n.unaryFilter.field);return Ye.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xi(n.unaryFilter.field);return Ye.create(o,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(n){return Ye.create(Xi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pr.create(n.compositeFilter.filters.map(r=>PR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return K()}}(n.compositeFilter.op))}(t):K()}function u6(t){return X3[t]}function h6(t){return J3[t]}function d6(t){return Z3[t]}function Yi(t){return{fieldPath:t.canonicalString()}}function Xi(t){return dt.fromServerFormat(t.fieldPath)}function AR(t){return t instanceof Ye?function(n){if(n.op==="=="){if(d1(n.value))return{unaryFilter:{field:Yi(n.field),op:"IS_NAN"}};if(h1(n.value))return{unaryFilter:{field:Yi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(d1(n.value))return{unaryFilter:{field:Yi(n.field),op:"IS_NOT_NAN"}};if(h1(n.value))return{unaryFilter:{field:Yi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yi(n.field),op:h6(n.op),value:n.value}}}(t):t instanceof pr?function(n){const r=n.getFilters().map(s=>AR(s));return r.length===1?r[0]:{compositeFilter:{op:d6(n.op),filters:r}}}(t):K()}function f6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function RR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,r,s,i=Y.min(),o=Y.min(),a=bt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.ut=e}}function m6(t){const e=l6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.on=new y6}addToCollectionParentIndex(e,n){return this.on.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}deleteAllFieldIndexes(e){return b.resolve()}createTargetIndexes(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,n){return b.resolve(Rs.min())}updateCollectionGroup(e,n,r){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}}class y6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new mt(Ae.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new mt(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Qo(0)}static Nn(){return new Qo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this.changes=new pa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?b.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&dl(r.mutation,s,en.empty(),Ze.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ee()){const s=ai();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=qa();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ai();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ee()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=$r();const o=hl(),a=function(){return hl()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof $s)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),dl(u.mutation,c,u.mutation.getFieldMask(),Ze.now())):o.set(c.key,en.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new v6(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=hl();let s=new De((o,a)=>o-a),i=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||en.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||ee()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=dR();u.forEach(f=>{if(!i.has(f)){const p=vR(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return b.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return B.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):P3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):b.resolve(ai());let a=-1,l=i;return o.next(c=>b.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?b.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,ee())).next(u=>({batchId:a,changes:hR(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new B(n)).next(r=>{let s=qa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=qa();return this.indexManager.getCollectionParents(e,i).next(a=>b.forEach(a,l=>{const c=function(h,f){return new pf(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,St.newInvalidDocument(u)))});let a=qa();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&dl(u.mutation,c,en.empty(),Ze.now()),gf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return b.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ar(s.createTime)}}(n)),b.resolve()}getNamedQuery(e,n){return b.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:m6(s.bundledQuery),readTime:ar(s.readTime)}}(n)),b.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this.overlays=new De(B.comparator),this.lr=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ai();return b.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.lt(e,n,i)}),b.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),b.resolve()}getOverlaysForCollection(e,n,r){const s=ai(),i=n.length+1,o=new B(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return b.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new De((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=ai(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ai(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return b.resolve(a)}lt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new H3(n,r));let i=this.lr.get(n);i===void 0&&(i=ee(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.hr=new mt(tt.Pr),this.Ir=new mt(tt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new tt(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new tt(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new B(new Ae([])),r=new tt(n,e),s=new tt(n,e+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new B(new Ae([])),r=new tt(n,e),s=new tt(n,e+1);let i=ee();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new tt(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tt{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return B.comparator(e.key,n.key)||ae(e.gr,n.gr)}static Tr(e,n){return ae(e.gr,n.gr)||B.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new mt(tt.Pr)}checkEmpty(e){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new W3(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.yr=this.yr.add(new tt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return b.resolve(o)}lookupMutationBatch(e,n){return b.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return b.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tt(n,0),s=new tt(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const a=this.wr(o.gr);i.push(a)}),b.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mt(ae);return n.forEach(s=>{const i=new tt(s,0),o=new tt(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],a=>{r=r.add(a.gr)})}),b.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;B.isDocumentKey(i)||(i=i.child(""));const o=new tt(new B(i),0);let a=new mt(ae);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.gr)),!0)},o),b.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ye(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return b.forEach(n.mutations,s=>{const i=new tt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new tt(n,0),s=this.yr.firstAfterOrEqual(r);return b.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,b.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e){this.Cr=e,this.docs=function(){return new De(B.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return b.resolve(r?r.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let r=$r();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():St.newInvalidDocument(s))}),b.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=$r();const o=n.path,a=new B(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||c3(l3(u),r)<=0||(s.has(u.key)||gf(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return b.resolve(i)}getAllFromCollectionGroup(e,n,r,s){K()}vr(e,n){return b.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new S6(this)}getSize(e){return b.resolve(this.size)}}class S6 extends _6{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),b.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.persistence=e,this.Fr=new pa(n=>Tv(n),xv),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Rv,this.targetCount=0,this.Nr=Qo.On()}forEachTarget(e,n){return this.Fr.forEach((r,s)=>n(s)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),b.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Qo(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.kn(n),b.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),b.waitFor(i).next(()=>s)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return b.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),b.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),b.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),b.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return b.resolve(r)}containsKey(e,n){return b.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,n){this.Br={},this.overlays={},this.Lr=new _v(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new C6(this),this.indexManager=new g6,this.remoteDocumentCache=function(s){return new I6(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new p6(n),this.Kr=new E6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new T6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new x6(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);const s=new A6(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(e,n){return b.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class A6 extends h3{constructor(e){super(),this.currentSequenceNumber=e}}class kv{constructor(e){this.persistence=e,this.Gr=new Rv,this.zr=null}static jr(e){return new kv(e)}get Hr(){if(this.zr)return this.zr;throw K()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),b.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),b.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Hr,r=>{const s=B.fromPath(r);return this.Jr(e,s).next(i=>{i||n.removeEntry(s,Y.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return b.or([()=>b.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=s}static Qi(e,n){let r=ee(),s=ee();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Nv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.zi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ji(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new R6;return this.Hi(e,n,o).next(a=>{if(i.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>i.result)}Ji(e,n,r,s){return r.documentReadCount<this.Ui?(Da()<=Z.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Qi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),b.resolve()):(Da()<=Z.DEBUG&&U("QueryEngine","Query:",Qi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Wi*s?(Da()<=Z.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Qi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):b.resolve())}zi(e,n){if(g1(n))return b.resolve(null);let r=or(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Gg(n,null,"F"),r=or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ee(...i);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,o,l.readTime)?this.zi(e,Gg(n,null,"F")):this.Xi(e,c,n,l)}))})))}ji(e,n,r,s){return g1(n)||s.isEqual(Y.min())?b.resolve(null):this.Gi.getDocuments(e,r).next(i=>{const o=this.Yi(n,i);return this.Zi(n,o,r,s)?b.resolve(null):(Da()<=Z.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Qi(n)),this.Xi(e,o,n,a3(s,-1)).next(a=>a))})}Yi(e,n){let r=new mt(cR(e));return n.forEach((s,i)=>{gf(e,i)&&(r=r.add(i))}),r}Zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Hi(e,n,r){return Da()<=Z.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Qi(n)),this.Gi.getDocumentsMatchingQuery(e,n,Rs.min(),r)}Xi(e,n,r,s){return this.Gi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e,n,r,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new De(ae),this.ns=new pa(i=>Tv(i),xv),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w6(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function b6(t,e,n,r){return new N6(t,e,n,r)}async function kR(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ee();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}function D6(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let p=b.resolve();return f.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(v=>{const w=c.docVersions.get(g);ye(w!==null),v.version.compareTo(w)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ee();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function NR(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function O6(t,e){const n=J(t),r=e.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const a=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.qr.addMatchingKeys(i,u.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(bt.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(h,p),function(v,w,m){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,p,u)&&a.push(n.qr.updateTargetData(i,p))});let l=$r(),c=ee();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(M6(i,o,e.documentUpdates).next(u=>{l=u.us,c=u.cs})),!r.isEqual(Y.min())){const u=n.qr.getLastRemoteSnapshotVersion(i).next(h=>n.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return b.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.ts=s,i))}function M6(t,e,n){let r=ee(),s=ee();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=$r();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Y.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:s}})}function L6(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function F6(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,e).next(i=>i?(s=i,b.resolve(s)):n.qr.allocateTargetId(r).next(o=>(s=new os(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function Jg(t,e,n){const r=J(t),s=r.ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Dc(o))throw o;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(s.target)}function P1(t,e,n){const r=J(t);let s=Y.min(),i=ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=J(l),f=h.ns.get(u);return f!==void 0?b.resolve(h.ts.get(f)):h.qr.getTargetData(c,u)}(r,o,or(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?s:Y.min(),n?i:ee())).next(a=>(V6(r,R3(e),a),{documents:a,ls:i})))}function V6(t,e,n){let r=t.rs.get(e)||Y.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.rs.set(e,r)}class A1{constructor(){this.activeTargetIds=M3()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j6{constructor(){this.eo=new A1,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new A1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu=null;function Up(){return Pu===null?Pu=function(){return 268435456+Math.round(2147483648*Math.random())}():Pu++,"0x"+Pu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vt="WebChannelConnection";class z6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${s}/databases/${i}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get yo(){return!1}wo(n,r,s,i,o){const a=Up(),l=this.So(n,r);U("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,i,o),this.Do(n,l,c,s).then(u=>(U("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Ho("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Co(n,r,s,i,o,a){return this.wo(n,r,s,i,o)}bo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}So(n,r){const s=$6[n];return`${this.mo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,s){const i=Up();return new Promise((o,a)=>{const l=new Yj;l.setWithCredentials(!0),l.listenOnce(Kj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Vp.NO_ERROR:const u=l.getResponseJson();U(vt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Vp.TIMEOUT:U(vt,`RPC '${e}' ${i} timed out`),a(new $(N.DEADLINE_EXCEEDED,"Request time out"));break;case Vp.HTTP_ERROR:const h=l.getStatus();if(U(vt,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(w){const m=w.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(m)>=0?m:N.UNKNOWN}(p.status);a(new $(g,p.message))}else a(new $(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new $(N.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{U(vt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);U(vt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}vo(e,n,r){const s=Up(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=qj(),a=Gj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");U(vt,`Creating RPC '${e}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,p=!1;const g=new B6({co:w=>{p?U(vt,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(f||(U(vt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),U(vt,`RPC '${e}' stream ${s} sending:`,w),h.send(w))},lo:()=>h.close()}),v=(w,m,y)=>{w.listen(m,_=>{try{y(_)}catch(E){setTimeout(()=>{throw E},0)}})};return v(h,Iu.EventType.OPEN,()=>{p||U(vt,`RPC '${e}' stream ${s} transport opened.`)}),v(h,Iu.EventType.CLOSE,()=>{p||(p=!0,U(vt,`RPC '${e}' stream ${s} transport closed`),g.Ro())}),v(h,Iu.EventType.ERROR,w=>{p||(p=!0,Ho(vt,`RPC '${e}' stream ${s} transport errored:`,w),g.Ro(new $(N.UNAVAILABLE,"The operation could not be completed")))}),v(h,Iu.EventType.MESSAGE,w=>{var m;if(!p){const y=w.data[0];ye(!!y);const _=y,E=_.error||((m=_[0])===null||m===void 0?void 0:m.error);if(E){U(vt,`RPC '${e}' stream ${s} received error:`,E);const I=E.status;let A=function(k){const M=$e[k];if(M!==void 0)return ER(M)}(I),R=E.message;A===void 0&&(A=N.INTERNAL,R="Unknown error status: "+I+" with message "+E.message),p=!0,g.Ro(new $(A,R)),h.close()}else U(vt,`RPC '${e}' stream ${s} received:`,y),g.Vo(y)}}),v(a,Qj.STAT_EVENT,w=>{w.stat===o1.PROXY?U(vt,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===o1.NOPROXY&&U(vt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.Ao()},0),g}}function $p(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t){return new e6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=s,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&U("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n,r,s,i,o,a,l){this.si=e,this.Ko=r,this.$o=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new bR(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Ur(n.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Uo===n&&this.s_(r,s)},r=>{e(()=>{const s=new $(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(s)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{r(()=>this.o_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class W6 extends DR{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=r6(this.serializer,e),r=function(i){if(!("targetChange"in i))return Y.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Y.min():o.readTime?ar(o.readTime):Y.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Xg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=qg(l)?{documents:o6(i,l)}:{query:a6(i,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=IR(i,o.resumeToken);const c=Kg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Y.min())>0){a.readTime=nd(i,o.snapshotVersion.toTimestamp());const c=Kg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=c6(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Xg(this.serializer),n.removeTarget=e,this.e_(n)}}class H6 extends DR{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=i6(e.writeResults,e.commitTime),r=ar(e.commitTime);return this.listener.I_(r,n)}return ye(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Xg(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>s6(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new $(N.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.wo(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(N.UNKNOWN,s.toString())})}Co(e,n,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Co(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $(N.UNKNOWN,i.toString())})}terminate(){this.d_=!0}}class G6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Ur(n),this.f_=!1):U("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro(o=>{r.enqueueAndForget(async()=>{ji(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=J(l);c.C_.add(4),await Lc(c),c.M_.set("Unknown"),c.C_.delete(4),await Ef(c)}(this))})}),this.M_=new G6(r,s)}}async function Ef(t){if(ji(t))for(const e of t.v_)await e(!0)}async function Lc(t){for(const e of t.v_)await e(!1)}function OR(t,e){const n=J(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Ov(n)?Dv(n):ma(n).Ho()&&bv(n,e))}function MR(t,e){const n=J(t),r=ma(n);n.D_.delete(e),r.Ho()&&LR(n,e),n.D_.size===0&&(r.Ho()?r.Zo():ji(n)&&n.M_.set("Unknown"))}function bv(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ma(t).u_(e)}function LR(t,e){t.x_.Oe(e),ma(t).c_(e)}function Dv(t){t.x_=new Y3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ma(t).start(),t.M_.g_()}function Ov(t){return ji(t)&&!ma(t).jo()&&t.D_.size>0}function ji(t){return J(t).C_.size===0}function FR(t){t.x_=void 0}async function Q6(t){t.D_.forEach((e,n)=>{bv(t,e)})}async function Y6(t,e){FR(t),Ov(t)?(t.M_.w_(e),Dv(t)):t.M_.set("Unknown")}async function X6(t,e,n){if(t.M_.set("Online"),e instanceof xR&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.D_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.D_.delete(a),s.x_.removeTarget(a))}(t,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rd(t,r)}else if(e instanceof Yu?t.x_.$e(e):e instanceof TR?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Y.min()))try{const r=await NR(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.D_.get(c);u&&i.D_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.D_.get(l);if(!u)return;i.D_.set(l,u.withResumeToken(bt.EMPTY_BYTE_STRING,u.snapshotVersion)),LR(i,l);const h=new os(u.target,l,c,u.sequenceNumber);bv(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){U("RemoteStore","Failed to raise snapshot:",r),await rd(t,r)}}async function rd(t,e,n){if(!Dc(e))throw e;t.C_.add(1),await Lc(t),t.M_.set("Offline"),n||(n=()=>NR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Ef(t)})}function VR(t,e){return e().catch(n=>rd(t,n,e))}async function Tf(t){const e=J(t),n=Ns(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;J6(e);)try{const s=await L6(e.localStore,r);if(s===null){e.b_.length===0&&n.Zo();break}r=s.batchId,Z6(e,s)}catch(s){await rd(e,s)}jR(e)&&UR(e)}function J6(t){return ji(t)&&t.b_.length<10}function Z6(t,e){t.b_.push(e);const n=Ns(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function jR(t){return ji(t)&&!Ns(t).jo()&&t.b_.length>0}function UR(t){Ns(t).start()}async function e5(t){Ns(t).E_()}async function t5(t){const e=Ns(t);for(const n of t.b_)e.P_(n.mutations)}async function n5(t,e,n){const r=t.b_.shift(),s=Cv.from(r,e,n);await VR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Tf(t)}async function r5(t,e){e&&Ns(t).h_&&await async function(r,s){if(function(o){return G3(o)&&o!==N.ABORTED}(s.code)){const i=r.b_.shift();Ns(r).Yo(),await VR(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Tf(r)}}(t,e),jR(t)&&UR(t)}async function k1(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=ji(n);n.C_.add(3),await Lc(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Ef(n)}async function s5(t,e){const n=J(t);e?(n.C_.delete(2),await Ef(n)):e||(n.C_.add(2),await Lc(n),n.M_.set("Unknown"))}function ma(t){return t.O_||(t.O_=function(n,r,s){const i=J(n);return i.A_(),new W6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ho:Q6.bind(null,t),Io:Y6.bind(null,t),a_:X6.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),Ov(t)?Dv(t):t.M_.set("Unknown")):(await t.O_.stop(),FR(t))})),t.O_}function Ns(t){return t.N_||(t.N_=function(n,r,s){const i=J(n);return i.A_(),new H6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ho:e5.bind(null,t),Io:r5.bind(null,t),T_:t5.bind(null,t),I_:n5.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Tf(t)):(await t.N_.stop(),t.b_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Mv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lv(t,e){if(Ur("AsyncQueue",`${e}: ${t}`),Dc(t))return new $(N.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.comparator=e?(n,r)=>e(n,r)||B.comparator(n.key,r.key):(n,r)=>B.comparator(n.key,r.key),this.keyedMap=qa(),this.sortedSet=new De(this.comparator)}static emptySet(e){return new ko(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ko;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.B_=new De(B.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):K():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Yo{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Yo(e,n,ko.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(){this.k_=void 0,this.listeners=[]}}class o5{constructor(){this.queries=new pa(e=>lR(e),mf),this.onlineState="Unknown",this.q_=new Set}}async function $R(t,e){const n=J(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new i5),s)try{i.k_=await n.onListen(r)}catch(o){const a=Lv(o,`Initialization of query '${Qi(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Q_(n.onlineState),i.k_&&e.K_(i.k_)&&Fv(n)}async function BR(t,e){const n=J(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function a5(t,e){const n=J(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.K_(s)&&(r=!0);o.k_=s}}r&&Fv(n)}function l5(t,e,n){const r=J(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function Fv(t){t.q_.forEach(e=>{e.next()})}class zR{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Yo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.key=e}}class HR{constructor(e){this.key=e}}class c5{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ee(),this.mutatedKeys=ee(),this._a=cR(e),this.aa=new ko(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new N1,s=n?n.aa:this.aa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),p=gf(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;f&&p?f.data.isEqual(p.data)?g!==v&&(r.track({type:3,doc:p}),w=!0):this.ha(f,p)||(r.track({type:2,doc:p}),w=!0,(l&&this._a(p,l)>0||c&&this._a(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),w=!0):f&&!p&&(r.track({type:1,doc:f}),w=!0,(l||c)&&(a=!0)),w&&(p?(o=o.add(p),i=v?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:i}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((u,h)=>function(p,g){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return v(p)-v(g)}(u.type,h.type)||this._a(u.doc,h.doc)),this.Pa(r),s=s!=null&&s;const a=n&&!s?this.Ia():[],l=this.oa.size===0&&this.current&&!s?1:0,c=l!==this.sa;return this.sa=l,o.length!==0||c?{snapshot:new Yo(this.query,e.aa,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new N1,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ee(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new HR(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new WR(r))}),n}da(e){this.ia=e.ls,this.oa=ee();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Yo.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class u5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class h5{constructor(e){this.key=e,this.Ra=!1}}class d5{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new pa(a=>lR(a),mf),this.fa=new Map,this.ga=new Set,this.pa=new De(B.comparator),this.ya=new Map,this.wa=new Rv,this.Sa={},this.ba=new Map,this.Da=Qo.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function f5(t,e){const n=x5(t);let r,s;const i=n.ma.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Aa();else{const o=await F6(n.localStore,or(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await p5(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&OR(n.remoteStore,o)}return s}async function p5(t,e,n,r,s){t.va=(h,f,p)=>async function(v,w,m,y){let _=w.view.ca(m);_.Zi&&(_=await P1(v.localStore,w.query,!1).then(({documents:R})=>w.view.ca(R,_)));const E=y&&y.targetChanges.get(w.targetId),I=y&&y.targetMismatches.get(w.targetId)!=null,A=w.view.applyChanges(_,v.isPrimaryClient,E,I);return D1(v,w.targetId,A.Ta),A.snapshot}(t,h,f,p);const i=await P1(t.localStore,e,!0),o=new c5(e,i.ls),a=o.ca(i.documents),l=Mc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);D1(t,n,c.Ta);const u=new u5(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),c.snapshot}async function m5(t,e){const n=J(t),r=n.ma.get(e),s=n.fa.get(r.targetId);if(s.length>1)return n.fa.set(r.targetId,s.filter(i=>!mf(i,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Jg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),MR(n.remoteStore,r.targetId),Zg(n,r.targetId)}).catch(bc)):(Zg(n,r.targetId),await Jg(n.localStore,r.targetId,!0))}async function g5(t,e,n){const r=I5(t);try{const s=await function(o,a){const l=J(o),c=Ze.now(),u=a.reduce((p,g)=>p.add(g.key),ee());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=$r(),v=ee();return l.ss.getEntries(p,u).next(w=>{g=w,g.forEach((m,y)=>{y.isValidDocument()||(v=v.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(w=>{h=w;const m=[];for(const y of a){const _=B3(y,h.get(y.key).overlayedDocument);_!=null&&m.push(new $s(y.key,_,tR(_.value.mapValue),In.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,m,a)}).next(w=>{f=w;const m=w.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(p,w.batchId,m)})}).then(()=>({batchId:f.batchId,changes:hR(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new De(ae)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(r,s.batchId,n),await Fc(r,s.changes),await Tf(r.remoteStore)}catch(s){const i=Lv(s,"Failed to persist write");n.reject(i)}}async function qR(t,e){const n=J(t);try{const r=await O6(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.ya.get(i);o&&(ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ra=!0:s.modifiedDocuments.size>0?ye(o.Ra):s.removedDocuments.size>0&&(ye(o.Ra),o.Ra=!1))}),await Fc(n,r,e)}catch(r){await bc(r)}}function b1(t,e,n){const r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ma.forEach((i,o)=>{const a=o.view.Q_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=J(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.listeners)f.Q_(a)&&(c=!0)}),c&&Fv(l)}(r.eventManager,e),s.length&&r.Va.a_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function y5(t,e,n){const r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.ya.get(e),i=s&&s.key;if(i){let o=new De(B.comparator);o=o.insert(i,St.newNoDocument(i,Y.min()));const a=ee().add(i),l=new vf(Y.min(),new Map,new De(ae),o,a);await qR(r,l),r.pa=r.pa.remove(i),r.ya.delete(e),Vv(r)}else await Jg(r.localStore,e,!1).then(()=>Zg(r,e,n)).catch(bc)}async function _5(t,e){const n=J(t),r=e.batch.batchId;try{const s=await D6(n.localStore,e);KR(n,r,null),GR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fc(n,s)}catch(s){await bc(s)}}async function v5(t,e,n){const r=J(t);try{const s=await function(o,a){const l=J(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(ye(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);KR(r,e,n),GR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Fc(r,s)}catch(s){await bc(s)}}function GR(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function KR(t,e,n){const r=J(t);let s=r.Sa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Sa[r.currentUser.toKey()]=s}}function Zg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||QR(t,r)})}function QR(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(MR(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),Vv(t))}function D1(t,e,n){for(const r of n)r instanceof WR?(t.wa.addReference(r.key,e),w5(t,r)):r instanceof HR?(U("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||QR(t,r.key)):K()}function w5(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(U("SyncEngine","New document in limbo: "+n),t.ga.add(r),Vv(t))}function Vv(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new B(Ae.fromString(e)),r=t.Da.next();t.ya.set(r,new h5(n)),t.pa=t.pa.insert(n,r),OR(t.remoteStore,new os(or(Iv(n.path)),r,"TargetPurposeLimboResolution",_v._e))}}async function Fc(t,e,n){const r=J(t),s=[],i=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=Nv.Qi(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.Va.a_(s),await async function(l,c){const u=J(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>b.forEach(c,f=>b.forEach(f.ki,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>b.forEach(f.qi,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Dc(h))throw h;U("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=u.ts.get(f),g=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(g);u.ts=u.ts.insert(f,v)}}}(r.localStore,i))}async function E5(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());const r=await kR(n.localStore,e);n.currentUser=e,function(i,o){i.ba.forEach(a=>{a.forEach(l=>{l.reject(new $(N.CANCELLED,o))})}),i.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fc(n,r._s)}}function T5(t,e){const n=J(t),r=n.ya.get(e);if(r&&r.Ra)return ee().add(r.key);{let s=ee();const i=n.fa.get(e);if(!i)return s;for(const o of i){const a=n.ma.get(o);s=s.unionWith(a.view.ua)}return s}}function x5(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y5.bind(null,e),e.Va.a_=a5.bind(null,e.eventManager),e.Va.Fa=l5.bind(null,e.eventManager),e}function I5(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v5.bind(null,e),e}class O1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return b6(this.persistence,new k6,e.initialUser,this.serializer)}createPersistence(e){return new P6(kv.jr,this.serializer)}createSharedClientState(e){return new j6}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class S5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=E5.bind(null,this.syncEngine),await s5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new o5}()}createDatastore(e){const n=wf(e.databaseInfo.databaseId),r=function(i){return new z6(i)}(e.databaseInfo);return function(i,o,a,l){return new q6(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new K6(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>b1(this.syncEngine,n,0),function(){return R1.D()?new R1:new U6}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const h=new d5(s,i,o,a,l,c);return u&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=J(n);U("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Lc(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Et.UNAUTHENTICATED,this.clientId=JA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{U("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(U("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Lv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bp(t,e){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await kR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function M1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await A5(t);U("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>k1(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>k1(e.remoteStore,i)),t._onlineComponents=e}function P5(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function A5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!P5(n))throw n;Ho("Error using user provided cache. Falling back to memory cache: "+n),await Bp(t,new O1)}}else U("FirestoreClient","Using default OfflineComponentProvider"),await Bp(t,new O1);return t._offlineComponents}async function XR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),await M1(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),await M1(t,new S5))),t._onlineComponents}function R5(t){return XR(t).then(e=>e.syncEngine)}async function JR(t){const e=await XR(t),n=e.eventManager;return n.onListen=f5.bind(null,e.syncEngine),n.onUnlisten=m5.bind(null,e.syncEngine),n}function k5(t,e,n={}){const r=new kr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new YR({next:f=>{o.enqueueAndForget(()=>BR(i,h));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new $(N.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new $(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new zR(Iv(a.path),u,{includeMetadataChanges:!0,J_:!0});return $R(i,h)}(await JR(t),t.asyncQueue,e,n,r)),r.promise}function N5(t,e,n={}){const r=new kr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new YR({next:f=>{o.enqueueAndForget(()=>BR(i,h)),f.fromCache&&l.source==="server"?c.reject(new $(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new zR(a,u,{includeMetadataChanges:!0,J_:!0});return $R(i,h)}(await JR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(t,e,n){if(!n)throw new $(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function b5(t,e,n,r){if(e===!0&&r===!0)throw new $(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function F1(t){if(!B.isDocumentKey(t))throw new $(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V1(t){if(B.isDocumentKey(t))throw new $(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jv(t);throw new $(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new $(N.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new $(N.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new $(N.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new $(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Jj;switch(r.type){case"firstParty":return new n3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=L1.get(n);r&&(U("ComponentProvider","Removing Datastore"),L1.delete(n),r.terminate())}(this),Promise.resolve()}}function D5(t,e,n,r={}){var s;const i=(t=qn(t,xf))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Et.MOCK_USER;else{a=xC(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new $(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Et(c)}t._authCredentials=new Zj(new XA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new If(this.firestore,e,this._query)}}class qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}}class vs extends If{constructor(e,n,r){super(e,n,Iv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new B(e))}withConverter(e){return new vs(this.firestore,e,this._path)}}function Mt(t,e,...n){if(t=Ge(t),ek("collection","path",e),t instanceof xf){const r=Ae.fromString(e,...n);return V1(r),new vs(t,null,r)}{if(!(t instanceof qt||t instanceof vs))throw new $(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ae.fromString(e,...n));return V1(r),new vs(t.firestore,null,r)}}function Xo(t,e,...n){if(t=Ge(t),arguments.length===1&&(e=JA.newId()),ek("doc","path",e),t instanceof xf){const r=Ae.fromString(e,...n);return F1(r),new qt(t,null,new B(r))}{if(!(t instanceof qt||t instanceof vs))throw new $(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ae.fromString(e,...n));return F1(r),new qt(t.firestore,t instanceof vs?t.converter:null,new B(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new bR(this,"async_queue_retry"),this.iu=()=>{const n=$p();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=$p();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=$p();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new kr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Dc(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ur("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=Mv.createAndSchedule(this,e,n,r,i=>this.au(i));return this.Xa.push(s),s}su(){this.eu&&K()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class Ui extends xf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new O5}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||tk(this),this._firestoreClient.terminate()}}function M5(t,e){const n=typeof t=="object"?t:P_(),r=typeof t=="string"?t:e||"(default)",s=aa(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=wC("firestore");i&&D5(s,...i)}return s}function Uv(t){return t._firestoreClient||tk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function tk(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new p3(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,ZR(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new C5(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jo(bt.fromBase64String(e))}catch(n){throw new $(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jo(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=/^__.*__$/;class F5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,n,this.fieldTransforms):new Oc(e,this.data,n,this.fieldTransforms)}}class nk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $s(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function rk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}class zv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new zv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Au(e),s}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return sd(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(rk(this.Iu)&&L5.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class V5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wf(e)}pu(e,n,r,s=!1){return new zv({Iu:e,methodName:n,gu:r,path:dt.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wv(t){const e=t._freezeSettings(),n=wf(t._databaseId);return new V5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sk(t,e,n,r,s,i={}){const o=t.pu(i.merge||i.mergeFields?2:0,e,n,s);Hv("Data must be an object, but it was:",o,r);const a=ik(r,o);let l,c;if(i.merge)l=new en(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=ey(e,h,n);if(!o.contains(f))throw new $(N.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);ak(u,f)||u.push(f)}l=new en(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new F5(new $t(a),l,c)}class Cf extends $v{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cf}}function j5(t,e,n,r){const s=t.pu(1,e,n);Hv("Data must be an object, but it was:",s,r);const i=[],o=$t.empty();Vi(r,(l,c)=>{const u=qv(e,l,n);c=Ge(c);const h=s.Ru(u);if(c instanceof Cf)i.push(u);else{const f=Pf(c,h);f!=null&&(i.push(u),o.set(u,f))}});const a=new en(i);return new nk(o,a,s.fieldTransforms)}function U5(t,e,n,r,s,i){const o=t.pu(1,e,n),a=[ey(e,r,n)],l=[s];if(i.length%2!=0)throw new $(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(ey(e,i[f])),l.push(i[f+1]);const c=[],u=$t.empty();for(let f=a.length-1;f>=0;--f)if(!ak(c,a[f])){const p=a[f];let g=l[f];g=Ge(g);const v=o.Ru(p);if(g instanceof Cf)c.push(p);else{const w=Pf(g,v);w!=null&&(c.push(p),u.set(p,w))}}const h=new en(c);return new nk(u,h,o.fieldTransforms)}function Pf(t,e){if(ok(t=Ge(t)))return Hv("Unsupported field value:",e,t),ik(t,e);if(t instanceof $v)return function(r,s){if(!rk(s.Iu))throw s.mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Pf(a,s.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ge(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return L3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ze.fromDate(r);return{timestampValue:nd(s.serializer,i)}}if(r instanceof Ze){const i=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nd(s.serializer,i)}}if(r instanceof Bv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jo)return{bytesValue:IR(s.serializer,r._byteString)};if(r instanceof qt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Av(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.mu(`Unsupported field value: ${jv(r)}`)}(t,e)}function ik(t,e){const n={};return ZA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vi(t,(r,s)=>{const i=Pf(s,e.Eu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function ok(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof Bv||t instanceof Jo||t instanceof qt||t instanceof $v)}function Hv(t,e,n){if(!ok(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=jv(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function ey(t,e,n){if((e=Ge(e))instanceof Sf)return e._internalPath;if(typeof e=="string")return qv(t,e);throw sd("Field path arguments must be of type string or ",t,!1,void 0,n)}const $5=new RegExp("[~\\*/\\[\\]]");function qv(t,e,n){if(e.search($5)>=0)throw sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sf(...e.split("."))._internalPath}catch{throw sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new $(N.INVALID_ARGUMENT,a+t+l)}function ak(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new B5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ck("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class B5 extends lk{data(){return super.data()}}function ck(t,e){return typeof e=="string"?qv(t,e):e instanceof Sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class W5{convertValue(e,n="none"){switch(Pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw K()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Bv(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ec(e));default:return null}}convertTimestamp(e){const n=ks(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ae.fromString(e);ye(RR(r));const s=new tc(r.get(1),r.get(3)),i=new B(r.popFirst(5));return s.isEqual(n)||Ur(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hk extends lk{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ck("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Xu extends hk{data(e={}){return super.data(e)}}class H5{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ka(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xu(this._firestore,this._userDataWriter,r.key,r,new Ka(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Xu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ka(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Xu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ka(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:q5(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function q5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(t){t=qn(t,qt);const e=qn(t.firestore,Ui);return k5(Uv(e),t._key).then(n=>Y5(e,t,n))}class dk extends W5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function rr(t){t=qn(t,If);const e=qn(t.firestore,Ui),n=Uv(e),r=new dk(e);return z5(t._query),N5(n,t._query).then(s=>new H5(e,r,t,s))}function K5(t,e,n){t=qn(t,qt);const r=qn(t.firestore,Ui),s=uk(t.converter,e,n);return Af(r,[sk(Wv(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,In.none())])}function U1(t,e,n,...r){t=qn(t,qt);const s=qn(t.firestore,Ui),i=Wv(s);let o;return o=typeof(e=Ge(e))=="string"||e instanceof Sf?U5(i,"updateDoc",t._key,e,n,r):j5(i,"updateDoc",t._key,e),Af(s,[o.toMutation(t._key,In.exists(!0))])}function Q5(t){return Af(qn(t.firestore,Ui),[new Sv(t._key,In.none())])}function fl(t,e){const n=qn(t.firestore,Ui),r=Xo(t),s=uk(t.converter,e);return Af(n,[sk(Wv(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,In.exists(!1))]).then(()=>r)}function Af(t,e){return function(r,s){const i=new kr;return r.asyncQueue.enqueueAndForget(async()=>g5(await R5(r),s,i)),i.promise}(Uv(t),e)}function Y5(t,e,n){const r=n.docs.get(e._key),s=new dk(t);return new hk(t,s,e._key,r,new Ka(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){fa=s})(Vs),An(new ln("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ui(new e3(r.getProvider("auth-internal")),new s3(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new $(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Pt(a1,"4.4.0",e),Pt(a1,"4.4.0","esm2017")})();function Gv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function fk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X5=fk,pk=new Oi("auth","Firebase",fk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new _c("@firebase/auth");function J5(t,...e){id.logLevel<=Z.WARN&&id.warn(`Auth (${Vs}): ${t}`,...e)}function Ju(t,...e){id.logLevel<=Z.ERROR&&id.error(`Auth (${Vs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw Kv(t,...e)}function lr(t,...e){return Kv(t,...e)}function Z5(t,e,n){const r=Object.assign(Object.assign({},X5()),{[e]:n});return new Oi("auth","Firebase",r).create(e,{appName:t.name})}function Kv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pk.create(t,...e)}function G(t,e,...n){if(!t)throw Kv(e,...n)}function Sr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ju(e),new Error(e)}function Br(t,e){t||Sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function eU(){return $1()==="http:"||$1()==="https:"}function $1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eU()||IC()||"connection"in navigator)?navigator.onLine:!0}function nU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Br(n>e,"Short delay should be less than long delay!"),this.isMobile=S_()||SC()}get(){return tU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(t,e){Br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=new Vc(3e4,6e4);function Bs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zs(t,e,n,r,s={}){return gk(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=oa(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),mk.fetch()(yk(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function gk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},rU),e);try{const s=new oU(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Au(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Au(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Au(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Au(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Z5(t,u,c);Gn(t,u)}}catch(s){if(s instanceof kn)throw s;Gn(t,"network-request-failed",{message:String(s)})}}async function jc(t,e,n,r,s={}){const i=await zs(t,e,n,r,s);return"mfaPendingCredential"in i&&Gn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function yk(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Qv(t.config,s):`${t.config.apiScheme}://${s}`}function iU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),sU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Au(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=lr(t,e,r);return s.customData._tokenResponse=n,s}function B1(t){return t!==void 0&&t.enterprise!==void 0}class aU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return iU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function lU(t,e){return zs(t,"GET","/v2/recaptchaConfig",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cU(t,e){return zs(t,"POST","/v1/accounts:delete",e)}async function uU(t,e){return zs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hU(t,e=!1){const n=Ge(t),r=await n.getIdToken(e),s=Yv(r);G(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:pl(zp(s.auth_time)),issuedAtTime:pl(zp(s.iat)),expirationTime:pl(zp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function zp(t){return Number(t)*1e3}function Yv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ju("JWT malformed, contained fewer than 3 sections"),null;try{const s=Dh(n);return s?JSON.parse(s):(Ju("Failed to decode base64 JWT payload"),null)}catch(s){return Ju("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function dU(t){const e=Yv(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof kn&&fU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function fU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function od(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ic(t,uU(n,{idToken:r}));G(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?yU(i.providerUserInfo):[],a=gU(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new _k(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function mU(t){const e=Ge(t);await od(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gU(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function yU(t){return t.map(e=>{var{providerId:n}=e,r=Gv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _U(t,e){const n=await gk(t,{},async()=>{const r=oa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=yk(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vU(t,e){return zs(t,"POST","/v2/accounts:revokeToken",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return G(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await _U(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new oc;return r&&(G(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(G(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(G(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oc,this.toJSON())}_performRefresh(){return Sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Gv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _k(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ic(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hU(this,e)}reload(){return mU(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await od(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ic(this,cU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:E,isAnonymous:I,providerData:A,stsTokenManager:R}=n;G(_&&R,e,"internal-error");const C=oc.fromJSON(this.name,R);G(typeof _=="string",e,"internal-error"),Gr(h,e.name),Gr(f,e.name),G(typeof E=="boolean",e,"internal-error"),G(typeof I=="boolean",e,"internal-error"),Gr(p,e.name),Gr(g,e.name),Gr(v,e.name),Gr(w,e.name),Gr(m,e.name),Gr(y,e.name);const k=new pi({uid:_,auth:e,email:f,emailVerified:E,displayName:h,isAnonymous:I,photoURL:g,phoneNumber:p,tenantId:v,stsTokenManager:C,createdAt:m,lastLoginAt:y});return A&&Array.isArray(A)&&(k.providerData=A.map(M=>Object.assign({},M))),w&&(k._redirectEventId=w),k}static async _fromIdTokenResponse(e,n,r=!1){const s=new oc;s.updateFromServerResponse(n);const i=new pi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await od(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=new Map;function Cr(t){Br(t instanceof Function,"Expected a class definition");let e=z1.get(t);return e?(Br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,z1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vk.type="NONE";const W1=vk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t,e,n){return`firebase:${t}:${e}:${n}`}class No{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Zu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Zu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new No(Cr(W1),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Cr(W1);const o=Zu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=pi._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new No(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new No(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ik(e))return"Blackberry";if(Sk(e))return"Webos";if(Xv(e))return"Safari";if((e.includes("chrome/")||Ek(e))&&!e.includes("edge/"))return"Chrome";if(xk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wk(t=Nt()){return/firefox\//i.test(t)}function Xv(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ek(t=Nt()){return/crios\//i.test(t)}function Tk(t=Nt()){return/iemobile/i.test(t)}function xk(t=Nt()){return/android/i.test(t)}function Ik(t=Nt()){return/blackberry/i.test(t)}function Sk(t=Nt()){return/webos/i.test(t)}function Rf(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wU(t=Nt()){var e;return Rf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function EU(){return F4()&&document.documentMode===10}function Ck(t=Nt()){return Rf(t)||xk(t)||Sk(t)||Ik(t)||/windows phone/i.test(t)||Tk(t)}function TU(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t,e=[]){let n;switch(t){case"Browser":n=H1(Nt());break;case"Worker":n=`${H1(Nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IU(t,e={}){return zs(t,"GET","/v2/passwordPolicy",Bs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=6;class CU{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:SU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q1(this),this.idTokenSubscription=new q1(this),this.beforeStateQueue=new xU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await od(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ge(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IU(this),n=new CU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Oi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await vU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cr(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[Cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&J5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $i(t){return Ge(t)}class q1{constructor(e){this.auth=e,this.observer=null,this.addObserver=H4(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Ak(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=lr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",AU().appendChild(r)})}function RU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const kU="https://www.google.com/recaptcha/enterprise.js?render=",NU="recaptcha-enterprise",bU="NO_RECAPTCHA";class DU{constructor(e){this.type=NU,this.auth=$i(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{lU(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new aU(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;B1(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(bU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&B1(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Ak(kU+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function G1(t,e,n,r=!1){const s=new DU(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ny(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await G1(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await G1(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(t,e){const n=aa(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Mh(i,e??{}))return s;Gn(s,"already-initialized")}return n.initialize({options:e})}function MU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function LU(t,e,n){const r=$i(t);G(r._canInitEmulator,r,"emulator-config-failed"),G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=Rk(e),{host:o,port:a}=FU(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||VU()}function Rk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FU(t){const e=Rk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:K1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:K1(o)}}}function K1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function VU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,n){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}async function jU(t,e){return zs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UU(t,e){return jc(t,"POST","/v1/accounts:signInWithPassword",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $U(t,e){return jc(t,"POST","/v1/accounts:signInWithEmailLink",Bs(t,e))}async function BU(t,e){return jc(t,"POST","/v1/accounts:signInWithEmailLink",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends Jv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ac(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ac(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ny(e,n,"signInWithPassword",UU);case"emailLink":return $U(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ny(e,r,"signUpPassword",jU);case"emailLink":return BU(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(t,e){return jc(t,"POST","/v1/accounts:signInWithIdp",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU="http://localhost";class Ai extends Jv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ai(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Gv(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ai(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return bo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bo(e,n)}buildRequest(){const e={requestUri:zU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=oa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HU(t){const e=$a(Ba(t)).link,n=e?$a(Ba(e)).deep_link_id:null,r=$a(Ba(t)).deep_link_id;return(r?$a(Ba(r)).link:null)||r||n||e||t}class Zv{constructor(e){var n,r,s,i,o,a;const l=$a(Ba(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=WU((s=l.mode)!==null&&s!==void 0?s:null);G(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=HU(e);try{return new Zv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.providerId=ga.PROVIDER_ID}static credential(e,n){return ac._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Zv.parseLink(n);return G(r,"argument-error"),ac._fromEmailAndCode(e,r.code,r.tenantId)}}ga.PROVIDER_ID="password";ga.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ga.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends kk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Uc{constructor(){super("facebook.com")}static credential(e){return Ai._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ai._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ts.credential(n,r)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Uc{constructor(){super("github.com")}static credential(e){return Ai._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Uc{constructor(){super("twitter.com")}static credential(e,n){return Ai._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return rs.credential(n,r)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qU(t,e){return jc(t,"POST","/v1/accounts:signUp",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await pi._fromIdTokenResponse(e,r,s),o=Q1(r);return new Ri({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Q1(r);return new Ri({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Q1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends kn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ad.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ad(e,n,r,s)}}function Nk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ad._fromErrorAndOperation(t,i,e,r):i})}async function GU(t,e,n=!1){const r=await ic(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ri._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KU(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await ic(t,Nk(r,s,e,t),n);G(i.idToken,r,"internal-error");const o=Yv(i.idToken);G(o,r,"internal-error");const{sub:a}=o;return G(t.uid===a,r,"user-mismatch"),Ri._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(t,e,n=!1){const r="signIn",s=await Nk(t,r,e),i=await Ri._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function QU(t,e){return bk($i(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(t){const e=$i(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YU(t,e,n){const r=$i(t),o=await ny(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Dk(t),l}),a=await Ri._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function XU(t,e,n){return QU(Ge(t),ga.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Dk(t),r})}function JU(t,e,n,r){return Ge(t).onIdTokenChanged(e,n,r)}function ZU(t,e,n){return Ge(t).beforeAuthStateChanged(e,n)}function $c(t,e,n,r){return Ge(t).onAuthStateChanged(e,n,r)}function Y1(t){return Ge(t).signOut()}const ld="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ld,"1"),this.storage.removeItem(ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(){const t=Nt();return Xv(t)||Rf(t)}const t9=1e3,n9=10;class Mk extends Ok{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=e9()&&TU(),this.fallbackToPolling=Ck(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);EU()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,n9):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},t9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Mk.type="LOCAL";const r9=Mk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk extends Ok{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Lk.type="SESSION";const Fk=Lk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new kf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await s9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=e0("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(){return window}function o9(t){cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}async function a9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function l9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function c9(){return Vk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk="firebaseLocalStorageDb",u9=1,cd="firebaseLocalStorage",Uk="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nf(t,e){return t.transaction([cd],e?"readwrite":"readonly").objectStore(cd)}function h9(){const t=indexedDB.deleteDatabase(jk);return new Bc(t).toPromise()}function ry(){const t=indexedDB.open(jk,u9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cd,{keyPath:Uk})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cd)?e(r):(r.close(),await h9(),e(await ry()))})})}async function X1(t,e,n){const r=Nf(t,!0).put({[Uk]:e,value:n});return new Bc(r).toPromise()}async function d9(t,e){const n=Nf(t,!1).get(e),r=await new Bc(n).toPromise();return r===void 0?null:r.value}function J1(t,e){const n=Nf(t,!0).delete(e);return new Bc(n).toPromise()}const f9=800,p9=3;class $k{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ry(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>p9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kf._getInstance(c9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await a9(),!this.activeServiceWorker)return;this.sender=new i9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||l9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ry();return await X1(e,ld,"1"),await J1(e,ld),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>X1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>d9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>J1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Nf(s,!1).getAll();return new Bc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),f9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$k.type="LOCAL";const m9=$k;new Vc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t,e){return e?Cr(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0 extends Jv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function y9(t){return bk(t.auth,new t0(t),t.bypassAuthState)}function _9(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),KU(n,new t0(t),t.bypassAuthState)}async function v9(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),GU(n,new t0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return y9;case"linkViaPopup":case"linkViaRedirect":return v9;case"reauthViaPopup":case"reauthViaRedirect":return _9;default:Gn(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=new Vc(2e3,1e4);class po extends Bk{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return G(e,this.auth,"internal-error"),e}async onExecution(){Br(this.filter.length===1,"Popup operations only handle one event");const e=e0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,w9.get())};e()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9="pendingRedirect",eh=new Map;class T9 extends Bk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const r=await x9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function x9(t,e){const n=C9(e),r=S9(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function I9(t,e){eh.set(t._key(),e)}function S9(t){return Cr(t._redirectPersistence)}function C9(t){return Zu(E9,t.config.apiKey,t.name)}async function P9(t,e,n=!1){const r=$i(t),s=g9(r,e),o=await new T9(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=10*60*1e3;class R9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zk(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(lr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=A9&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z1(e))}saveEventToCache(e){this.cachedEventUids.add(Z1(e)),this.lastProcessedEventTime=Date.now()}}function Z1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function k9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N9(t,e={}){return zs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D9=/^https?/;async function O9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await N9(t);for(const n of e)try{if(M9(n))return}catch{}Gn(t,"unauthorized-domain")}function M9(t){const e=ty(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!D9.test(n))return!1;if(b9.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=new Vc(3e4,6e4);function eT(){const t=cr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function F9(t){return new Promise((e,n)=>{var r,s,i;function o(){eT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eT(),n(lr(t,"network-request-failed"))},timeout:L9.get()})}if(!((s=(r=cr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=cr().gapi)===null||i===void 0)&&i.load)o();else{const a=RU("iframefcb");return cr()[a]=()=>{gapi.load?o():n(lr(t,"network-request-failed"))},Ak(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw th=null,e})}let th=null;function V9(t){return th=th||F9(t),th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=new Vc(5e3,15e3),U9="__/auth/iframe",$9="emulator/auth/iframe",B9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function W9(t){const e=t.config;G(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Qv(e,$9):`https://${t.config.authDomain}/${U9}`,r={apiKey:e.apiKey,appName:t.name,v:Vs},s=z9.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${oa(r).slice(1)}`}async function H9(t){const e=await V9(t),n=cr().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:W9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B9,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=lr(t,"network-request-failed"),a=cr().setTimeout(()=>{i(o)},j9.get());function l(){cr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G9=500,K9=600,Q9="_blank",Y9="http://localhost";class tT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function X9(t,e,n,r=G9,s=K9){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},q9),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Nt().toLowerCase();n&&(a=Ek(c)?Q9:n),wk(c)&&(e=e||Y9,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(wU(c)&&a!=="_self")return J9(e||"",a),new tT(null);const h=window.open(e||"",a,u);G(h,t,"popup-blocked");try{h.focus()}catch{}return new tT(h)}function J9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9="__/auth/handler",e$="emulator/auth/handler",t$=encodeURIComponent("fac");async function nT(t,e,n,r,s,i){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vs,eventId:s};if(e instanceof kk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",dg(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(i||{}))o[u]=h}if(e instanceof Uc){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${t$}=${encodeURIComponent(l)}`:"";return`${n$(t)}?${oa(a).slice(1)}${c}`}function n$({config:t}){return t.emulator?Qv(t,e$):`https://${t.authDomain}/${Z9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="webStorageSupport";class r${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fk,this._completeRedirectFn=P9,this._overrideRedirectResult=I9}async _openPopup(e,n,r,s){var i;Br((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await nT(e,n,r,ty(),s);return X9(e,o,e0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await nT(e,n,r,ty(),s);return o9(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Br(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await H9(e),r=new R9(e);return n.register("authEvent",s=>(G(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wp,{type:Wp},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Wp];o!==void 0&&n(!!o),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=O9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ck()||Xv()||Rf()}}const s$=r$;var rT="@firebase/auth",sT="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function a$(t){An(new ln("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;G(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pk(t)},c=new PU(r,s,i,l);return MU(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),An(new ln("auth-internal",e=>{const n=$i(e.getProvider("auth").getImmediate());return(r=>new i$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pt(rT,sT,o$(t)),Pt(rT,sT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=5*60,c$=TC("authIdTokenMaxAge")||l$;let iT=null;const u$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>c$)return;const s=n==null?void 0:n.token;iT!==s&&(iT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function h$(t=P_()){const e=aa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=OU(t,{popupRedirectResolver:s$,persistence:[m9,r9,Fk]}),r=TC("authTokenSyncURL");if(r){const i=u$(r);ZU(n,i,()=>i(n.currentUser)),JU(n,o=>i(o))}const s=vC("auth");return s&&LU(n,`http://${s}`),n}a$("Browser");const d$=(t,e)=>e.some(n=>t instanceof n);let oT,aT;function f$(){return oT||(oT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p$(){return aT||(aT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wk=new WeakMap,sy=new WeakMap,Hk=new WeakMap,Hp=new WeakMap,n0=new WeakMap;function m$(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ws(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Wk.set(n,t)}).catch(()=>{}),n0.set(e,t),e}function g$(t){if(sy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});sy.set(t,e)}let iy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Hk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function y$(t){iy=t(iy)}function _$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qp(this),e,...n);return Hk.set(r,e.sort?e.sort():[e]),ws(r)}:p$().includes(t)?function(...e){return t.apply(qp(this),e),ws(Wk.get(this))}:function(...e){return ws(t.apply(qp(this),e))}}function v$(t){return typeof t=="function"?_$(t):(t instanceof IDBTransaction&&g$(t),d$(t,f$())?new Proxy(t,iy):t)}function ws(t){if(t instanceof IDBRequest)return m$(t);if(Hp.has(t))return Hp.get(t);const e=v$(t);return e!==t&&(Hp.set(t,e),n0.set(e,t)),e}const qp=t=>n0.get(t);function w$(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ws(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ws(o.result),l.oldVersion,l.newVersion,ws(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",()=>s())}).catch(()=>{}),a}const E$=["get","getKey","getAll","getAllKeys","count"],T$=["put","add","delete","clear"],Gp=new Map;function lT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gp.get(e))return Gp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=T$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||E$.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Gp.set(e,i),i}y$(t=>({...t,get:(e,n,r)=>lT(e,n)||t.get(e,n,r),has:(e,n)=>!!lT(e,n)||t.has(e,n)}));const qk="@firebase/installations",r0="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=1e4,Kk=`w:${r0}`,Qk="FIS_v2",x$="https://firebaseinstallations.googleapis.com/v1",I$=60*60*1e3,S$="installations",C$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ki=new Oi(S$,C$,P$);function Yk(t){return t instanceof kn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk({projectId:t}){return`${x$}/projects/${t}/installations`}function Jk(t){return{token:t.token,requestStatus:2,expiresIn:R$(t.expiresIn),creationTime:Date.now()}}async function Zk(t,e){const r=(await e.json()).error;return ki.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function eN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function A$(t,{refreshToken:e}){const n=eN(t);return n.append("Authorization",k$(e)),n}async function tN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function R$(t){return Number(t.replace("s","000"))}function k$(t){return`${Qk} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N$({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Xk(t),s=eN(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:Qk,appId:t.appId,sdkVersion:Kk},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await tN(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Jk(c.authToken)}}else throw await Zk("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$=/^[cdef][\w-]{21}$/,oy="";function O$(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=M$(t);return D$.test(n)?n:oy}catch{return oy}}function M$(t){return b$(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new Map;function sN(t,e){const n=bf(t);iN(n,e),L$(n,e)}function iN(t,e){const n=rN.get(t);if(n)for(const r of n)r(e)}function L$(t,e){const n=F$();n&&n.postMessage({key:t,fid:e}),V$()}let li=null;function F$(){return!li&&"BroadcastChannel"in self&&(li=new BroadcastChannel("[Firebase] FID Change"),li.onmessage=t=>{iN(t.data.key,t.data.fid)}),li}function V$(){rN.size===0&&li&&(li.close(),li=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$="firebase-installations-database",U$=1,Ni="firebase-installations-store";let Kp=null;function s0(){return Kp||(Kp=w$(j$,U$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ni)}}})),Kp}async function ud(t,e){const n=bf(t),s=(await s0()).transaction(Ni,"readwrite"),i=s.objectStore(Ni),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&sN(t,e.fid),e}async function oN(t){const e=bf(t),r=(await s0()).transaction(Ni,"readwrite");await r.objectStore(Ni).delete(e),await r.done}async function Df(t,e){const n=bf(t),s=(await s0()).transaction(Ni,"readwrite"),i=s.objectStore(Ni),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&sN(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i0(t){let e;const n=await Df(t.appConfig,r=>{const s=$$(r),i=B$(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===oy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function $$(t){const e=t||{fid:O$(),registrationStatus:0};return aN(e)}function B$(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ki.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=z$(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:W$(t)}:{installationEntry:e}}async function z$(t,e){try{const n=await N$(t,e);return ud(t.appConfig,n)}catch(n){throw Yk(n)&&n.customData.serverCode===409?await oN(t.appConfig):await ud(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function W$(t){let e=await cT(t.appConfig);for(;e.registrationStatus===1;)await nN(100),e=await cT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await i0(t);return r||n}return e}function cT(t){return Df(t,e=>{if(!e)throw ki.create("installation-not-found");return aN(e)})}function aN(t){return H$(t)?{fid:t.fid,registrationStatus:0}:t}function H$(t){return t.registrationStatus===1&&t.registrationTime+Gk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q$({appConfig:t,heartbeatServiceProvider:e},n){const r=G$(t,n),s=A$(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:Kk,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await tN(()=>fetch(r,a));if(l.ok){const c=await l.json();return Jk(c)}else throw await Zk("Generate Auth Token",l)}function G$(t,{fid:e}){return`${Xk(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o0(t,e=!1){let n;const r=await Df(t.appConfig,i=>{if(!lN(i))throw ki.create("not-registered");const o=i.authToken;if(!e&&Y$(o))return i;if(o.requestStatus===1)return n=K$(t,e),i;{if(!navigator.onLine)throw ki.create("app-offline");const a=J$(i);return n=Q$(t,a),a}});return n?await n:r.authToken}async function K$(t,e){let n=await uT(t.appConfig);for(;n.authToken.requestStatus===1;)await nN(100),n=await uT(t.appConfig);const r=n.authToken;return r.requestStatus===0?o0(t,e):r}function uT(t){return Df(t,e=>{if(!lN(e))throw ki.create("not-registered");const n=e.authToken;return Z$(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Q$(t,e){try{const n=await q$(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await ud(t.appConfig,r),n}catch(n){if(Yk(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await oN(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ud(t.appConfig,r)}throw n}}function lN(t){return t!==void 0&&t.registrationStatus===2}function Y$(t){return t.requestStatus===2&&!X$(t)}function X$(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+I$}function J$(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Z$(t){return t.requestStatus===1&&t.requestTime+Gk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eB(t){const e=t,{installationEntry:n,registrationPromise:r}=await i0(e);return r?r.catch(console.error):o0(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tB(t,e=!1){const n=t;return await nB(n),(await o0(n,e)).token}async function nB(t){const{registrationPromise:e}=await i0(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(t){if(!t||!t.options)throw Qp("App Configuration");if(!t.name)throw Qp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Qp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Qp(t){return ki.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="installations",sB="installations-internal",iB=t=>{const e=t.getProvider("app").getImmediate(),n=rB(e),r=aa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},oB=t=>{const e=t.getProvider("app").getImmediate(),n=aa(e,cN).getImmediate();return{getId:()=>eB(n),getToken:s=>tB(n,s)}};function aB(){An(new ln(cN,iB,"PUBLIC")),An(new ln(sB,oB,"PRIVATE"))}aB();Pt(qk,r0);Pt(qk,r0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="analytics",lB="firebase_id",cB="origin",uB=60*1e3,hB="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",a0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt=new _c("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Sn=new Oi("analytics","Analytics",dB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(t){if(!t.startsWith(a0)){const e=Sn.create("invalid-gtag-resource",{gtagURL:t});return Gt.warn(e.message),""}return t}function uN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function pB(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function mB(t,e){const n=pB("firebase-js-sdk-policy",{createScriptURL:fB}),r=document.createElement("script"),s=`${a0}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function gB(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function yB(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await uN(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){Gt.error(a)}t("config",s,i)}async function _B(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await uN(n);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&e[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Gt.error(i)}}function vB(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await _B(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await yB(t,e,n,r,a,l)}else if(i==="consent"){const[a]=o;t("consent","update",a)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Gt.error(a)}}return s}function wB(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=vB(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function EB(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(a0)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB=30,xB=1e3;class IB{constructor(e={},n=xB){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const hN=new IB;function SB(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function CB(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:SB(r)},i=hB.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Sn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function PB(t,e=hN,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Sn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Sn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new kB;return setTimeout(async()=>{a.abort()},n!==void 0?n:uB),dN({appId:r,apiKey:s,measurementId:i},o,a,e)}async function dN(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=hN){var i;const{appId:o,measurementId:a}=t;try{await AB(r,e)}catch(l){if(a)return Gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await CB(t);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!RB(c)){if(s.deleteThrottleMetadata(o),a)return Gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?sE(n,s.intervalMillis,TB):sE(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(o,h),Gt.debug(`Calling attemptFetch again in ${u} millis`),dN(t,h,r,s)}}function AB(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function RB(t){if(!(t instanceof kn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class kB{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function NB(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bB(){if(PC())try{await AC()}catch(t){return Gt.warn(Sn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Gt.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function DB(t,e,n,r,s,i,o){var a;const l=PB(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Gt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Gt.error(p)),e.push(l);const c=bB().then(p=>{if(p)return r.getId()}),[u,h]=await Promise.all([l,c]);EB(i)||mB(i,u.measurementId),s("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[cB]="firebase",f.update=!0,h!=null&&(f[lB]=h),s("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e){this.app=e}_delete(){return delete ml[this.app.options.appId],Promise.resolve()}}let ml={},dT=[];const fT={};let Yp="dataLayer",MB="gtag",pT,fN,mT=!1;function LB(){const t=[];if(IC()&&t.push("This is a browser extension environment."),V4()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Sn.create("invalid-analytics-context",{errorInfo:e});Gt.warn(n.message)}}function FB(t,e,n){LB();const r=t.options.appId;if(!r)throw Sn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Sn.create("no-api-key");if(ml[r]!=null)throw Sn.create("already-exists",{id:r});if(!mT){gB(Yp);const{wrappedGtag:i,gtagCore:o}=wB(ml,dT,fT,Yp,MB);fN=i,pT=o,mT=!0}return ml[r]=DB(t,dT,fT,e,pT,Yp,n),new OB(t)}function VB(t,e,n,r){t=Ge(t),NB(fN,ml[t.app.options.appId],e,n,r).catch(s=>Gt.error(s))}const gT="@firebase/analytics",yT="0.10.0";function jB(){An(new ln(hT,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return FB(r,s,n)},"PUBLIC")),An(new ln("analytics-internal",t,"PRIVATE")),Pt(gT,yT),Pt(gT,yT,"esm2017");function t(e){try{const n=e.getProvider(hT).getImmediate();return{logEvent:(r,s,i)=>VB(n,r,s,i)}}catch(n){throw Sn.create("interop-component-reg-failed",{reason:n})}}}jB();const UB={apiKey:"AIzaSyAE-HseZ8EKtey_1vVoZH6brWxXMNDOSNs",authDomain:"feedpost-7e3db.firebaseapp.com",projectId:"feedpost-7e3db",storageBucket:"feedpost-7e3db.appspot.com",messagingSenderId:"322890087093",appId:"1:322890087093:web:f2f7b08630459383341cfc",measurementId:"G-YX0QK3DWW8"},l0=bC(UB);GP(l0);const ur=h$(l0),We=M5(l0),$B={posts:[],interactions:[],politicsPost:[],sportsPost:[],musicPost:[],lifestylePost:[],entertainmentPost:[],technologyPost:[],educationPost:[],profilePicture:"",userEmail:"",userName:"",userId:"",postTitle:"",postDescription:"",postContent:"",postImage:"",postCategory:"",postTags:[],postDate:"",postAuthor:"",category:[]},pN=x4({name:"post",initialState:$B,reducers:{addNewPost:(t,e)=>{const n=t.posts.length,{postId:r,post:s}=e.payload;t.posts.push({postId:n,...s,likes:0,comments:0}),ur.currentUser},updatePost:(t,e)=>{t.posts=e.payload},addPoliticsPost:(t,e)=>{t.politicsPost=e.payload},addSportsPost:(t,e)=>{t.sportsPost=e.payload},addMusicPost:(t,e)=>{t.musicPost=e.payload},addLifestylePost:(t,e)=>{t.lifestylePost=e.payload},addEntertainmentPost:(t,e)=>{t.entertainmentPost=e.payload},addTechnologyPost:(t,e)=>{t.technologyPost=e.payload},addEducationPost:(t,e)=>{t.educationPost=e.payload},userProfilePicture:(t,e)=>{t.profilePicture=e.payload},userEmail:(t,e)=>{t.userEmail=e.payload},usersName:(t,e)=>{t.userName=e.payload},setPostTitle:(t,e)=>{t.postTitle=e.payload},setPostDescription:(t,e)=>{t.postDescription=e.payload},setPostContent:(t,e)=>{t.postContent=e.payload},setPostImage:(t,e)=>{t.postImage=e.payload},setPostCategory:(t,e)=>{t.postCategory=e.payload},setPostTags:(t,e)=>{t.postTags=e.payload},setUserId:(t,e)=>{t.userId=e.payload},setPostAuthor:(t,e)=>{t.postAuthor=e.payload},setPostDate:(t,e)=>{t.postDate=e.payload},addLike:(t,e)=>{t.interactions.push(e.payload)},addCategory:(t,e)=>{t.category=e.payload}}}),BB=pN.reducer,zB=g4({reducer:BB}),{addNewPost:gK,updatePost:WB,addPoliticsPost:HB,addTechnologyPost:qB,addEntertainmentPost:GB,addEducationPost:KB,addMusicPost:QB,addLifestylePost:YB,addSportsPost:XB,userEmail:JB,userProfilePicture:ZB,usersName:ay,setPostContent:ez,setPostDescription:tz,setPostImage:nz,setPostTitle:rz,setPostCategory:sz,setPostTags:iz,setUserId:oz,setPostAuthor:az,setPostDate:lz,addCategory:_r}=pN.actions;var mN={exports:{}},gN={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zc=T;function cz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uz=typeof Object.is=="function"?Object.is:cz,hz=zc.useSyncExternalStore,dz=zc.useRef,fz=zc.useEffect,pz=zc.useMemo,mz=zc.useDebugValue;gN.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=dz(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=pz(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),s!==void 0&&o.hasValue){var g=o.value;if(s(g,p))return h=g}return h=p}if(g=h,uz(u,p))return g;var v=r(p);return s!==void 0&&s(g,v)?g:(u=p,h=v)}var c=!1,u,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,s]);var a=hz(t,i[0],i[1]);return fz(function(){o.hasValue=!0,o.value=a},[a]),mz(a),a};mN.exports=gN;var gz=mN.exports,tn="default"in dm?Tn:dm,_T=Symbol.for("react-redux-context"),vT=typeof globalThis<"u"?globalThis:{};function yz(){if(!tn.createContext)return{};const t=vT[_T]??(vT[_T]=new Map);let e=t.get(tn.createContext);return e||(e=tn.createContext(null),t.set(tn.createContext,e)),e}var bs=yz(),_z=()=>{throw new Error("uSES not initialized!")};function c0(t=bs){return function(){return tn.useContext(t)}}var yN=c0(),_N=_z,vz=t=>{_N=t},wz=(t,e)=>t===e;function Ez(t=bs){const e=t===bs?yN:c0(t);return function(r,s={}){const{equalityFn:i=wz,devModeChecks:o={}}=typeof s=="function"?{equalityFn:s}:s,{store:a,subscription:l,getServerState:c,stabilityCheck:u,identityFunctionCheck:h}=e();tn.useRef(!0);const f=tn.useCallback({[r.name](g){return r(g)}}[r.name],[r,u,o.stabilityCheck]),p=_N(l.addNestedSub,a.getState,c||a.getState,f,i);return tn.useDebugValue(p),p}}var Je=Ez();function Tz(t){t()}function xz(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Tz(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0,s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var wT={notify(){},get:()=>[]};function Iz(t,e){let n,r=wT,s=0,i=!1;function o(v){u();const w=r.subscribe(v);let m=!1;return()=>{m||(m=!0,w(),h())}}function a(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function c(){return i}function u(){s++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=xz())}function h(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=wT)}function f(){i||(i=!0,u())}function p(){i&&(i=!1,h())}const g={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return g}var Sz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cz=Sz?tn.useLayoutEffect:tn.useEffect;function Pz({store:t,context:e,children:n,serverState:r,stabilityCheck:s="once",identityFunctionCheck:i="once"}){const o=tn.useMemo(()=>{const c=Iz(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:s,identityFunctionCheck:i}},[t,r,s,i]),a=tn.useMemo(()=>t.getState(),[t]);Cz(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=e||bs;return tn.createElement(l.Provider,{value:o},n)}var Az=Pz;function vN(t=bs){const e=t===bs?yN:c0(t);return function(){const{store:r}=e();return r}}var Rz=vN();function kz(t=bs){const e=t===bs?Rz:vN(t);return function(){return e().dispatch}}var Wc=kz();vz(gz.useSyncExternalStoreWithSelector);/**
 * @remix-run/router v1.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lc.apply(this,arguments)}var as;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(as||(as={}));const ET="popstate";function Nz(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return ly("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:hd(s)}return Dz(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function u0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bz(){return Math.random().toString(36).substr(2,8)}function TT(t,e){return{usr:t.state,key:t.key,idx:e}}function ly(t,e,n,r){return n===void 0&&(n=null),lc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ya(e):e,{state:n,key:e&&e.key||r||bz()})}function hd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ya(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Dz(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=as.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(lc({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=as.Pop;let w=u(),m=w==null?null:w-c;c=w,l&&l({action:a,location:v.location,delta:m})}function f(w,m){a=as.Push;let y=ly(v.location,w,m);n&&n(y,w),c=u()+1;let _=TT(y,c),E=v.createHref(y);try{o.pushState(_,"",E)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(E)}i&&l&&l({action:a,location:v.location,delta:1})}function p(w,m){a=as.Replace;let y=ly(v.location,w,m);n&&n(y,w),c=u();let _=TT(y,c),E=v.createHref(y);o.replaceState(_,"",E),i&&l&&l({action:a,location:v.location,delta:0})}function g(w){let m=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof w=="string"?w:hd(w);return qe(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let v={get action(){return a},get location(){return t(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(ET,h),l=w,()=>{s.removeEventListener(ET,h),l=null}},createHref(w){return e(s,w)},createURL:g,encodeLocation(w){let m=g(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(w){return o.go(w)}};return v}var xT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(xT||(xT={}));function Oz(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ya(e):e,s=h0(r.pathname||"/",n);if(s==null)return null;let i=wN(t);Mz(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=Wz(i[a],Gz(s));return o}function wN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(qe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Es([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(qe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),wN(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Bz(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of EN(i.path))s(i,o,l)}),e}function EN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=EN(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Mz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Lz=/^:\w+$/,Fz=3,Vz=2,jz=1,Uz=10,$z=-2,IT=t=>t==="*";function Bz(t,e){let n=t.split("/"),r=n.length;return n.some(IT)&&(r+=$z),e&&(r+=Vz),n.filter(s=>!IT(s)).reduce((s,i)=>s+(Lz.test(i)?Fz:i===""?jz:Uz),r)}function zz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Wz(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=Hz({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let h=a.route;i.push({params:r,pathname:Es([s,u.pathname]),pathnameBase:Jz(Es([s,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(s=Es([s,u.pathnameBase]))}return i}function Hz(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qz(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let v=a[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?c[f]=void 0:c[f]=Kz(g||"",f),c},{}),pathname:i,pathnameBase:o,pattern:t}}function qz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),u0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Gz(t){try{return decodeURI(t)}catch(e){return u0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Kz(t,e){try{return decodeURIComponent(t)}catch(n){return u0(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function h0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Qz(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ya(t):t;return{pathname:n?n.startsWith("/")?n:Yz(n,e):e,search:Zz(r),hash:e8(s)}}function Yz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Xp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function TN(t,e){let n=Xz(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xN(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ya(t):(s=lc({},t),qe(!s.pathname||!s.pathname.includes("?"),Xp("?","pathname","search",s)),qe(!s.pathname||!s.pathname.includes("#"),Xp("#","pathname","hash",s)),qe(!s.search||!s.search.includes("#"),Xp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=Qz(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Es=t=>t.join("/").replace(/\/\/+/g,"/"),Jz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Zz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,e8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function t8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const IN=["post","put","patch","delete"];new Set(IN);const n8=["get",...IN];new Set(n8);/**
 * React Router v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cc.apply(this,arguments)}const d0=T.createContext(null),r8=T.createContext(null),Bi=T.createContext(null),Of=T.createContext(null),Ws=T.createContext({outlet:null,matches:[],isDataRoute:!1}),SN=T.createContext(null);function s8(t,e){let{relative:n}=e===void 0?{}:e;Hc()||qe(!1);let{basename:r,navigator:s}=T.useContext(Bi),{hash:i,pathname:o,search:a}=PN(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Es([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Hc(){return T.useContext(Of)!=null}function Mf(){return Hc()||qe(!1),T.useContext(Of).location}function CN(t){T.useContext(Bi).static||T.useLayoutEffect(t)}function Qt(){let{isDataRoute:t}=T.useContext(Ws);return t?_8():i8()}function i8(){Hc()||qe(!1);let t=T.useContext(d0),{basename:e,future:n,navigator:r}=T.useContext(Bi),{matches:s}=T.useContext(Ws),{pathname:i}=Mf(),o=JSON.stringify(TN(s,n.v7_relativeSplatPath)),a=T.useRef(!1);return CN(()=>{a.current=!0}),T.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=xN(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Es([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,i,t])}function o8(){let{matches:t}=T.useContext(Ws),e=t[t.length-1];return e?e.params:{}}function PN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(Bi),{matches:s}=T.useContext(Ws),{pathname:i}=Mf(),o=JSON.stringify(TN(s,r.v7_relativeSplatPath));return T.useMemo(()=>xN(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function a8(t,e){return l8(t,e)}function l8(t,e,n,r){Hc()||qe(!1);let{navigator:s}=T.useContext(Bi),{matches:i}=T.useContext(Ws),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Mf(),u;if(e){var h;let w=typeof e=="string"?ya(e):e;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||qe(!1),u=w}else u=c;let f=u.pathname||"/",p=l==="/"?f:f.slice(l.length)||"/",g=Oz(t,{pathname:p}),v=f8(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Es([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Es([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&v?T.createElement(Of.Provider,{value:{location:cc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:as.Pop}},v):v}function c8(){let t=y8(),e=t8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,i)}const u8=T.createElement(c8,null);class h8 extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(Ws.Provider,{value:this.props.routeContext},T.createElement(SN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function d8(t){let{routeContext:e,match:n,children:r}=t,s=T.useContext(d0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Ws.Provider,{value:e},r)}function f8(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));u>=0||qe(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:p}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,g=!1,v=null,w=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||u8,l&&(c<0&&f===0?(v8("route-fallback",!1),g=!0,w=null):c===f&&(g=!0,w=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),y=()=>{let _;return p?_=v:g?_=w:h.route.Component?_=T.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=u,T.createElement(d8,{match:h,routeContext:{outlet:u,matches:m,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?T.createElement(h8,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var AN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(AN||{}),dd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(dd||{});function p8(t){let e=T.useContext(d0);return e||qe(!1),e}function m8(t){let e=T.useContext(r8);return e||qe(!1),e}function g8(t){let e=T.useContext(Ws);return e||qe(!1),e}function RN(t){let e=g8(),n=e.matches[e.matches.length-1];return n.route.id||qe(!1),n.route.id}function y8(){var t;let e=T.useContext(SN),n=m8(dd.UseRouteError),r=RN(dd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _8(){let{router:t}=p8(AN.UseNavigateStable),e=RN(dd.UseNavigateStable),n=T.useRef(!1);return CN(()=>{n.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,cc({fromRouteId:e},i)))},[t,e])}const ST={};function v8(t,e,n){!e&&!ST[t]&&(ST[t]=!0)}function gn(t){qe(!1)}function w8(t){let{basename:e="/",children:n=null,location:r,navigationType:s=as.Pop,navigator:i,static:o=!1,future:a}=t;Hc()&&qe(!1);let l=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:i,static:o,future:cc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ya(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,v=T.useMemo(()=>{let w=h0(u,l);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:g},navigationType:s}},[l,u,h,f,p,g,s]);return v==null?null:T.createElement(Bi.Provider,{value:c},T.createElement(Of.Provider,{children:n,value:v}))}function E8(t){let{children:e,location:n}=t;return a8(cy(e),n)}new Promise(()=>{});function cy(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){n.push.apply(n,cy(r.props.children,i));return}r.type!==gn&&qe(!1),!r.props.index||!r.props.children||qe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=cy(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uy(){return uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uy.apply(this,arguments)}function T8(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function x8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function I8(t,e){return t.button===0&&(!e||e==="_self")&&!x8(t)}const S8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],C8="startTransition",CT=dm[C8];function P8(t){let{basename:e,children:n,future:r,window:s}=t,i=T.useRef();i.current==null&&(i.current=Nz({window:s,v5Compat:!0}));let o=i.current,[a,l]=T.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=T.useCallback(h=>{c&&CT?CT(()=>l(h)):l(h)},[l,c]);return T.useLayoutEffect(()=>o.listen(u),[o,u]),T.createElement(w8,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const A8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",R8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jt=T.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,f=T8(e,S8),{basename:p}=T.useContext(Bi),g,v=!1;if(typeof c=="string"&&R8.test(c)&&(g=c,A8))try{let _=new URL(window.location.href),E=c.startsWith("//")?new URL(_.protocol+c):new URL(c),I=h0(E.pathname,p);E.origin===_.origin&&I!=null?c=I+E.search+E.hash:v=!0}catch{}let w=s8(c,{relative:s}),m=k8(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:h});function y(_){r&&r(_),_.defaultPrevented||m(_)}return T.createElement("a",uy({},f,{href:g||w,onClick:v||i?r:y,ref:n,target:l}))});var PT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(PT||(PT={}));var AT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(AT||(AT={}));function k8(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Qt(),c=Mf(),u=PN(t,{relative:o});return T.useCallback(h=>{if(I8(h,n)){h.preventDefault();let f=r!==void 0?r:hd(c)===hd(u);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}var kN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},RT=Tn.createContext&&Tn.createContext(kN),Ts=function(){return Ts=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ts.apply(this,arguments)},N8=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};function NN(t){return t&&t.map(function(e,n){return Tn.createElement(e.tag,Ts({key:n},e.attr),NN(e.child))})}function Ve(t){return function(e){return Tn.createElement(b8,Ts({attr:Ts({},t.attr)},e),NN(t.child))}}function b8(t){var e=function(n){var r=t.attr,s=t.size,i=t.title,o=N8(t,["attr","size","title"]),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Tn.createElement("svg",Ts({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Ts(Ts({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Tn.createElement("title",null,i),t.children)};return RT!==void 0?Tn.createElement(RT.Consumer,null,function(n){return e(n)}):e(kN)}function D8(t){return Ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(t)}function O8(t){return Ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"}}]})(t)}function kT(t){return Ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(t)}function bN(t){return Ve({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M244 400L100 256l144-144M120 256h292"}}]})(t)}function M8(t){return Ve({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(t)}function L8(t){return Ve({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M338.29 338.29L448 448"}}]})(t)}function F8(t){return Ve({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476.59 227.05l-.16-.07L49.35 49.84A23.56 23.56 0 0027.14 52 24.65 24.65 0 0016 72.59v113.29a24 24 0 0019.52 23.57l232.93 43.07a4 4 0 010 7.86L35.53 303.45A24 24 0 0016 327v113.31A23.57 23.57 0 0026.59 460a23.94 23.94 0 0013.22 4 24.55 24.55 0 009.52-1.93L476.4 285.94l.19-.09a32 32 0 000-58.8z"}}]})(t)}const DN=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Lf=T.createContext({}),f0=T.createContext(null),Ff=typeof document<"u",V8=Ff?T.useLayoutEffect:T.useEffect,ON=T.createContext({strict:!1}),p0=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),j8="framerAppearId",MN="data-"+p0(j8);function U8(t,e,n,r){const{visualElement:s}=T.useContext(Lf),i=T.useContext(ON),o=T.useContext(f0),a=T.useContext(DN).reducedMotion,l=T.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;T.useInsertionEffect(()=>{c&&c.update(n,o)});const u=T.useRef(!!(n[MN]&&!window.HandoffComplete));return V8(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),T.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function mo(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $8(t,e,n){return T.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):mo(n)&&(n.current=r))},[e])}function uc(t){return typeof t=="string"||Array.isArray(t)}function Vf(t){return typeof t=="object"&&typeof t.start=="function"}const m0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],g0=["initial",...m0];function jf(t){return Vf(t.animate)||g0.some(e=>uc(t[e]))}function LN(t){return!!(jf(t)||t.variants)}function B8(t,e){if(jf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||uc(n)?n:void 0,animate:uc(r)?r:void 0}}return t.inherit!==!1?e:{}}function z8(t){const{initial:e,animate:n}=B8(t,T.useContext(Lf));return T.useMemo(()=>({initial:e,animate:n}),[NT(e),NT(n)])}function NT(t){return Array.isArray(t)?t.join(" "):t}const bT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hc={};for(const t in bT)hc[t]={isEnabled:e=>bT[t].some(n=>!!e[n])};function W8(t){for(const e in t)hc[e]={...hc[e],...t[e]}}const FN=T.createContext({}),VN=T.createContext({}),H8=Symbol.for("motionComponentSymbol");function q8({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&W8(t);function i(a,l){let c;const u={...T.useContext(DN),...a,layoutId:G8(a)},{isStatic:h}=u,f=z8(a),p=r(a,h);if(!h&&Ff){f.visualElement=U8(s,p,u,e);const g=T.useContext(VN),v=T.useContext(ON).strict;f.visualElement&&(c=f.visualElement.loadFeatures(u,v,t,g))}return T.createElement(Lf.Provider,{value:f},c&&f.visualElement?T.createElement(c,{visualElement:f.visualElement,...u}):null,n(s,a,$8(p,f.visualElement,l),p,h,f.visualElement))}const o=T.forwardRef(i);return o[H8]=s,o}function G8({layoutId:t}){const e=T.useContext(FN).id;return e&&t!==void 0?e+"-"+t:t}function K8(t){function e(r,s={}){return q8(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const Q8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function y0(t){return typeof t!="string"||t.includes("-")?!1:!!(Q8.indexOf(t)>-1||/[A-Z]/.test(t))}const fd={};function Y8(t){Object.assign(fd,t)}const qc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zi=new Set(qc);function jN(t,{layout:e,layoutId:n}){return zi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!fd[t]||t==="opacity")}const Kt=t=>!!(t&&t.getVelocity),X8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},J8=qc.length;function Z8(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<J8;o++){const a=qc[o];if(t[a]!==void 0){const l=X8[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const UN=t=>e=>typeof e=="string"&&e.startsWith(t),$N=UN("--"),hy=UN("var(--"),e7=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,t7=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ds=(t,e,n)=>Math.min(Math.max(n,t),e),Wi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gl={...Wi,transform:t=>Ds(0,1,t)},Ru={...Wi,default:1},yl=t=>Math.round(t*1e5)/1e5,Uf=/(-)?([\d]*\.?[\d])+/g,BN=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,n7=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Gc(t){return typeof t=="string"}const Kc=t=>({test:e=>Gc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Kr=Kc("deg"),hr=Kc("%"),z=Kc("px"),r7=Kc("vh"),s7=Kc("vw"),DT={...hr,parse:t=>hr.parse(t)/100,transform:t=>hr.transform(t*100)},OT={...Wi,transform:Math.round},zN={borderWidth:z,borderTopWidth:z,borderRightWidth:z,borderBottomWidth:z,borderLeftWidth:z,borderRadius:z,radius:z,borderTopLeftRadius:z,borderTopRightRadius:z,borderBottomRightRadius:z,borderBottomLeftRadius:z,width:z,maxWidth:z,height:z,maxHeight:z,size:z,top:z,right:z,bottom:z,left:z,padding:z,paddingTop:z,paddingRight:z,paddingBottom:z,paddingLeft:z,margin:z,marginTop:z,marginRight:z,marginBottom:z,marginLeft:z,rotate:Kr,rotateX:Kr,rotateY:Kr,rotateZ:Kr,scale:Ru,scaleX:Ru,scaleY:Ru,scaleZ:Ru,skew:Kr,skewX:Kr,skewY:Kr,distance:z,translateX:z,translateY:z,translateZ:z,x:z,y:z,z,perspective:z,transformPerspective:z,opacity:gl,originX:DT,originY:DT,originZ:z,zIndex:OT,fillOpacity:gl,strokeOpacity:gl,numOctaves:OT};function _0(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const h in e){const f=e[h];if($N(h)){i[h]=f;continue}const p=zN[h],g=t7(f,p);if(zi.has(h)){if(l=!0,o[h]=g,!u)continue;f!==(p.default||0)&&(u=!1)}else h.startsWith("origin")?(c=!0,a[h]=g):s[h]=g}if(e.transform||(l||r?s.transform=Z8(t.transform,n,u,r):s.transform&&(s.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:p=0}=a;s.transformOrigin=`${h} ${f} ${p}`}}const v0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WN(t,e,n){for(const r in e)!Kt(e[r])&&!jN(r,n)&&(t[r]=e[r])}function i7({transformTemplate:t},e,n){return T.useMemo(()=>{const r=v0();return _0(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function o7(t,e,n){const r=t.style||{},s={};return WN(s,r,t),Object.assign(s,i7(t,e,n)),t.transformValues?t.transformValues(s):s}function a7(t,e,n){const r={},s=o7(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const l7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function pd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||l7.has(t)}let HN=t=>!pd(t);function c7(t){t&&(HN=e=>e.startsWith("on")?!pd(e):t(e))}try{c7(require("@emotion/is-prop-valid").default)}catch{}function u7(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(HN(s)||n===!0&&pd(s)||!e&&!pd(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function MT(t,e,n){return typeof t=="string"?t:z.transform(e+n*t)}function h7(t,e,n){const r=MT(e,t.x,t.width),s=MT(n,t.y,t.height);return`${r} ${s}`}const d7={offset:"stroke-dashoffset",array:"stroke-dasharray"},f7={offset:"strokeDashoffset",array:"strokeDasharray"};function p7(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?d7:f7;t[i.offset]=z.transform(-r);const o=z.transform(e),a=z.transform(n);t[i.array]=`${o} ${a}`}function w0(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,h,f){if(_0(t,c,u,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:v}=t;p.transform&&(v&&(g.transform=p.transform),delete p.transform),v&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=h7(v,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&p7(p,o,a,l,!1)}const qN=()=>({...v0(),attrs:{}}),E0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function m7(t,e,n,r){const s=T.useMemo(()=>{const i=qN();return w0(i,e,{enableHardwareAcceleration:!1},E0(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};WN(i,t.style,t),s.style={...i,...s.style}}return s}function g7(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(y0(n)?m7:a7)(r,i,o,n),u={...u7(r,typeof n=="string",t),...l,ref:s},{children:h}=r,f=T.useMemo(()=>Kt(h)?h.get():h,[h]);return T.createElement(n,{...u,children:f})}}function GN(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const KN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QN(t,e,n,r){GN(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(KN.has(s)?s:p0(s),e.attrs[s])}function T0(t,e){const{style:n}=t,r={};for(const s in n)(Kt(n[s])||e.style&&Kt(e.style[s])||jN(s,t))&&(r[s]=n[s]);return r}function YN(t,e){const n=T0(t,e);for(const r in t)if(Kt(t[r])||Kt(e[r])){const s=qc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function x0(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function y7(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const md=t=>Array.isArray(t),_7=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),v7=t=>md(t)?t[t.length-1]||0:t;function nh(t){const e=Kt(t)?t.get():t;return _7(e)?e.toValue():e}function w7({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:E7(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const XN=t=>(e,n)=>{const r=T.useContext(Lf),s=T.useContext(f0),i=()=>w7(t,e,r,s);return n?i():y7(i)};function E7(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=nh(i[f]);let{initial:o,animate:a}=t;const l=jf(t),c=LN(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;return h&&typeof h!="boolean"&&!Vf(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const g=x0(t,p);if(!g)return;const{transitionEnd:v,transition:w,...m}=g;for(const y in m){let _=m[y];if(Array.isArray(_)){const E=u?_.length-1:0;_=_[E]}_!==null&&(s[y]=_)}for(const y in v)s[y]=v[y]}),s}const Le=t=>t;class LT{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function T7(t){let e=new LT,n=new LT,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const h=u&&s,f=h?e:n;return c&&o.add(l),f.add(l)&&h&&s&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),o.has(u)&&(a.schedule(u),t())}s=!1,i&&(i=!1,a.process(l))}};return a}const ku=["prepare","read","update","preRender","render","postRender"],x7=40;function I7(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=ku.reduce((h,f)=>(h[f]=T7(()=>n=!0),h),{}),o=h=>i[h].process(s),a=()=>{const h=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(h-s.timestamp,x7),1),s.timestamp=h,s.isProcessing=!0,ku.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:ku.reduce((h,f)=>{const p=i[f];return h[f]=(g,v=!1,w=!1)=>(n||l(),p.schedule(g,v,w)),h},{}),cancel:h=>ku.forEach(f=>i[f].cancel(h)),state:s,steps:i}}const{schedule:Se,cancel:zr,state:wt,steps:Jp}=I7(typeof requestAnimationFrame<"u"?requestAnimationFrame:Le,!0),S7={useVisualState:XN({scrapeMotionValuesFromProps:YN,createRenderState:qN,onMount:(t,e,{renderState:n,latestValues:r})=>{Se.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Se.render(()=>{w0(n,r,{enableHardwareAcceleration:!1},E0(e.tagName),t.transformTemplate),QN(e,n)})}})},C7={useVisualState:XN({scrapeMotionValuesFromProps:T0,createRenderState:v0})};function P7(t,{forwardMotionProps:e=!1},n,r){return{...y0(t)?S7:C7,preloadedFeatures:n,useRender:g7(e),createVisualElement:r,Component:t}}function Pr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const JN=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function $f(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const A7=t=>e=>JN(e)&&t(e,$f(e));function Nr(t,e,n,r){return Pr(t,e,A7(n),r)}const R7=(t,e)=>n=>e(t(n)),xs=(...t)=>t.reduce(R7);function ZN(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const FT=ZN("dragHorizontal"),VT=ZN("dragVertical");function eb(t){let e=!1;if(t==="y")e=VT();else if(t==="x")e=FT();else{const n=FT(),r=VT();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function tb(){const t=eb(!0);return t?(t(),!1):!0}class Hs{constructor(e){this.isMounted=!1,this.node=e}update(){}}function jT(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.type==="touch"||tb())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Se.update(()=>a[r](i,o))};return Nr(t.current,n,s,{passive:!t.getProps()[r]})}class k7 extends Hs{mount(){this.unmount=xs(jT(this.node,!0),jT(this.node,!1))}unmount(){}}class N7 extends Hs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xs(Pr(this.node.current,"focus",()=>this.onFocus()),Pr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const nb=(t,e)=>e?t===e?!0:nb(t,e.parentElement):!1;function Zp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,$f(n))}class b7 extends Hs{constructor(){super(...arguments),this.removeStartListeners=Le,this.removeEndListeners=Le,this.removeAccessibleListeners=Le,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=Nr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u}=this.node.getProps();Se.update(()=>{nb(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Nr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=xs(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Zp("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Se.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Pr(this.node.current,"keyup",o),Zp("down",(a,l)=>{this.startPress(a,l)})},n=Pr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Zp("cancel",(i,o)=>this.cancelPress(i,o))},s=Pr(this.node.current,"blur",r);this.removeAccessibleListeners=xs(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Se.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!tb()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Se.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Nr(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Pr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=xs(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const dy=new WeakMap,em=new WeakMap,D7=t=>{const e=dy.get(t.target);e&&e(t)},O7=t=>{t.forEach(D7)};function M7({root:t,...e}){const n=t||document;em.has(n)||em.set(n,{});const r=em.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(O7,{root:t,...e})),r[s]}function L7(t,e,n){const r=M7(e);return dy.set(t,n),r.observe(t),()=>{dy.delete(t),r.unobserve(t)}}const F7={some:0,all:1};class V7 extends Hs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:F7[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=c?u:h;f&&f(l)};return L7(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(j7(e,n))&&this.startObserver()}unmount(){}}function j7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const U7={inView:{Feature:V7},tap:{Feature:b7},focus:{Feature:N7},hover:{Feature:k7}};function rb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function $7(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function B7(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Bf(t,e,n){const r=t.getProps();return x0(r,e,n!==void 0?n:r.custom,$7(t),B7(t))}let z7=Le,I0=Le;const Is=t=>t*1e3,br=t=>t/1e3,W7={current:!1},sb=t=>Array.isArray(t)&&typeof t[0]=="number";function ib(t){return!!(!t||typeof t=="string"&&ob[t]||sb(t)||Array.isArray(t)&&t.every(ib))}const Qa=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ob={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qa([0,.65,.55,1]),circOut:Qa([.55,0,1,.45]),backIn:Qa([.31,.01,.66,-.59]),backOut:Qa([.33,1.53,.69,.99])};function ab(t){if(t)return sb(t)?Qa(t):Array.isArray(t)?t.map(ab):ob[t]}function H7(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=ab(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function q7(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const lb=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,G7=1e-7,K7=12;function Q7(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=lb(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>G7&&++a<K7);return o}function Qc(t,e,n,r){if(t===e&&n===r)return Le;const s=i=>Q7(i,0,1,t,n);return i=>i===0||i===1?i:lb(s(i),e,r)}const Y7=Qc(.42,0,1,1),X7=Qc(0,0,.58,1),cb=Qc(.42,0,.58,1),J7=t=>Array.isArray(t)&&typeof t[0]!="number",ub=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hb=t=>e=>1-t(1-e),S0=t=>1-Math.sin(Math.acos(t)),db=hb(S0),Z7=ub(S0),fb=Qc(.33,1.53,.69,.99),C0=hb(fb),eW=ub(C0),tW=t=>(t*=2)<1?.5*C0(t):.5*(2-Math.pow(2,-10*(t-1))),nW={linear:Le,easeIn:Y7,easeInOut:cb,easeOut:X7,circIn:S0,circInOut:Z7,circOut:db,backIn:C0,backInOut:eW,backOut:fb,anticipate:tW},UT=t=>{if(Array.isArray(t)){I0(t.length===4);const[e,n,r,s]=t;return Qc(e,n,r,s)}else if(typeof t=="string")return nW[t];return t},P0=(t,e)=>n=>!!(Gc(n)&&n7.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),pb=(t,e,n)=>r=>{if(!Gc(r))return r;const[s,i,o,a]=r.match(Uf);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},rW=t=>Ds(0,255,t),tm={...Wi,transform:t=>Math.round(rW(t))},ci={test:P0("rgb","red"),parse:pb("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+tm.transform(t)+", "+tm.transform(e)+", "+tm.transform(n)+", "+yl(gl.transform(r))+")"};function sW(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const fy={test:P0("#"),parse:sW,transform:ci.transform},go={test:P0("hsl","hue"),parse:pb("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+hr.transform(yl(e))+", "+hr.transform(yl(n))+", "+yl(gl.transform(r))+")"},Dt={test:t=>ci.test(t)||fy.test(t)||go.test(t),parse:t=>ci.test(t)?ci.parse(t):go.test(t)?go.parse(t):fy.parse(t),transform:t=>Gc(t)?t:t.hasOwnProperty("red")?ci.transform(t):go.transform(t)},ke=(t,e,n)=>-n*t+n*e+t;function nm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function iW({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=nm(l,a,t+1/3),i=nm(l,a,t),o=nm(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const rm=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},oW=[fy,ci,go],aW=t=>oW.find(e=>e.test(t));function $T(t){const e=aW(t);let n=e.parse(t);return e===go&&(n=iW(n)),n}const mb=(t,e)=>{const n=$T(t),r=$T(e),s={...n};return i=>(s.red=rm(n.red,r.red,i),s.green=rm(n.green,r.green,i),s.blue=rm(n.blue,r.blue,i),s.alpha=ke(n.alpha,r.alpha,i),ci.transform(s))};function lW(t){var e,n;return isNaN(t)&&Gc(t)&&(((e=t.match(Uf))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(BN))===null||n===void 0?void 0:n.length)||0)>0}const gb={regex:e7,countKey:"Vars",token:"${v}",parse:Le},yb={regex:BN,countKey:"Colors",token:"${c}",parse:Dt.parse},_b={regex:Uf,countKey:"Numbers",token:"${n}",parse:Wi.parse};function sm(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function gd(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&sm(n,gb),sm(n,yb),sm(n,_b),n}function vb(t){return gd(t).values}function wb(t){const{values:e,numColors:n,numVars:r,tokenised:s}=gd(t),i=e.length;return o=>{let a=s;for(let l=0;l<i;l++)l<r?a=a.replace(gb.token,o[l]):l<r+n?a=a.replace(yb.token,Dt.transform(o[l])):a=a.replace(_b.token,yl(o[l]));return a}}const cW=t=>typeof t=="number"?0:t;function uW(t){const e=vb(t);return wb(t)(e.map(cW))}const Os={test:lW,parse:vb,createTransformer:wb,getAnimatableNone:uW},Eb=(t,e)=>n=>`${n>0?e:t}`;function Tb(t,e){return typeof t=="number"?n=>ke(t,e,n):Dt.test(t)?mb(t,e):t.startsWith("var(")?Eb(t,e):Ib(t,e)}const xb=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>Tb(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},hW=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Tb(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},Ib=(t,e)=>{const n=Os.createTransformer(e),r=gd(t),s=gd(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?xs(xb(r.values,s.values),n):Eb(t,e)},dc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},BT=(t,e)=>n=>ke(t,e,n);function dW(t){return typeof t=="number"?BT:typeof t=="string"?Dt.test(t)?mb:Ib:Array.isArray(t)?xb:typeof t=="object"?hW:BT}function fW(t,e,n){const r=[],s=n||dW(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Le:e;a=xs(l,a)}r.push(a)}return r}function Sb(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(I0(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=fW(e,r,s),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const h=dc(t[u],t[u+1],c);return o[u](h)};return n?c=>l(Ds(t[0],t[i-1],c)):l}function pW(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=dc(0,e,r);t.push(ke(n,1,s))}}function mW(t){const e=[0];return pW(e,t.length-1),e}function gW(t,e){return t.map(n=>n*e)}function yW(t,e){return t.map(()=>e||cb).splice(0,t.length-1)}function yd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=J7(r)?r.map(UT):UT(r),i={done:!1,value:e[0]},o=gW(n&&n.length===e.length?n:mW(e),t),a=Sb(o,e,{ease:Array.isArray(s)?s:yW(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function Cb(t,e){return e?t*(1e3/e):0}const _W=5;function Pb(t,e,n){const r=Math.max(e-_W,0);return Cb(n-t(r),e-r)}const im=.001,vW=.01,zT=10,wW=.05,EW=1;function TW({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i;z7(t<=Is(zT));let o=1-e;o=Ds(wW,EW,o),t=Ds(vW,zT,br(t)),o<1?(s=c=>{const u=c*o,h=u*t,f=u-n,p=py(c,o),g=Math.exp(-h);return im-f/p*g},i=c=>{const h=c*o*t,f=h*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,g=Math.exp(-h),v=py(Math.pow(c,2),o);return(-s(c)+im>0?-1:1)*((f-p)*g)/v}):(s=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-im+u*h},i=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=IW(s,i,a);if(t=Is(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const xW=12;function IW(t,e,n){let r=n;for(let s=1;s<xW;s++)r=r-t(r)/e(r);return r}function py(t,e){return t*Math.sqrt(1-e*e)}const SW=["duration","bounce"],CW=["stiffness","damping","mass"];function WT(t,e){return e.some(n=>t[n]!==void 0)}function PW(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!WT(t,CW)&&WT(t,SW)){const n=TW(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function Ab({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,velocity:u,duration:h,isResolvedFromDuration:f}=PW(r),p=u?-br(u):0,g=l/(2*Math.sqrt(a*c)),v=i-s,w=br(Math.sqrt(a/c)),m=Math.abs(v)<5;n||(n=m?.01:2),e||(e=m?.005:.5);let y;if(g<1){const _=py(w,g);y=E=>{const I=Math.exp(-g*w*E);return i-I*((p+g*w*v)/_*Math.sin(_*E)+v*Math.cos(_*E))}}else if(g===1)y=_=>i-Math.exp(-w*_)*(v+(p+w*v)*_);else{const _=w*Math.sqrt(g*g-1);y=E=>{const I=Math.exp(-g*w*E),A=Math.min(_*E,300);return i-I*((p+g*w*v)*Math.sinh(A)+_*v*Math.cosh(A))/_}}return{calculatedDuration:f&&h||null,next:_=>{const E=y(_);if(f)o.done=_>=h;else{let I=p;_!==0&&(g<1?I=Pb(y,_,E):I=0);const A=Math.abs(I)<=n,R=Math.abs(i-E)<=e;o.done=A&&R}return o.value=o.done?i:E,o}}}function HT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},p=C=>a!==void 0&&C<a||l!==void 0&&C>l,g=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let v=n*e;const w=h+v,m=o===void 0?w:o(w);m!==w&&(v=m-h);const y=C=>-v*Math.exp(-C/r),_=C=>m+y(C),E=C=>{const k=y(C),M=_(C);f.done=Math.abs(k)<=c,f.value=f.done?m:M};let I,A;const R=C=>{p(f.value)&&(I=C,A=Ab({keyframes:[f.value,g(f.value)],velocity:Pb(_,C,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return R(0),{calculatedDuration:null,next:C=>{let k=!1;return!A&&I===void 0&&(k=!0,E(C),R(C)),I!==void 0&&C>I?A.next(C-I):(!k&&E(C),f)}}}const AW=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Se.update(e,!0),stop:()=>zr(e),now:()=>wt.isProcessing?wt.timestamp:performance.now()}},qT=2e4;function GT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<qT;)e+=n,r=t.next(e);return e>=qT?1/0:e}const RW={decay:HT,inertia:HT,tween:yd,keyframes:yd,spring:Ab};function _d({autoplay:t=!0,delay:e=0,driver:n=AW,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:h,...f}){let p=1,g=!1,v,w;const m=()=>{w=new Promise(O=>{v=O})};m();let y;const _=RW[s]||yd;let E;_!==yd&&typeof r[0]!="number"&&(E=Sb([0,100],r,{clamp:!1}),r=[0,100]);const I=_({...f,keyframes:r});let A;a==="mirror"&&(A=_({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let R="idle",C=null,k=null,M=null;I.calculatedDuration===null&&i&&(I.calculatedDuration=GT(I));const{calculatedDuration:X}=I;let le=1/0,ce=1/0;X!==null&&(le=X+o,ce=le*(i+1)-o);let W=0;const q=O=>{if(k===null)return;p>0&&(k=Math.min(k,O)),p<0&&(k=Math.min(O-ce/p,k)),C!==null?W=C:W=Math.round(O-k)*p;const V=W-e*(p>=0?1:-1),fe=p>=0?V<0:V>ce;W=Math.max(V,0),R==="finished"&&C===null&&(W=ce);let ve=W,je=I;if(i){const yr=W/le;let pn=Math.floor(yr),qs=yr%1;!qs&&yr>=1&&(qs=1),qs===1&&pn--,pn=Math.min(pn,i+1);const M0=!!(pn%2);M0&&(a==="reverse"?(qs=1-qs,o&&(qs-=o/le)):a==="mirror"&&(je=A));let L0=Ds(0,1,qs);W>ce&&(L0=a==="reverse"&&M0?1:0),ve=L0*le}const me=fe?{done:!1,value:r[0]}:je.next(ve);E&&(me.value=E(me.value));let{done:Oe}=me;!fe&&X!==null&&(Oe=p>=0?W>=ce:W<=0);const _a=C===null&&(R==="finished"||R==="running"&&Oe);return h&&h(me.value),_a&&x(),me},H=()=>{y&&y.stop(),y=void 0},_e=()=>{R="idle",H(),v(),m(),k=M=null},x=()=>{R="finished",u&&u(),H(),v()},S=()=>{if(g)return;y||(y=n(q));const O=y.now();l&&l(),C!==null?k=O-C:(!k||R==="finished")&&(k=O),R==="finished"&&m(),M=k,C=null,R="running",y.start()};t&&S();const P={then(O,V){return w.then(O,V)},get time(){return br(W)},set time(O){O=Is(O),W=O,C!==null||!y||p===0?C=O:k=y.now()-O/p},get duration(){const O=I.calculatedDuration===null?GT(I):I.calculatedDuration;return br(O)},get speed(){return p},set speed(O){O===p||!y||(p=O,P.time=br(W))},get state(){return R},play:S,pause:()=>{R="paused",C=W},stop:()=>{g=!0,R!=="idle"&&(R="idle",c&&c(),_e())},cancel:()=>{M!==null&&q(M),_e()},complete:()=>{R="finished"},sample:O=>(k=0,q(O))};return P}function kW(t){let e;return()=>(e===void 0&&(e=t()),e)}const NW=kW(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bW=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Nu=10,DW=2e4,OW=(t,e)=>e.type==="spring"||t==="backgroundColor"||!ib(e.ease);function MW(t,e,{onUpdate:n,onComplete:r,...s}){if(!(NW()&&bW.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l;const c=()=>{l=new Promise(y=>{a=y})};c();let{keyframes:u,duration:h=300,ease:f,times:p}=s;if(OW(e,s)){const y=_d({...s,repeat:0,delay:0});let _={done:!1,value:u[0]};const E=[];let I=0;for(;!_.done&&I<DW;)_=y.sample(I),E.push(_.value),I+=Nu;p=void 0,u=E,h=I-Nu,f="linear"}const g=H7(t.owner.current,e,u,{...s,duration:h,ease:f,times:p}),v=()=>g.cancel(),w=()=>{Se.update(v),a(),c()};return g.onfinish=()=>{t.set(q7(u,s)),r&&r(),w()},{then(y,_){return l.then(y,_)},attachTimeline(y){return g.timeline=y,g.onfinish=null,Le},get time(){return br(g.currentTime||0)},set time(y){g.currentTime=Is(y)},get speed(){return g.playbackRate},set speed(y){g.playbackRate=y},get duration(){return br(h)},play:()=>{o||(g.play(),zr(v))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:y}=g;if(y){const _=_d({...s,autoplay:!1});t.setWithVelocity(_.sample(y-Nu).value,_.sample(y).value,Nu)}w()},complete:()=>g.finish(),cancel:w}}function LW({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Le,pause:Le,stop:Le,then:i=>(i(),Promise.resolve()),cancel:Le,complete:Le});return e?_d({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const FW={type:"spring",stiffness:500,damping:25,restSpeed:10},VW=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),jW={type:"keyframes",duration:.8},UW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$W=(t,{keyframes:e})=>e.length>2?jW:zi.has(t)?t.startsWith("scale")?VW(e[1]):FW:UW,my=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Os.test(e)||e==="0")&&!e.startsWith("url(")),BW=new Set(["brightness","contrast","saturate","opacity"]);function zW(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Uf)||[];if(!r)return t;const s=n.replace(r,"");let i=BW.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const WW=/([a-z-]*)\(.*?\)/g,gy={...Os,getAnimatableNone:t=>{const e=t.match(WW);return e?e.map(zW).join(" "):t}},HW={...zN,color:Dt,backgroundColor:Dt,outlineColor:Dt,fill:Dt,stroke:Dt,borderColor:Dt,borderTopColor:Dt,borderRightColor:Dt,borderBottomColor:Dt,borderLeftColor:Dt,filter:gy,WebkitFilter:gy},A0=t=>HW[t];function Rb(t,e){let n=A0(t);return n!==gy&&(n=Os),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const kb=t=>/^0[^.\s]+$/.test(t);function qW(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||kb(t)}function GW(t,e,n,r){const s=my(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),qW(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(s&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];i[u]=Rb(e,a)}return i}function KW({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function R0(t,e){return t[e]||t.default||t}const k0=(t,e,n,r={})=>s=>{const i=R0(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Is(o);const l=GW(e,t,n,i),c=l[0],u=l[l.length-1],h=my(t,c),f=my(t,u);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:g=>{e.set(g),i.onUpdate&&i.onUpdate(g)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(KW(i)||(p={...p,...$W(t,p)}),p.duration&&(p.duration=Is(p.duration)),p.repeatDelay&&(p.repeatDelay=Is(p.repeatDelay)),!h||!f||W7.current||i.type===!1)return LW(p);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=MW(e,t,p);if(g)return g}return _d(p)};function vd(t){return!!(Kt(t)&&t.add)}const Nb=t=>/^\-?\d*\.?\d+$/.test(t);function N0(t,e){t.indexOf(e)===-1&&t.push(e)}function b0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class D0{constructor(){this.subscriptions=[]}add(e){return N0(this.subscriptions,e),()=>b0(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const QW=t=>!isNaN(parseFloat(t));class YW{constructor(e,n={}){this.version="10.16.16",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=wt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Se.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Se.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=QW(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new D0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Se.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Cb(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zo(t,e){return new YW(t,e)}const bb=t=>e=>e.test(t),XW={test:t=>t==="auto",parse:t=>t},Db=[Wi,z,hr,Kr,s7,r7,XW],Oa=t=>Db.find(bb(t)),JW=[...Db,Dt,Os],ZW=t=>JW.find(bb(t));function eH(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Zo(n))}function tH(t,e){const n=Bf(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=v7(i[o]);eH(t,o,a)}}function nH(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(s=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&s!==void 0?s:e[l]),u!=null&&(typeof u=="string"&&(Nb(u)||kb(u))?u=parseFloat(u):!ZW(u)&&Os.test(c)&&(u=Rb(l,c)),t.addValue(l,Zo(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function rH(t,e){return e?(e[t]||e.default||e).from:void 0}function sH(t,e,n){const r={};for(const s in t){const i=rH(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function iH({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function oH(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function Ob(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const h in a){const f=t.getValue(h),p=a[h];if(!f||p===void 0||u&&iH(u,h))continue;const g={delay:n,elapsed:0,...R0(i||{},h)};if(window.HandoffAppearAnimations){const m=t.getProps()[MN];if(m){const y=window.HandoffAppearAnimations(m,h,f,Se);y!==null&&(g.elapsed=y,g.isHandoff=!0)}}let v=!g.isHandoff&&!oH(f,p);if(g.type==="spring"&&(f.getVelocity()||g.velocity)&&(v=!1),f.animation&&(v=!1),v)continue;f.start(k0(h,f,p,t.shouldReduceMotion&&zi.has(h)?{type:!1}:g));const w=f.animation;vd(l)&&(l.add(h),w.then(()=>l.remove(h))),c.push(w)}return o&&Promise.all(c).then(()=>{o&&tH(t,o)}),c}function yy(t,e,n={}){const r=Bf(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Ob(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:h}=s;return aH(t,e,c+l,u,h,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,c]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function aH(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(lH).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(yy(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function lH(t,e){return t.sortNodePosition(e)}function cH(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>yy(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=yy(t,e,n);else{const s=typeof e=="function"?Bf(t,e,n.custom):e;r=Promise.all(Ob(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const uH=[...m0].reverse(),hH=m0.length;function dH(t){return e=>Promise.all(e.map(({animation:n,options:r})=>cH(t,n,r)))}function fH(t){let e=dH(t);const n=mH();let r=!0;const s=(l,c)=>{const u=Bf(t,c);if(u){const{transition:h,transitionEnd:f,...p}=u;l={...l,...p,...f}}return l};function i(l){e=l(t)}function o(l,c){const u=t.getProps(),h=t.getVariantContext(!0)||{},f=[],p=new Set;let g={},v=1/0;for(let m=0;m<hH;m++){const y=uH[m],_=n[y],E=u[y]!==void 0?u[y]:h[y],I=uc(E),A=y===c?_.isActive:null;A===!1&&(v=m);let R=E===h[y]&&E!==u[y]&&I;if(R&&r&&t.manuallyAnimateOnMount&&(R=!1),_.protectedKeys={...g},!_.isActive&&A===null||!E&&!_.prevProp||Vf(E)||typeof E=="boolean")continue;const C=pH(_.prevProp,E);let k=C||y===c&&_.isActive&&!R&&I||m>v&&I;const M=Array.isArray(E)?E:[E];let X=M.reduce(s,{});A===!1&&(X={});const{prevResolvedValues:le={}}=_,ce={...le,...X},W=q=>{k=!0,p.delete(q),_.needsAnimating[q]=!0};for(const q in ce){const H=X[q],_e=le[q];g.hasOwnProperty(q)||(H!==_e?md(H)&&md(_e)?!rb(H,_e)||C?W(q):_.protectedKeys[q]=!0:H!==void 0?W(q):p.add(q):H!==void 0&&p.has(q)?W(q):_.protectedKeys[q]=!0)}_.prevProp=E,_.prevResolvedValues=X,_.isActive&&(g={...g,...X}),r&&t.blockInitialAnimation&&(k=!1),k&&!R&&f.push(...M.map(q=>({animation:q,options:{type:y,...l}})))}if(p.size){const m={};p.forEach(y=>{const _=t.getBaseTarget(y);_!==void 0&&(m[y]=_)}),f.push({animation:m})}let w=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(f):Promise.resolve()}function a(l,c,u){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const f=o(u,l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function pH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!rb(e,t):!1}function Gs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mH(){return{animate:Gs(!0),whileInView:Gs(),whileHover:Gs(),whileTap:Gs(),whileDrag:Gs(),whileFocus:Gs(),exit:Gs()}}class gH extends Hs{constructor(e){super(e),e.animationState||(e.animationState=fH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Vf(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let yH=0;class _H extends Hs{constructor(){super(...arguments),this.id=yH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const vH={animation:{Feature:gH},exit:{Feature:_H}},KT=(t,e)=>Math.abs(t-e);function wH(t,e){const n=KT(t.x,e.x),r=KT(t.y,e.y);return Math.sqrt(n**2+r**2)}class Mb{constructor(e,n,{transformPagePoint:r,contextWindow:s}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=am(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=wH(u.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:p}=u,{timestamp:g}=wt;this.history.push({...p,timestamp:g});const{onStart:v,onMove:w}=this.handlers;h||(v&&v(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=om(h,this.transformPagePoint),Se.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:p}=this.handlers,g=am(u.type==="pointercancel"?this.lastMoveEventInfo:om(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,g),p&&p(u,g)},!JN(e))return;this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=$f(e),o=om(i,this.transformPagePoint),{point:a}=o,{timestamp:l}=wt;this.history=[{...a,timestamp:l}];const{onSessionStart:c}=n;c&&c(e,am(o,this.history)),this.removeListeners=xs(Nr(this.contextWindow,"pointermove",this.handlePointerMove),Nr(this.contextWindow,"pointerup",this.handlePointerUp),Nr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zr(this.updatePoint)}}function om(t,e){return e?{point:e(t.point)}:t}function QT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function am({point:t},e){return{point:t,delta:QT(t,Lb(e)),offset:QT(t,EH(e)),velocity:TH(e,.1)}}function EH(t){return t[0]}function Lb(t){return t[t.length-1]}function TH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Lb(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Is(e)));)n--;if(!r)return{x:0,y:0};const i=br(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function un(t){return t.max-t.min}function _y(t,e=0,n=.01){return Math.abs(t-e)<=n}function YT(t,e,n,r=.5){t.origin=r,t.originPoint=ke(e.min,e.max,t.origin),t.scale=un(n)/un(e),(_y(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ke(n.min,n.max,t.origin)-t.originPoint,(_y(t.translate)||isNaN(t.translate))&&(t.translate=0)}function _l(t,e,n,r){YT(t.x,e.x,n.x,r?r.originX:void 0),YT(t.y,e.y,n.y,r?r.originY:void 0)}function XT(t,e,n){t.min=n.min+e.min,t.max=t.min+un(e)}function xH(t,e,n){XT(t.x,e.x,n.x),XT(t.y,e.y,n.y)}function JT(t,e,n){t.min=e.min-n.min,t.max=t.min+un(e)}function vl(t,e,n){JT(t.x,e.x,n.x),JT(t.y,e.y,n.y)}function IH(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ke(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ke(n,t,r.max):Math.min(t,n)),t}function ZT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function SH(t,{top:e,left:n,bottom:r,right:s}){return{x:ZT(t.x,n,s),y:ZT(t.y,e,r)}}function ex(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function CH(t,e){return{x:ex(t.x,e.x),y:ex(t.y,e.y)}}function PH(t,e){let n=.5;const r=un(t),s=un(e);return s>r?n=dc(e.min,e.max-r,t.min):r>s&&(n=dc(t.min,t.max-s,e.min)),Ds(0,1,n)}function AH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const vy=.35;function RH(t=vy){return t===!1?t=0:t===!0&&(t=vy),{x:tx(t,"left","right"),y:tx(t,"top","bottom")}}function tx(t,e,n){return{min:nx(t,e),max:nx(t,n)}}function nx(t,e){return typeof t=="number"?t:t[e]||0}const rx=()=>({translate:0,scale:1,origin:0,originPoint:0}),yo=()=>({x:rx(),y:rx()}),sx=()=>({min:0,max:0}),Be=()=>({x:sx(),y:sx()});function Yn(t){return[t("x"),t("y")]}function Fb({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function kH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function NH(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function lm(t){return t===void 0||t===1}function wy({scale:t,scaleX:e,scaleY:n}){return!lm(t)||!lm(e)||!lm(n)}function Zs(t){return wy(t)||Vb(t)||t.z||t.rotate||t.rotateX||t.rotateY}function Vb(t){return ix(t.x)||ix(t.y)}function ix(t){return t&&t!=="0%"}function wd(t,e,n){const r=t-n,s=e*r;return n+s}function ox(t,e,n,r,s){return s!==void 0&&(t=wd(t,s,r)),wd(t,n,r)+e}function Ey(t,e=0,n=1,r,s){t.min=ox(t.min,e,n,r,s),t.max=ox(t.max,e,n,r,s)}function jb(t,{x:e,y:n}){Ey(t.x,e.translate,e.scale,e.originPoint),Ey(t.y,n.translate,n.scale,n.originPoint)}function bH(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&_o(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,jb(t,o)),r&&Zs(i.latestValues)&&_o(t,i.latestValues))}e.x=ax(e.x),e.y=ax(e.y)}function ax(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Xr(t,e){t.min=t.min+e,t.max=t.max+e}function lx(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=ke(t.min,t.max,i);Ey(t,e[n],e[r],o,e.scale)}const DH=["x","scaleX","originX"],OH=["y","scaleY","originY"];function _o(t,e){lx(t.x,e,DH),lx(t.y,e,OH)}function Ub(t,e){return Fb(NH(t.getBoundingClientRect(),e))}function MH(t,e,n){const r=Ub(t,n),{scroll:s}=e;return s&&(Xr(r.x,s.offset.x),Xr(r.y,s.offset.y)),r}const $b=({current:t})=>t?t.ownerDocument.defaultView:null,LH=new WeakMap;class FH{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Be(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=l=>{this.stopAnimation(),n&&this.snapToCursor($f(l,"page").point)},i=(l,c)=>{const{drag:u,dragPropagation:h,onDragStart:f}=this.getProps();if(u&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=eb(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yn(g=>{let v=this.getAxisMotionValue(g).get()||0;if(hr.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const m=w.layout.layoutBox[g];m&&(v=un(m)*(parseFloat(v)/100))}}this.originPoint[g]=v}),f&&Se.update(()=>f(l,c),!1,!0);const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:u,dragDirectionLock:h,onDirectionLock:f,onDrag:p}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:g}=c;if(h&&this.currentDirection===null){this.currentDirection=VH(g),this.currentDirection!==null&&f&&f(this.currentDirection);return}this.updateAxis("x",c.point,g),this.updateAxis("y",c.point,g),this.visualElement.render(),p&&p(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new Mb(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),contextWindow:$b(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Se.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!bu(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=IH(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&mo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=SH(s.layoutBox,n):this.constraints=!1,this.elastic=RH(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Yn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=AH(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!mo(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=MH(r,s.root,this.visualElement.getTransformPagePoint());let o=CH(s.layout.layoutBox,i);if(n){const a=n(kH(o));this.hasMutatedConstraints=!!a,a&&(o=Fb(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Yn(u=>{if(!bu(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(k0(e,r,0,n))}stopAnimation(){Yn(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Yn(n=>{const{drag:r}=this.getProps();if(!bu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-ke(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!mo(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Yn(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=PH({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Yn(o=>{if(!bu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ke(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;LH.set(this.visualElement,this);const e=this.visualElement.current,n=Nr(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();mo(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Pr(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Yn(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=vy,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function bu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function VH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class jH extends Hs{constructor(e){super(e),this.removeGroupControls=Le,this.removeListeners=Le,this.controls=new FH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Le}unmount(){this.removeGroupControls(),this.removeListeners()}}const cx=t=>(e,n)=>{t&&Se.update(()=>t(e,n))};class UH extends Hs{constructor(){super(...arguments),this.removePointerDownListener=Le}onPointerDown(e){this.session=new Mb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$b(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:cx(e),onStart:cx(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Se.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Nr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function $H(){const t=T.useContext(f0);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=T.useId();return T.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const rh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ux(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ma={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(z.test(t))t=parseFloat(t);else return t;const n=ux(t,e.target.x),r=ux(t,e.target.y);return`${n}% ${r}%`}},BH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Os.parse(t);if(s.length>5)return r;const i=Os.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=ke(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class zH extends Tn.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;Y8(WH),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),rh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Se.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Bb(t){const[e,n]=$H(),r=T.useContext(FN);return Tn.createElement(zH,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(VN),isPresent:e,safeToRemove:n})}const WH={borderRadius:{...Ma,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ma,borderTopRightRadius:Ma,borderBottomLeftRadius:Ma,borderBottomRightRadius:Ma,boxShadow:BH},zb=["TopLeft","TopRight","BottomLeft","BottomRight"],HH=zb.length,hx=t=>typeof t=="string"?parseFloat(t):t,dx=t=>typeof t=="number"||z.test(t);function qH(t,e,n,r,s,i){s?(t.opacity=ke(0,n.opacity!==void 0?n.opacity:1,GH(r)),t.opacityExit=ke(e.opacity!==void 0?e.opacity:1,0,KH(r))):i&&(t.opacity=ke(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<HH;o++){const a=`border${zb[o]}Radius`;let l=fx(e,a),c=fx(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||dx(l)===dx(c)?(t[a]=Math.max(ke(hx(l),hx(c),r),0),(hr.test(c)||hr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ke(e.rotate||0,n.rotate||0,r))}function fx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const GH=Wb(0,.5,db),KH=Wb(.5,.95,Le);function Wb(t,e,n){return r=>r<t?0:r>e?1:n(dc(t,e,r))}function px(t,e){t.min=e.min,t.max=e.max}function mn(t,e){px(t.x,e.x),px(t.y,e.y)}function mx(t,e,n,r,s){return t-=e,t=wd(t,1/n,r),s!==void 0&&(t=wd(t,1/s,r)),t}function QH(t,e=0,n=1,r=.5,s,i=t,o=t){if(hr.test(e)&&(e=parseFloat(e),e=ke(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ke(i.min,i.max,r);t===i&&(a-=e),t.min=mx(t.min,e,n,a,s),t.max=mx(t.max,e,n,a,s)}function gx(t,e,[n,r,s],i,o){QH(t,e[n],e[r],e[s],e.scale,i,o)}const YH=["x","scaleX","originX"],XH=["y","scaleY","originY"];function yx(t,e,n,r){gx(t.x,e,YH,n?n.x:void 0,r?r.x:void 0),gx(t.y,e,XH,n?n.y:void 0,r?r.y:void 0)}function _x(t){return t.translate===0&&t.scale===1}function Hb(t){return _x(t.x)&&_x(t.y)}function JH(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function qb(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function vx(t){return un(t.x)/un(t.y)}class ZH{constructor(){this.members=[]}add(e){N0(this.members,e),e.scheduleRender()}remove(e){if(b0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wx(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const eq=(t,e)=>t.depth-e.depth;class tq{constructor(){this.children=[],this.isDirty=!1}add(e){N0(this.children,e),this.isDirty=!0}remove(e){b0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eq),this.isDirty=!1,this.children.forEach(e)}}function nq(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(zr(r),t(i-e))};return Se.read(r,!0),()=>zr(r)}function rq(t){window.MotionDebug&&window.MotionDebug.record(t)}function sq(t){return t instanceof SVGElement&&t.tagName!=="svg"}function iq(t,e,n){const r=Kt(t)?t:Zo(t);return r.start(k0("",r,e,n)),r.animation}const Ex=["","X","Y","Z"],oq={visibility:"hidden"},Tx=1e3;let aq=0;const ei={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Gb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=aq++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ei.totalNodes=ei.resolvedTargetDeltas=ei.recalculatedProjection=0,this.nodes.forEach(uq),this.nodes.forEach(mq),this.nodes.forEach(gq),this.nodes.forEach(hq),rq(ei)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new tq)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new D0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=sq(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=nq(f,250),rh.hasAnimatedSinceResize&&(rh.hasAnimatedSinceResize=!1,this.nodes.forEach(Ix))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||Eq,{onLayoutAnimationStart:w,onLayoutAnimationComplete:m}=u.getProps(),y=!this.targetLayout||!qb(this.targetLayout,g)||p,_=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,_);const E={...R0(v,"layout"),onPlay:w,onComplete:m};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else f||Ix(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xx);return}this.isUpdating||this.nodes.forEach(fq),this.isUpdating=!1,this.nodes.forEach(pq),this.nodes.forEach(lq),this.nodes.forEach(cq),this.clearAllSnapshots();const a=performance.now();wt.delta=Ds(0,1e3/60,a-wt.timestamp),wt.timestamp=a,wt.isProcessing=!0,Jp.update.process(wt),Jp.preRender.process(wt),Jp.render.process(wt),wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(dq),this.sharedNodes.forEach(_q)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Hb(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Zs(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Tq(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Be();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Xr(a.x,l.offset.x),Xr(a.y,l.offset.y)),a}removeElementScroll(o){const a=Be();mn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:h}=c;if(c!==this.root&&u&&h.layoutScroll){if(u.isRoot){mn(a,o);const{scroll:f}=this.root;f&&(Xr(a.x,-f.offset.x),Xr(a.y,-f.offset.y))}Xr(a.x,u.offset.x),Xr(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=Be();mn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&_o(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Zs(u.latestValues)&&_o(l,u.latestValues)}return Zs(this.latestValues)&&_o(l,this.latestValues),l}removeTransform(o){const a=Be();mn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Zs(c.latestValues))continue;wy(c.latestValues)&&c.updateSnapshot();const u=Be(),h=c.measurePageBox();mn(u,h),yx(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Zs(this.latestValues)&&yx(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=wt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Be(),this.relativeTargetOrigin=Be(),vl(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Be(),this.targetWithTransforms=Be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mn(this.target,this.layout.layoutBox),jb(this.target,this.targetDelta)):mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Be(),this.relativeTargetOrigin=Be(),vl(this.relativeTargetOrigin,this.target,p.target),mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ei.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||wy(this.parent.latestValues)||Vb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===wt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;mn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;bH(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=yo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=yo(),this.projectionDeltaWithTransform=yo());const v=this.projectionTransform;_l(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=wx(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),ei.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=yo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Be(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=p!==g,w=this.getStack(),m=!w||w.members.length<=1,y=!!(v&&!m&&this.options.crossfade===!0&&!this.path.some(wq));this.animationProgress=0;let _;this.mixTargetDelta=E=>{const I=E/1e3;Sx(h.x,o.x,I),Sx(h.y,o.y,I),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vl(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vq(this.relativeTarget,this.relativeTargetOrigin,f,I),_&&JH(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Be()),mn(_,this.relativeTarget)),v&&(this.animationValues=u,qH(u,c,this.latestValues,I,y,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Se.update(()=>{rh.hasAnimatedSinceResize=!0,this.currentAnimation=iq(0,Tx,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Kb(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Be();const h=un(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=un(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}mn(a,l),_o(a,u),_l(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ZH),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<Ex.length;u++){const h="rotate"+Ex[u];l[h]&&(c[h]=l[h],o.setStaticValue(h,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return oq;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=nh(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=nh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Zs(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=wx(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:p,y:g}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in fd){if(f[v]===void 0)continue;const{correct:w,applyTo:m}=fd[v],y=c.transform==="none"?f[v]:w(f[v],h);if(m){const _=m.length;for(let E=0;E<_;E++)c[m[E]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=h===this?nh(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(xx),this.root.sharedNodes.clear()}}}function lq(t){t.updateLayout()}function cq(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Yn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=un(f);f.min=r[h].min,f.max=f.min+p}):Kb(i,n.layoutBox,r)&&Yn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=un(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=yo();_l(a,r,n.layoutBox);const l=yo();o?_l(l,t.applyTransform(s,!0),n.measuredBox):_l(l,r,n.layoutBox);const c=!Hb(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const g=Be();vl(g,n.layoutBox,f.layoutBox);const v=Be();vl(v,r,p.layoutBox),qb(g,v)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function uq(t){ei.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function hq(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function dq(t){t.clearSnapshot()}function xx(t){t.clearMeasurements()}function fq(t){t.isLayoutDirty=!1}function pq(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ix(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function mq(t){t.resolveTargetDelta()}function gq(t){t.calcProjection()}function yq(t){t.resetRotation()}function _q(t){t.removeLeadSnapshot()}function Sx(t,e,n){t.translate=ke(e.translate,0,n),t.scale=ke(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Cx(t,e,n,r){t.min=ke(e.min,n.min,r),t.max=ke(e.max,n.max,r)}function vq(t,e,n,r){Cx(t.x,e.x,n.x,r),Cx(t.y,e.y,n.y,r)}function wq(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Eq={duration:.45,ease:[.4,0,.1,1]},Px=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Ax=Px("applewebkit/")&&!Px("chrome/")?Math.round:Le;function Rx(t){t.min=Ax(t.min),t.max=Ax(t.max)}function Tq(t){Rx(t.x),Rx(t.y)}function Kb(t,e,n){return t==="position"||t==="preserve-aspect"&&!_y(vx(e),vx(n),.2)}const xq=Gb({attachResizeListener:(t,e)=>Pr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cm={current:void 0},Qb=Gb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!cm.current){const t=new xq({});t.mount(window),t.setOptions({layoutScroll:!0}),cm.current=t}return cm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Iq={pan:{Feature:UH},drag:{Feature:jH,ProjectionNode:Qb,MeasureLayout:Bb}},Sq=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Cq(t){const e=Sq.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Ty(t,e,n=1){const[r,s]=Cq(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return Nb(o)?parseFloat(o):o}else return hy(s)?Ty(s,e,n+1):s}function Pq(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!hy(i))return;const o=Ty(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!hy(i))continue;const o=Ty(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const Aq=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Yb=t=>Aq.has(t),Rq=t=>Object.keys(t).some(Yb),kx=t=>t===Wi||t===z,Nx=(t,e)=>parseFloat(t.split(", ")[e]),bx=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return Nx(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?Nx(i[1],t):0}},kq=new Set(["x","y","z"]),Nq=qc.filter(t=>!kq.has(t));function bq(t){const e=[];return Nq.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const ea={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:bx(4,13),y:bx(5,14)};ea.translateX=ea.x;ea.translateY=ea.y;const Dq=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=ea[c](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=ea[c](l,i)}),t},Oq=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(Yb);let i=[],o=!1;const a=[];if(s.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],h=Oa(u);const f=e[l];let p;if(md(f)){const g=f.length,v=f[0]===null?1:0;u=f[v],h=Oa(u);for(let w=v;w<g&&f[w]!==null;w++)p?I0(Oa(f[w])===p):p=Oa(f[w])}else p=Oa(f);if(h!==p)if(kx(h)&&kx(p)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&p===z&&(e[l]=f.map(parseFloat))}else h!=null&&h.transform&&(p!=null&&p.transform)&&(u===0||f===0)?u===0?c.set(p.transform(u)):e[l]=h.transform(f):(o||(i=bq(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=Dq(e,t,a);return i.length&&i.forEach(([u,h])=>{t.getValue(u).set(h)}),t.render(),Ff&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Mq(t,e,n,r){return Rq(e)?Oq(t,e,n,r):{target:e,transitionEnd:r}}const Lq=(t,e,n,r)=>{const s=Pq(t,e,r);return e=s.target,r=s.transitionEnd,Mq(t,e,n,r)},xy={current:null},Xb={current:!1};function Fq(){if(Xb.current=!0,!!Ff)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xy.current=t.matches;t.addListener(e),e()}else xy.current=!1}function Vq(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(Kt(i))t.addValue(s,i),vd(r)&&r.add(s);else if(Kt(o))t.addValue(s,Zo(i,{owner:t})),vd(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,Zo(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Dx=new WeakMap,Jb=Object.keys(hc),jq=Jb.length,Ox=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Uq=g0.length;class $q{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Se.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=jf(n),this.isVariantNode=LN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const h in u){const f=u[h];a[h]!==void 0&&Kt(f)&&(f.set(a[h],!1),vd(c)&&c.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Dx.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Xb.current||Fq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Dx.delete(this.current),this.projection&&this.projection.unmount(),zr(this.notifyUpdate),zr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=zi.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Se.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let l=0;l<jq;l++){const c=Jb[l],{isEnabled:u,Feature:h,ProjectionNode:f,MeasureLayout:p}=hc[c];f&&(o=f),u(n)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),p&&(a=p))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||h&&mo(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Be()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Ox.length;r++){const s=Ox[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=Vq(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Uq;r++){const s=g0[r],i=this.props[s];(uc(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Zo(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=x0(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Kt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new D0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Zb extends $q{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=sH(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){nH(this,r,o);const a=Lq(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function Bq(t){return window.getComputedStyle(t)}class zq extends Zb{readValueFromInstance(e,n){if(zi.has(n)){const r=A0(n);return r&&r.default||0}else{const r=Bq(e),s=($N(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Ub(e,n)}build(e,n,r,s){_0(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return T0(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Kt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){GN(e,n,r,s)}}class Wq extends Zb{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(zi.has(n)){const r=A0(n);return r&&r.default||0}return n=KN.has(n)?n:p0(n),e.getAttribute(n)}measureInstanceViewportBox(){return Be()}scrapeMotionValuesFromProps(e,n){return YN(e,n)}build(e,n,r,s){w0(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){QN(e,n,r,s)}mount(e){this.isSVGTag=E0(e.tagName),super.mount(e)}}const Hq=(t,e)=>y0(t)?new Wq(e,{enableHardwareAcceleration:!1}):new zq(e,{enableHardwareAcceleration:!0}),qq={layout:{ProjectionNode:Qb,MeasureLayout:Bb}},Gq={...vH,...U7,...Iq,...qq},hn=K8((t,e)=>P7(t,e,Gq,Hq));function e2(t){return Ve({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"}}]})(t)}function t2(t){return Ve({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216.4 163.7c5.1 5 5.1 13.3.1 18.4L155.8 243h231.3c7.1 0 12.9 5.8 12.9 13s-5.8 13-12.9 13H155.8l60.8 60.9c5 5.1 4.9 13.3-.1 18.4-5.1 5-13.2 5-18.3-.1l-82.4-83c-1.1-1.2-2-2.5-2.7-4.1-.7-1.6-1-3.3-1-5 0-3.4 1.3-6.6 3.7-9.1l82.4-83c4.9-5.2 13.1-5.3 18.2-.3z"}}]})(t)}function Kq(t){return Ve({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 277.333H277.333V416h-42.666V277.333H96v-42.666h138.667V96h42.666v138.667H416v42.666z"}}]})(t)}function zn(t){return Ve({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"}}]})(t)}function Mx(t){return Ve({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M215.469 332.802l29.863 29.864L352 256 245.332 149.333l-29.863 29.865 55.469 55.469H64v42.666h205.864l-54.395 55.469zM405.334 64H106.666C83.198 64 64 83.198 64 106.666V192h42.666v-85.333h298.668v298.668H106.666V320H64v85.334C64 428.802 83.198 448 106.666 448h298.668C428.802 448 448 428.802 448 405.334V106.666C448 83.198 428.802 64 405.334 64z"}}]})(t)}const Yc=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(!1),s=Wc(),i=Qt(),o=Je(c=>c.userName),a=Je(c=>c.userEmail),l=Je(c=>c.profilePicture);return Je(c=>c.userName),T.useEffect(()=>{(async()=>{const u=$c(ur,p=>{if(p){const g=p.uid;e(g)}}),h=Xo(We,"users",t),f=await G5(h);if(f.exists()){const p=f.data();s(JB(p.EmailAddress)),s(ay(p.Name)),s(ZB(p.ProfilePicture)),s(oz(t))}else console.log("User document does not exist");return()=>u()})()},[t]),d.jsxs("div",{className:"flex justify-between items-center px-4 md:px-8 pt-4 bg-[#fcf7df]",children:[n&&d.jsx(hn.div,{initial:{x:-1e3},animate:{x:0},transition:{ease:"easeInOut",duration:.4},className:"fixed top-0 left-0 z-[20] bg-black/30",children:d.jsx(hn.div,{initial:{x:-1e3},animate:{x:0},exit:{x:-1e3},transition:{ease:"easeInOut",duration:.4},className:"w-[100vw] h-[100vh] fixed top-0 left-0 z-[] bg-black/25",children:d.jsxs("div",{className:"w-[75vw] fixed top-0 left-0 bg-white h-[100vh] z-[40] ps-5 pe-5 pt-5",children:[d.jsx("div",{className:"w-12 h-12 me-5 rounded-md bg-[#000] flex justify-center items-center md:hidden cursor-pointer text-[#fff]",children:d.jsx(M8,{size:32,onClick:()=>{r(!1)}})}),d.jsxs("div",{className:"mt-8 flex flex-col justify-between",children:[d.jsxs("ul",{className:"flex flex-col gap-8",children:[d.jsxs("li",{className:"text-[28px] hover:font-bold hover:text-[#FF2424] cursor-pointer",onClick:()=>{i("/")},children:[d.jsx("span",{children:">"})," Home"]}),d.jsxs("li",{className:"text-[28px] hover:font-bold hover:text-[#FF2424] duration-200 ease-in cursor-pointer",onClick:()=>{i("/about")},children:[d.jsx("span",{children:">"})," About"]}),d.jsxs("li",{className:"text-[28px] hover:font-bold hover:text-[#FF2424] duration-200 ease-in cursor-pointer",onClick:()=>{i("/my-profile")},children:[d.jsx("span",{children:">"})," Profile"]}),d.jsxs("li",{className:"text-[28px] hover:font-bold hover:text-[#FF2424] duration-200 ease-in cursor-pointer",onClick:()=>{i("/contact")},children:[d.jsx("span",{children:">"})," Contact"]})]}),t&&d.jsxs("div",{className:"flex items-center justify-between mt-[80vh]",children:[d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"w-12 h-12 rounded-md bg-[#FFE4E4] flex justify-center items-center",children:d.jsx("img",{src:l||"https://bafybeihngeb4mfzcbb26gmrjno7yaynjtkgvhigesyrerpbgtrvqpt26x4.ipfs.w3s.link/Frame 34.png",alt:"",className:"w-[100%] h-[100%] rounded-md"})}),d.jsxs("div",{className:"ms-3",children:[d.jsx("p",{className:"font-bold text-[16px]",children:o}),d.jsx("p",{className:"text-[14px]",children:a})]})]}),d.jsx(Mx,{color:"red",size:30,className:"md:ms-5",onClick:()=>{Y1(ur).then(()=>{e(!1),s(ay(""))}).catch(c=>{console.error("Sign-out error:",c)})}})]}),!t&&d.jsxs("div",{className:"flex flex-col gap-2 mt-[20vh]",children:[d.jsx(Jt,{to:"/signin",className:"w-[100%] h-[50px] flex items-center justify-center rounded-[5px] text-[#FF2424] bg-[#FFE4E4] cursor-pointer decoration-none",children:"Sign In"}),d.jsx(Jt,{to:"/create-account",className:"w-[100%] h-[50px] flex items-center text-white rounded-[5px] font-bold justify-center bg-[#FF2424] decoration-none",children:"Sign Up"})]})]})]})})}),d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"w-12 h-12 me-5 rounded-md bg-[#000] flex justify-center items-center md:hidden cursor-pointer text-[#fff]",onClick:()=>{r(!0)},children:d.jsx(O8,{size:32})}),d.jsx("img",{src:"https://bafybeigfti5usy3rsztdbbqu2bnox4fbbvykrueijnmeoaw625xglbo7xq.ipfs.w3s.link/FeedPost Logo.svg",className:"w-[150px] z-[2] cursor-pointer",alt:"",onClick:()=>{i("/")}})]}),t&&d.jsxs("div",{className:"flex items-center",children:[d.jsxs("ul",{className:"hidden md:flex md:gap-6 items-center me-10",children:[d.jsx("li",{className:"text-[#767676] hover:text-[#FF2424] duration-200 ease-in cursor-pointer",onClick:()=>{i("/")},children:"Home"}),d.jsx("li",{className:"text-[#767676] hover:text-[#FF2424] duration-200 ease-in cursor-pointer",onClick:()=>{i("/about")},children:"About"}),d.jsx("li",{className:"text-[#767676] hover:text-[#FF2424] duration-200 ease-in cursor-pointer",onClick:()=>{i("/my-profile")},children:"Profile"}),d.jsx("li",{className:"text-[#767676] hover:text-[#FF2424] duration-200 ease-in cursor-pointer",onClick:()=>{i("/contact")},children:"Contact"})]}),d.jsx(Jt,{to:"/search",className:"w-12 h-12 rounded-md bg-[#FFE4E4] flex justify-center items-center",children:d.jsx(kT,{color:"#FF2424",size:28})}),d.jsxs("div",{className:"md:flex md:ms-3 ms-3 flex items-center",children:[d.jsx(Jt,{to:"/my-profile",className:"w-12 h-12 rounded-md bg-[#FFE4E4] flex justify-center items-center",children:d.jsx("img",{src:l||"https://bafybeihngeb4mfzcbb26gmrjno7yaynjtkgvhigesyrerpbgtrvqpt26x4.ipfs.w3s.link/Frame 34.png",alt:"",className:"w-[100%] h-[100%] rounded-md"})}),d.jsxs("div",{className:"hidden ms-3 md:block",children:[d.jsx("p",{className:"font-bold",children:o}),d.jsx("p",{className:"text-[14px]",children:a})]}),d.jsx(Mx,{color:"red",size:40,className:"hidden md:block md:ms-5",onClick:()=>{Y1(ur).then(()=>{e(!1)}).catch(c=>{console.error("Sign-out error:",c)})}})]})]}),!t&&d.jsxs("div",{className:"flex items-center",children:[d.jsxs("ul",{className:"hidden md:flex md:gap-6 items-center me-10",children:[d.jsx("li",{className:"text-[#767676] hover:text-[#FF2424] duration-200 ease-in cursor-pointer",onClick:()=>{i("/")},children:"Home"}),d.jsx("li",{className:"text-[#767676] hover:text-[#FF2424] duration-200 ease-in cursor-pointer",onClick:()=>{i("/about")},children:"About"}),d.jsx("li",{className:"text-[#767676] hover:text-[#FF2424] duration-200 ease-in cursor-pointer",onClick:()=>{i("/my-profile")},children:"Profile"}),d.jsx("li",{className:"text-[#767676] hover:text-[#FF2424] duration-200 ease-in cursor-pointer",onClick:()=>{i("/contact")},children:"Contact"})]}),d.jsx("div",{className:"w-12 h-12 rounded-md bg-[#FFE4E4] flex justify-center items-center",children:d.jsx(kT,{color:"#FF2424",size:28})}),d.jsxs("div",{className:"hidden md:flex ",children:[d.jsx(Jt,{to:"/signin",className:"w-28 h-12 ms-4 rounded-[10px] justify-center bg-[#FFE4E4] flex items-center text-[#FF2424] cursor-pointer",children:"Sign In"}),d.jsx(Jt,{to:"create-account",className:"w-28 h-12 ms-2 rounded-[10px] justify-center bg-[#FF2424] flex items-center text-white cursor-pointer",children:"Sign Up"})]})]})]})},Qq=()=>{const[t,e]=T.useState(!0),[n,r]=T.useState(!1),[s,i]=T.useState(!1),[o,a]=T.useState(!1),[l,c]=T.useState(!1),[u,h]=T.useState(!1),[f,p]=T.useState(!1),[g,v]=T.useState(!1),w=Wc();return T.useEffect(()=>{w(_r("ALL"))},[]),d.jsxs("section",{className:"w-auto bg-[#FF2424] h-14 mt-4 flex items-center overflow-x-auto px-5 md:justify-center",children:[d.jsx("div",{className:t?"w-auto px-6 h-[100%] text-white bg-[#DD0000] flex items-center justify-center":"w-auto px-6 h-[100%] text-white bg-[##FF2424] flex items-center justify-center hover:bg-[#DD0000] duration-200 ease-in cursor-pointer",onClick:()=>{w(_r("ALL")),r(!1),e(!0),i(!1),a(!1),h(!1),v(!1),c(!1),p(!1)},children:"ALL"}),d.jsx("div",{className:n?"w-auto px-6 h-[100%] text-white bg-[#DD0000] flex items-center justify-center":"w-auto px-6 h-[100%] text-white bg-[##FF2424] flex items-center justify-center hover:bg-[#DD0000] duration-200 ease-in cursor-pointer",onClick:()=>{w(_r("POLITICS")),r(!0),e(!1),i(!1),a(!1),h(!1),c(!1),v(!1),p(!1)},children:"POLITICS"}),d.jsx("div",{className:s?"w-auto px-6 h-[100%] text-white bg-[#DD0000] flex items-center justify-center":"w-auto px-6 h-[100%] text-white bg-[##FF2424] flex items-center justify-center hover:bg-[#DD0000] duration-200 ease-in cursor-pointer",onClick:()=>{w(_r("SPORTS")),r(!1),e(!1),i(!0),a(!1),h(!1),v(!1),c(!1),p(!1)},children:"SPORTS"}),d.jsx("div",{className:g?"w-auto px-6 h-[100%] text-white bg-[#DD0000] flex items-center justify-center":"w-auto px-6 h-[100%] text-white bg-[##FF2424] flex items-center justify-center hover:bg-[#DD0000] duration-200 ease-in cursor-pointer",onClick:()=>{w(_r("MUSIC")),r(!1),e(!1),i(!1),v(!0),a(!1),h(!1),c(!1),p(!1)},children:"MUSIC"}),d.jsx("div",{className:o?"w-auto px-6 h-[100%] text-white bg-[#DD0000] flex items-center justify-center":"w-auto px-6 h-[100%] text-white bg-[##FF2424] flex items-center justify-center hover:bg-[#DD0000] duration-200 ease-in cursor-pointer",onClick:()=>{w(_r("ENTERTAINMENT")),r(!1),e(!1),i(!1),v(!1),a(!0),h(!1),c(!1),p(!1)},children:"ENTERTAINMENT"}),d.jsx("div",{className:u?"w-auto px-6 h-[100%] text-white bg-[#DD0000] flex items-center justify-center":"w-auto px-6 h-[100%] text-white bg-[##FF2424] flex items-center justify-center hover:bg-[#DD0000] duration-200 ease-in cursor-pointer",onClick:()=>{w(_r("TECHNOLOGY")),r(!1),e(!1),i(!1),v(!1),a(!1),h(!0),c(!1),p(!1)},children:"TECHNOLOGY"}),d.jsx("div",{className:l?"w-auto px-6 h-[100%] text-white bg-[#DD0000] flex items-center justify-center":"w-auto px-6 h-[100%] text-white bg-[##FF2424] flex items-center justify-center hover:bg-[#DD0000] duration-200 ease-in cursor-pointer",onClick:()=>{w(_r("LIFESTYLE")),r(!1),e(!1),i(!1),v(!1),a(!1),h(!1),c(!0),p(!1)},children:"LIFESTYLE"}),d.jsx("div",{className:f?"w-auto px-6 h-[100%] text-white bg-[#DD0000] flex items-center justify-center":"w-auto px-6 h-[100%] text-white bg-[##FF2424] flex items-center justify-center hover:bg-[#DD0000] duration-200 ease-in cursor-pointer",onClick:()=>{w(_r("EDUCATION")),r(!1),e(!1),i(!1),v(!1),a(!1),h(!1),c(!1),p(!0)},children:"EDUCATION"})]})};var n2={exports:{}},Yq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Xq=Yq,Jq=Xq;function r2(){}function s2(){}s2.resetWarningCache=r2;var Zq=function(){function t(r,s,i,o,a,l){if(l!==Jq){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:s2,resetWarningCache:r2};return n.PropTypes=n,n};n2.exports=Zq();var eG=n2.exports;const Qe=$x(eG);function tG(t,e){return e={exports:{}},t(e,e.exports),e.exports}tG(function(t){var e=function(n){var r=Object.prototype,s=r.hasOwnProperty,i,o=typeof Symbol=="function"?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(x,S,P){return Object.defineProperty(x,S,{value:P,enumerable:!0,configurable:!0,writable:!0}),x[S]}try{u({},"")}catch{u=function(S,P,O){return S[P]=O}}function h(x,S,P,O){var V=S&&S.prototype instanceof y?S:y,fe=Object.create(V.prototype),ve=new q(O||[]);return fe._invoke=X(x,P,ve),fe}n.wrap=h;function f(x,S,P){try{return{type:"normal",arg:x.call(S,P)}}catch(O){return{type:"throw",arg:O}}}var p="suspendedStart",g="suspendedYield",v="executing",w="completed",m={};function y(){}function _(){}function E(){}var I={};u(I,a,function(){return this});var A=Object.getPrototypeOf,R=A&&A(A(H([])));R&&R!==r&&s.call(R,a)&&(I=R);var C=E.prototype=y.prototype=Object.create(I);_.prototype=E,u(C,"constructor",E),u(E,"constructor",_),_.displayName=u(E,c,"GeneratorFunction");function k(x){["next","throw","return"].forEach(function(S){u(x,S,function(P){return this._invoke(S,P)})})}n.isGeneratorFunction=function(x){var S=typeof x=="function"&&x.constructor;return S?S===_||(S.displayName||S.name)==="GeneratorFunction":!1},n.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,E):(x.__proto__=E,u(x,c,"GeneratorFunction")),x.prototype=Object.create(C),x},n.awrap=function(x){return{__await:x}};function M(x,S){function P(fe,ve,je,me){var Oe=f(x[fe],x,ve);if(Oe.type==="throw")me(Oe.arg);else{var _a=Oe.arg,yr=_a.value;return yr&&typeof yr=="object"&&s.call(yr,"__await")?S.resolve(yr.__await).then(function(pn){P("next",pn,je,me)},function(pn){P("throw",pn,je,me)}):S.resolve(yr).then(function(pn){_a.value=pn,je(_a)},function(pn){return P("throw",pn,je,me)})}}var O;function V(fe,ve){function je(){return new S(function(me,Oe){P(fe,ve,me,Oe)})}return O=O?O.then(je,je):je()}this._invoke=V}k(M.prototype),u(M.prototype,l,function(){return this}),n.AsyncIterator=M,n.async=function(x,S,P,O,V){V===void 0&&(V=Promise);var fe=new M(h(x,S,P,O),V);return n.isGeneratorFunction(S)?fe:fe.next().then(function(ve){return ve.done?ve.value:fe.next()})};function X(x,S,P){var O=p;return function(fe,ve){if(O===v)throw new Error("Generator is already running");if(O===w){if(fe==="throw")throw ve;return _e()}for(P.method=fe,P.arg=ve;;){var je=P.delegate;if(je){var me=le(je,P);if(me){if(me===m)continue;return me}}if(P.method==="next")P.sent=P._sent=P.arg;else if(P.method==="throw"){if(O===p)throw O=w,P.arg;P.dispatchException(P.arg)}else P.method==="return"&&P.abrupt("return",P.arg);O=v;var Oe=f(x,S,P);if(Oe.type==="normal"){if(O=P.done?w:g,Oe.arg===m)continue;return{value:Oe.arg,done:P.done}}else Oe.type==="throw"&&(O=w,P.method="throw",P.arg=Oe.arg)}}}function le(x,S){var P=x.iterator[S.method];if(P===i){if(S.delegate=null,S.method==="throw"){if(x.iterator.return&&(S.method="return",S.arg=i,le(x,S),S.method==="throw"))return m;S.method="throw",S.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var O=f(P,x.iterator,S.arg);if(O.type==="throw")return S.method="throw",S.arg=O.arg,S.delegate=null,m;var V=O.arg;if(!V)return S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,m;if(V.done)S[x.resultName]=V.value,S.next=x.nextLoc,S.method!=="return"&&(S.method="next",S.arg=i);else return V;return S.delegate=null,m}k(C),u(C,c,"Generator"),u(C,a,function(){return this}),u(C,"toString",function(){return"[object Generator]"});function ce(x){var S={tryLoc:x[0]};1 in x&&(S.catchLoc=x[1]),2 in x&&(S.finallyLoc=x[2],S.afterLoc=x[3]),this.tryEntries.push(S)}function W(x){var S=x.completion||{};S.type="normal",delete S.arg,x.completion=S}function q(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(ce,this),this.reset(!0)}n.keys=function(x){var S=[];for(var P in x)S.push(P);return S.reverse(),function O(){for(;S.length;){var V=S.pop();if(V in x)return O.value=V,O.done=!1,O}return O.done=!0,O}};function H(x){if(x){var S=x[a];if(S)return S.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var P=-1,O=function V(){for(;++P<x.length;)if(s.call(x,P))return V.value=x[P],V.done=!1,V;return V.value=i,V.done=!0,V};return O.next=O}}return{next:_e}}n.values=H;function _e(){return{value:i,done:!0}}return q.prototype={constructor:q,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(W),!x)for(var S in this)S.charAt(0)==="t"&&s.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=i)},stop:function(){this.done=!0;var x=this.tryEntries[0],S=x.completion;if(S.type==="throw")throw S.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var S=this;function P(me,Oe){return fe.type="throw",fe.arg=x,S.next=me,Oe&&(S.method="next",S.arg=i),!!Oe}for(var O=this.tryEntries.length-1;O>=0;--O){var V=this.tryEntries[O],fe=V.completion;if(V.tryLoc==="root")return P("end");if(V.tryLoc<=this.prev){var ve=s.call(V,"catchLoc"),je=s.call(V,"finallyLoc");if(ve&&je){if(this.prev<V.catchLoc)return P(V.catchLoc,!0);if(this.prev<V.finallyLoc)return P(V.finallyLoc)}else if(ve){if(this.prev<V.catchLoc)return P(V.catchLoc,!0)}else if(je){if(this.prev<V.finallyLoc)return P(V.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(x,S){for(var P=this.tryEntries.length-1;P>=0;--P){var O=this.tryEntries[P];if(O.tryLoc<=this.prev&&s.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var V=O;break}}V&&(x==="break"||x==="continue")&&V.tryLoc<=S&&S<=V.finallyLoc&&(V=null);var fe=V?V.completion:{};return fe.type=x,fe.arg=S,V?(this.method="next",this.next=V.finallyLoc,m):this.complete(fe)},complete:function(x,S){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&S&&(this.next=S),m},finish:function(x){for(var S=this.tryEntries.length-1;S>=0;--S){var P=this.tryEntries[S];if(P.finallyLoc===x)return this.complete(P.completion,P.afterLoc),W(P),m}},catch:function(x){for(var S=this.tryEntries.length-1;S>=0;--S){var P=this.tryEntries[S];if(P.tryLoc===x){var O=P.completion;if(O.type==="throw"){var V=O.arg;W(P)}return V}}throw new Error("illegal catch attempt")},delegateYield:function(x,S,P){return this.delegate={iterator:H(x),resultName:S,nextLoc:P},this.method==="next"&&(this.arg=i),m}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}});function O0(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}}var nG=`.fadein {
  animation-name: fadein;
  animation-duration: 0.3s;
  animation-fill-mode: forwards;
}

@keyframes fadein {
  from { opacity: 0; }
  to   { opacity: 1; }
}
`;O0(nG);Qe.string.isRequired,Qe.element.isRequired,Qe.func,Qe.func,Qe.number,Qe.bool,Qe.object;var rG=`:root {
  --default-bg-color: #f6f7f8;
  --default-bg-moving-gradient: linear-gradient(to right, rgb(238, 238, 238) 8%, rgb(222, 222, 222) 18%,  rgb(238, 238, 238) 33%);
}

.shimmer {
  background: var(--default-bg-color);
	background-image: var(--default-bg-moving-gradient);
  background-repeat: no-repeat;
  animation: shimmering forwards infinite ease-in-out, fadein 0.02s forwards;
}

@keyframes fadein {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes shimmering {
	from {
		background-position: top right;
	}

	to {
		background-position: top left;
	}
}
`;O0(rG);Qe.number.isRequired,Qe.number.isRequired,Qe.string,Qe.number;var sG=`:root {
  --default-bg-color: #e1e2e4;
}

.breathing {
  width: 100%;
  height: 100%;
  background: var(--default-bg-color);
  animation: breathing ease-in-out infinite alternate;
}

@keyframes breathing {
  from {
    opacity: 0.25;
  }
  to {
    opacity: 1;
  }
}
`;O0(sG);Qe.string,Qe.number,Qe.string,Qe.number,Qe.string,Qe.number;var i2={},zf={};Object.defineProperty(zf,"__esModule",{value:!0});zf.createAnimation=void 0;var iG=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var s=document.createElement("style");document.head.appendChild(s);var i=s.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return i&&i.insertRule(o,0),r};zf.createAnimation=iG;var ta={};Object.defineProperty(ta,"__esModule",{value:!0});ta.cssValue=ta.parseLengthAndUnit=void 0;var oG={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function o2(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return oG[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}ta.parseLengthAndUnit=o2;function aG(t){var e=o2(t);return"".concat(e.value).concat(e.unit)}ta.cssValue=aG;var Ed=dr&&dr.__assign||function(){return Ed=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ed.apply(this,arguments)},lG=dr&&dr.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),cG=dr&&dr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),uG=dr&&dr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&lG(e,t,n);return cG(e,t),e},hG=dr&&dr.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};Object.defineProperty(i2,"__esModule",{value:!0});var Du=uG(T),dG=zf,um=ta,fG=(0,dG.createAnimation)("SyncLoader",`33% {transform: translateY(10px)}
  66% {transform: translateY(-10px)}
  100% {transform: translateY(0)}`,"sync");function pG(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,s=r===void 0?"#000000":r,i=t.speedMultiplier,o=i===void 0?1:i,a=t.cssOverride,l=a===void 0?{}:a,c=t.size,u=c===void 0?15:c,h=t.margin,f=h===void 0?2:h,p=hG(t,["loading","color","speedMultiplier","cssOverride","size","margin"]),g=Ed({display:"inherit"},l),v=function(w){return{backgroundColor:s,width:(0,um.cssValue)(u),height:(0,um.cssValue)(u),margin:(0,um.cssValue)(f),borderRadius:"100%",display:"inline-block",animation:"".concat(fG," ").concat(.6/o,"s ").concat(w*.07,"s infinite ease-in-out"),animationFillMode:"both"}};return n?Du.createElement("span",Ed({style:g},p),Du.createElement("span",{style:v(1)}),Du.createElement("span",{style:v(2)}),Du.createElement("span",{style:v(3)})):null}var Hi=i2.default=pG;const mG=()=>{const[t,e]=T.useState(!0),n=Wc(),r=Je(m=>m.posts),s=Qt(),i=r.slice(0,3)||[],o=r[0]||[],a=r.filter(m=>m.category=="Politics"),l=r.filter(m=>m.category=="Sports"),c=r.filter(m=>m.category=="Music"),u=r.filter(m=>m.category=="Entertainment"),h=r.filter(m=>m.category=="Lifestyle"),f=r.filter(m=>m.category=="Technology"),p=r.filter(m=>m.category=="Education");n(HB(a)),n(XB(l)),n(QB(c)),n(GB(u)),n(YB(h)),n(qB(f)),n(KB(p));const g=a[a.length-1];Je(m=>m.likes),Je(m=>m.comments);const v=Je(m=>m.category),w=async()=>{try{const m=await rr(Mt(We,"posts")),y=[];m.forEach(_=>{y.unshift(_.data())}),n(WB(y))}catch(m){console.error("Error fetching data:",m)}};return T.useEffect(()=>{(async()=>{await w(),r.length>0&&e(!1)})()},[r]),d.jsxs("div",{className:" bg-[#fcf7df]",children:[!t&&d.jsxs("div",{className:"flex items-center justify-center",children:[v=="POLITICS"&&d.jsxs("div",{className:"gap-2 flex flex-col mb-8 bg-[#fcf7df] p-4",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("p",{className:"text-[36px] tracking-tighter text-[#000] font-bold",children:"POLITICS"})}),d.jsxs("div",{className:"h-[300px] w-[100%] bg-black rounded-[10px] relative",children:[d.jsx("img",{src:g.postImage||"",alt:g.postTitle,className:"w-full h-full object-cover rounded-[10px] opacity-40 absolute inset-0"}),d.jsx("p",{className:"text-white text-[26px] p-6 mb-6 z-10 absolute bottom-0 left-0 right-0",children:g.postTitle})]}),a.map(m=>d.jsxs("div",{className:"flex gap-4 items-center mt-4 mb-6",onClick:()=>{s(`/blog/${m.category}/${m.postId}`)},children:[d.jsx("div",{className:"w-[auto] h-[auto] rounded-[10px] bg-red-100",children:d.jsx("img",{src:m.postImage,alt:m.postTitle,className:"max-w-[150px] max-h-[150px] rounded-[10px]"})}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("p",{className:"text-[#FF2424] text-[20px] font-bold",children:"POLITICS"}),d.jsx("p",{className:"font-bold w-[90%]",children:m.postTitle}),d.jsxs("p",{className:"w-[100%]",children:[m.postAuthor," - ",m.postDate]})]})]}))]}),v=="SPORTS"&&d.jsxs("div",{className:"gap-2 flex flex-col mb-8 bg-[#fcf7df] p-4 w-[100%]",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("p",{className:"text-[36px] tracking-tighter text-[#000] font-bold",children:"SPORTS"})}),d.jsxs("div",{className:"h-[300px] w-[100%] bg-black rounded-[10px] relative",children:[d.jsx("img",{src:l[0].postImage||"",alt:l[0].postTitle,className:"w-full h-full object-cover rounded-[10px] opacity-40 absolute inset-0"}),d.jsx("p",{className:"text-white text-[26px] p-6 mb-6 z-10 absolute bottom-0 left-0 right-0",children:l[0].postTitle})]}),l.map(m=>d.jsxs("div",{className:"flex gap-4 items-center mt-4 mb-6",onClick:()=>{s(`/blog/${m.category}/${m.postId}`)},children:[d.jsx("div",{className:"w-[auto] h-[auto] rounded-[10px] bg-red-100",children:d.jsx("img",{src:m.postImage,alt:m.postTitle,className:"max-w-[150px] max-h-[150px] rounded-[10px]"})}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("p",{className:"text-[#FF2424] text-[20px] font-bold",children:"SPORTS"}),d.jsx("p",{className:"font-bold w-[90%]",children:m.postTitle}),d.jsxs("p",{className:"w-[100%]",children:[m.postAuthor," - ",m.postDate]})]})]}))]}),v=="MUSIC"&&d.jsxs("div",{className:"gap-2 flex flex-col mb-8 bg-[#fcf7df] p-4 w-[100%]",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("p",{className:"text-[36px] tracking-tighter text-[#000] font-bold",children:"MUSIC"})}),d.jsxs("div",{className:"h-[300px] w-[100%] bg-black rounded-[10px] relative",children:[d.jsx("img",{src:c[0].postImage||"",alt:c[0].postTitle,className:"w-full h-full object-cover rounded-[10px] opacity-40 absolute inset-0"}),d.jsx("p",{className:"text-white text-[26px] p-6 mb-6 z-10 absolute bottom-0 left-0 right-0",children:c[0].postTitle})]}),c.map(m=>d.jsxs("div",{className:"flex gap-4 items-center mt-4 mb-6",onClick:()=>{s(`/blog/${m.category}/${m.postId}`)},children:[d.jsx("div",{className:"w-[auto] h-[auto] rounded-[10px] bg-red-100",children:d.jsx("img",{src:m.postImage,alt:m.postTitle,className:"max-w-[150px] max-h-[150px] rounded-[10px]"})}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("p",{className:"text-[#FF2424] text-[20px] font-bold",children:"MUSIC"}),d.jsx("p",{className:"font-bold w-[90%]",children:m.postTitle}),d.jsxs("p",{className:"w-[100%]",children:[m.postAuthor," - ",m.postDate]})]})]}))]}),v=="ENTERTAINMENT"&&d.jsxs("div",{className:"gap-2 flex flex-col mb-8 bg-[#fcf7df] p-4 w-[100%]",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("p",{className:"text-[36px] tracking-tighter text-[#000] font-bold",children:"ENTERTAINMENT"})}),d.jsxs("div",{className:"h-[300px] w-[100%] bg-black rounded-[10px] relative",children:[d.jsx("img",{src:u[0].postImage||"",alt:u[0].postTitle,className:"w-full h-full object-cover rounded-[10px] opacity-40 absolute inset-0"}),d.jsx("p",{className:"text-white text-[26px] p-6 mb-6 z-10 absolute bottom-0 left-0 right-0",children:u[0].postTitle})]}),u.map(m=>d.jsxs("div",{className:"flex gap-4 items-center mt-4 mb-6",onClick:()=>{s(`/blog/${m.category}/${m.postId}`)},children:[d.jsx("div",{className:"w-[auto] h-[auto] rounded-[10px] bg-red-100",children:d.jsx("img",{src:m.postImage,alt:m.postTitle,className:"max-w-[150px] max-h-[150px] rounded-[10px]"})}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("p",{className:"text-[#FF2424] text-[20px] font-bold",children:"ENTERTAINMENT"}),d.jsx("p",{className:"font-bold w-[90%]",children:m.postTitle}),d.jsxs("p",{className:"w-[100%]",children:[m.postAuthor," - ",m.postDate]})]})]}))]}),v=="LIFESTYLE"&&d.jsxs("div",{className:"gap-2 flex flex-col mb-8 bg-[#fcf7df] p-4 w-[100%]",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("p",{className:"text-[36px] tracking-tighter text-[#000] font-bold",children:"LIFESTYLE"})}),d.jsxs("div",{className:"h-[300px] w-[100%] bg-black rounded-[10px] relative",children:[d.jsx("img",{src:h[0].postImage||"",alt:h[0].postTitle,className:"w-full h-full object-cover rounded-[10px] opacity-40 absolute inset-0"}),d.jsx("p",{className:"text-white text-[26px] p-6 mb-6 z-10 absolute bottom-0 left-0 right-0",children:h[0].postTitle})]}),h.map(m=>d.jsxs("div",{className:"flex gap-4 items-center mt-4 mb-6",onClick:()=>{s(`/blog/${m.category}/${m.postId}`)},children:[d.jsx("div",{className:"w-[auto] h-[auto] rounded-[10px] bg-red-100",children:d.jsx("img",{src:m.postImage,alt:m.postTitle,className:"max-w-[150px] max-h-[150px] rounded-[10px]"})}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("p",{className:"text-[#FF2424] text-[20px] font-bold",children:"LIFESTYLE"}),d.jsx("p",{className:"font-bold w-[90%]",children:m.postTitle}),d.jsxs("p",{className:"w-[100%]",children:[m.postAuthor," - ",m.postDate]})]})]}))]}),v=="TECHNOLOGY"&&d.jsxs("div",{className:"gap-2 flex flex-col mb-8 bg-[#fcf7df] p-4 w-[100%]",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("p",{className:"text-[36px] tracking-tighter text-[#000] font-bold",children:"TECHNOLOGY"})}),d.jsxs("div",{className:"h-[300px] w-[100%] bg-black rounded-[10px] relative",children:[d.jsx("img",{src:f[0].postImage||"",alt:f[0].postTitle,className:"w-full h-full object-cover rounded-[10px] opacity-40 absolute inset-0"}),d.jsx("p",{className:"text-white text-[26px] p-6 mb-6 z-10 absolute bottom-0 left-0 right-0",children:f[0].postTitle})]}),f.map(m=>d.jsxs("div",{className:"flex gap-4 items-center mt-4 mb-6",onClick:()=>{s(`/blog/${m.category}/${m.postId}`)},children:[d.jsx("div",{className:"w-[auto] h-[auto] rounded-[10px] bg-red-100",children:d.jsx("img",{src:m.postImage,alt:m.postTitle,className:"max-w-[150px] max-h-[150px] rounded-[10px]"})}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("p",{className:"text-[#FF2424] text-[20px] font-bold",children:"TECHNOLOGY"}),d.jsx("p",{className:"font-bold w-[90%]",children:m.postTitle}),d.jsxs("p",{className:"w-[100%]",children:[m.postAuthor," - ",m.postDate]})]})]}))]}),v=="EDUCATION"&&d.jsxs("div",{className:"gap-2 flex flex-col mb-8 bg-[#fcf7df] p-4 w-[100%]",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("p",{className:"text-[36px] tracking-tighter text-[#000] font-bold",children:"EDUCATION"})}),d.jsxs("div",{className:"h-[300px] w-[100%] bg-black rounded-[10px] relative",children:[d.jsx("img",{src:p[0].postImage||"",alt:p[0].postTitle,className:"w-full h-full object-cover rounded-[10px] opacity-40 absolute inset-0"}),d.jsx("p",{className:"text-white text-[26px] p-6 mb-6 z-10 absolute bottom-0 left-0 right-0",children:p[0].postTitle})]}),p.map(m=>d.jsxs("div",{className:"flex gap-4 items-center mt-4 mb-6",onClick:()=>{s(`/blog/${m.category}/${m.postId}`)},children:[d.jsx("div",{className:"w-[auto] h-[auto] rounded-[10px] bg-red-100",children:d.jsx("img",{src:m.postImage,alt:m.postTitle,className:"max-w-[150px] max-h-[150px] rounded-[10px]"})}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("p",{className:"text-[#FF2424] text-[20px] font-bold",children:"EDUCATION"}),d.jsx("p",{className:"font-bold w-[90%]",children:m.postTitle}),d.jsxs("p",{className:"w-[100%]",children:[m.postAuthor," - ",m.postDate]})]})]}))]}),v=="ALL"&&d.jsxs("section",{className:"md:grid md:grid-rows-3 md:grid-cols-3 flex flex-col mt-7 pb-[20px] gap-[30px] md:gap-[80px] md:gap-y-[700px] md:px-12 px-4 h-[100vh] bg-[#fcf7df] md:",children:[d.jsxs("div",{className:"w-[100%] md:bg-black bg-black pb-[35px] rounded-[10px]",onClick:()=>{s(`/blog/${o.category}/${o.postId}`)},children:[d.jsx("div",{className:"w-[100%] bg-red-100 h-[300px] rounded-t-[10px]",children:d.jsx("img",{src:o.postImage,alt:o.postTitle,className:"w-[100%] h-[100%] rounded-t-[10px] object-cover"})}),"+",d.jsx("p",{className:"text-white text-[26px] p-6 font-bold",children:o.postTitle}),d.jsx("p",{className:"text-[#9e9e9e] px-6",children:o.postDescription}),d.jsxs("p",{className:"text-[#fff] px-6 mt-6",children:["By ",o.postAuthor]})]}),d.jsxs("div",{className:"bg-[#fcf7df]",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("p",{className:"text-[36px] tracking-tighter text-[#000] font-bold",children:"EDITOR'S PICKS"}),d.jsx("p",{className:"text-[#FF2424] font-bold",children:"See more.."})]}),d.jsx("div",{className:"md: md:h-[500px] md:overflow-y-auto",children:i.map(m=>d.jsxs("div",{className:"gap-6 flex flex-col mb-8",onClick:()=>{n(nz(m.postImage)),n(ez(m.content)),n(rz(m.postTitle)),n(tz(m.PostDescription)),n(sz(m.category)),n(iz([m.tags])),n(az(m.postAuthor)),n(lz(m.postDate)),s(`/blog/${m.category}/${m.postId}`)},children:[d.jsx("img",{src:m.postImage,className:"h-[300px] w-[100%] rounded-[10px] object-cover",alt:""}),d.jsx("p",{className:"font-bold ps-2 text-[26px] w-[85%] hover:text-[#FF2424] duration-200 ease-in",children:m.postTitle})]}))})]}),d.jsxs("div",{className:"gap-2 flex flex-col mb-8 bg-[#fcf7df]",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("p",{className:"text-[36px] tracking-tighter text-[#000] font-bold",children:"POLITICS"}),d.jsx("p",{className:"text-[#FF2424] font-bold",children:"See more.."})]}),d.jsxs("div",{className:"h-[300px] w-[100%] bg-black rounded-[10px] relative",children:[d.jsx("img",{src:g.postImage||"",alt:g.postTitle,className:"w-full h-full object-cover rounded-[10px] opacity-40 absolute inset-0"}),d.jsx("p",{className:"text-white text-[26px] p-6 mb-6 z-10 absolute bottom-0 left-0 right-0",children:g.postTitle})]}),a.slice(0,3).map(m=>d.jsxs("div",{className:"flex gap-4 items-center mt-4 mb-6",onClick:()=>{s(`/blog/${m.category}/${m.postId}`)},children:[d.jsx("div",{className:"w-[auto] h-[auto] rounded-[10px] bg-red-100",children:d.jsx("img",{src:m.postImage,alt:m.postTitle,className:"max-w-[150px] max-h-[150px] rounded-[10px]"})}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("p",{className:"text-[#FF2424] text-[20px] font-bold",children:"POLITICS"}),d.jsx("p",{className:"font-bold w-[90%]",children:m.postTitle}),d.jsxs("p",{className:"w-[100%]",children:[m.postAuthor," - ",m.postDate]})]})]}))]}),d.jsxs("div",{className:"gap-2 flex flex-col mb-8 bg-[#fcf7df]",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("p",{className:"text-[36px] tracking-tighter text-[#000] font-bold",children:"SPORTS"}),d.jsx("p",{className:"text-[#FF2424] font-bold",children:"See more.."})]}),d.jsxs("div",{className:"h-[300px] w-[100%] bg-black rounded-[10px] relative",children:[d.jsx("img",{src:l[0].postImage,alt:l[0].postTitle,className:"w-full h-full object-cover rounded-[10px] opacity-50 absolute inset-0"}),d.jsx("p",{className:"text-white text-[26px] p-6 mb-6 z-10 absolute bottom-0 left-0 right-0",children:l[0].postTitle})]}),l.slice(0,3).map(m=>d.jsxs("div",{className:"flex gap-4 items-center mt-4 mb-6",onClick:()=>{s(`/blog/${m.category}/${m.postId}`)},children:[d.jsx("div",{className:"w-[auto] h-[auto] rounded-[10px] bg-red-100",children:d.jsx("img",{src:m.postImage,alt:m.postTitle,className:"max-w-[150px] max-h-[150px] rounded-[10px]"})}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("p",{className:"text-[#FF2424] text-[20px] font-bold",children:"SPORTS"}),d.jsx("p",{className:"font-bold w-[90%]",children:m.postTitle}),d.jsxs("p",{className:"w-[100%]",children:[m.postAuthor," - ",m.postDate]})]})]}))]}),d.jsxs("div",{className:"gap-2 flex flex-col mb-8 bg-[#fcf7df]",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("p",{className:"text-[36px] tracking-tighter text-[#000] font-bold",children:"MUSIC"}),d.jsx("p",{className:"text-[#FF2424] font-bold",children:"See more.."})]}),d.jsxs("div",{className:"h-[300px] w-[100%] bg-black rounded-[10px] relative",children:[d.jsx("img",{src:c[0].postImage,alt:c[0].postTitle,className:"w-full h-full object-cover rounded-[10px] opacity-50 absolute inset-0"}),d.jsx("p",{className:"text-white text-[26px] p-6 mb-6 z-10 absolute bottom-0 left-0 right-0",children:c[0].postTitle})]}),c.slice(0,3).map(m=>d.jsxs("div",{className:"flex gap-4 items-center mt-4 mb-6",onClick:()=>{s(`/blog/${m.category}/${m.postId}`)},children:[d.jsx("div",{className:"w-[auto] h-[auto] rounded-[10px] bg-red-100",children:d.jsx("img",{src:m.postImage,alt:m.postTitle,className:"max-w-[150px] max-h-[150px] rounded-[10px]"})}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("p",{className:"text-[#FF2424] text-[20px] font-bold",children:"SPORTS"}),d.jsx("p",{className:"font-bold w-[90%]",children:m.postTitle}),d.jsxs("p",{className:"w-[100%]",children:[m.postAuthor," - ",m.postDate]})]})]}))]})]})]}),t&&d.jsx("div",{className:"w-[100%] flex items-center justify-center h-[100%]",children:d.jsx(Hi,{color:"#FF2424"})})]})},gG=()=>{const t={duration:1,ease:"easeInOut",repeat:1/0,repeatType:"reverse"},e=Qt(),[n,r]=T.useState("");return T.useEffect(()=>{window.scrollTo(0,0);const s=$c(ur,i=>{r(i)});return()=>s()},[]),d.jsx("div",{className:"w-[100%] h-[100px] fixed z-10 flex bottom-0 left-0 p-4",children:d.jsx(hn.div,{initial:{scale:1},animate:{scale:1.3},transition:t,to:"/createfeed",className:"bg-[#FF2424] rounded-full flex items-center justify-center w-[70px] h-[70px] fixed right-0 mr-6 md:mr-10",onClick:()=>{e(n?"/createfeed":"/signin")},children:d.jsx(Jt,{to:"/createfeed",children:d.jsx(D8,{color:"white",size:30})})})})},yG=()=>{},_G=()=>d.jsx(d.Fragment,{children:d.jsxs("section",{className:"m-0 p-0 bg-[#fcf7df] h-[100vh]",children:[d.jsx(Yc,{}),d.jsx(Qq,{}),d.jsx(mG,{}),d.jsx(yG,{}),d.jsx(gG,{})]})});function vG(t){return Ve({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288 480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 73.4-73.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-128 128z"}}]})(t)}function wG(t){return Ve({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 240c0 114.9-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6C73.6 471.1 44.7 480 16 480c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4l0 0 0 0 0 0 0 0 .3-.3c.3-.3 .7-.7 1.3-1.4c1.1-1.2 2.8-3.1 4.9-5.7c4.1-5 9.6-12.4 15.2-21.6c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208z"}}]})(t)}function EG(t){return Ve({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"}}]})(t)}function TG(t){return Ve({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"}}]})(t)}function xG(t){return Ve({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M313.4 32.9c26 5.2 42.9 30.5 37.7 56.5l-2.3 11.4c-5.3 26.7-15.1 52.1-28.8 75.2H464c26.5 0 48 21.5 48 48c0 18.5-10.5 34.6-25.9 42.6C497 275.4 504 288.9 504 304c0 23.4-16.8 42.9-38.9 47.1c4.4 7.3 6.9 15.8 6.9 24.9c0 21.3-13.9 39.4-33.1 45.6c.7 3.3 1.1 6.8 1.1 10.4c0 26.5-21.5 48-48 48H294.5c-19 0-37.5-5.6-53.3-16.1l-38.5-25.7C176 420.4 160 390.4 160 358.3V320 272 247.1c0-29.2 13.3-56.7 36-75l7.4-5.9c26.5-21.2 44.6-51 51.2-84.2l2.3-11.4c5.2-26 30.5-42.9 56.5-37.7zM32 192H96c17.7 0 32 14.3 32 32V448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32V224c0-17.7 14.3-32 32-32z"}}]})(t)}function IG(t){return Ve({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18 11v2h4v-2h-4zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61zM20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4zM4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9H4zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34z"}}]})(t)}function Xc(t){return Ve({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#D50000",d:"M24,6C14.1,6,6,14.1,6,24s8.1,18,18,18s18-8.1,18-18S33.9,6,24,6z M24,10c3.1,0,6,1.1,8.4,2.8L12.8,32.4 C11.1,30,10,27.1,10,24C10,16.3,16.3,10,24,10z M24,38c-3.1,0-6-1.1-8.4-2.8l19.6-19.6C36.9,18,38,20.9,38,24C38,31.7,31.7,38,24,38 z"}}]})(t)}function Jc(t){return Ve({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(t)}function SG(t){return Ve({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(t)}function CG(t){return Ve({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(t)}const PG=()=>{const[t,e]=T.useState([]),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,a]=T.useState(""),[l,c]=T.useState(""),[u,h]=T.useState(""),[f,p]=T.useState(null),[g,v]=T.useState(!1),[w,m]=T.useState(""),[y,_]=T.useState(!1),[E,I]=T.useState(""),[A,R]=T.useState(!1),[C,k]=T.useState(!1),M=Je(H=>H.posts),X=Je(H=>H.userName),le=Je(H=>H.userId);Wc();const ce=Qt(),W=H=>{const _e=H.target.files[0];if(_e){const x=new FileReader;x.onload=()=>{p(x.result)},x.readAsDataURL(_e)}};T.useEffect(()=>{window.scrollTo(0,0)},[]),g&&setTimeout(()=>{v(!1)},5e3),y&&setTimeout(()=>{_(!1),ce("/")},2e3);const q=async()=>{if(!A)if(s&&u&&o&&l&&f){k(!0);const _e=(()=>{const S=new Date,P={month:"short",day:"numeric",year:"numeric"};return S.toLocaleDateString("en-US",P)})(),x=M.length;try{(await fl(Mt(We,"posts"),{postId:x,postAuthor:X,postAuthorId:le,postImage:f||"",postTitle:s,postDescription:u,content:o,category:l,tags:t,postDate:_e})).id&&(_(!0),I("Your Feed has been posted"))}catch{console.log("error"),k(!1)}finally{R(!1)}}else v(!0),m("Please input all required details asterisked")};return d.jsxs("section",{className:"w-[100vw] overflow-x-hidden bg-[#fcf7df] h-[100vh]",children:[y&&d.jsxs(hn.div,{initial:{y:-1e3},animate:{y:0},className:"fixed top-4 left-[10vw] bg-white w-[80vw] h-[100px] rounded-[10px] flex items-center gap-6 shadow-xl border justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Jc,{size:60,color:"#22c55e",className:"ms-3"}),d.jsxs("p",{className:" text-[14px] ms-5 w-[90%]",children:[d.jsx("span",{className:"text-green-500 font-bold",children:"Success: "}),E]})]}),d.jsx(zn,{size:40,className:"me-3",onClick:()=>{_(!1)}})]}),g&&d.jsxs(hn.div,{initial:{y:-1e3},animate:{y:0},className:"fixed top-4 left-[10vw] bg-white w-[80vw] h-[100px] rounded-[10px] flex items-center gap-6 shadow-xl border justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Xc,{size:60,color:"#FF2424",className:"ms-3"}),d.jsxs("p",{className:" text-[14px] ms-5 w-[90%]",children:[d.jsx("span",{className:"text-[#FF2424] font-bold",children:"Error: "}),w]})]}),d.jsx(zn,{size:40,className:"me-3",onClick:()=>{v(!1)}})]}),d.jsxs("div",{className:"w-100 flex gap-4 items-center py-5 px-7",children:[d.jsx(Jt,{to:"/",children:d.jsx(bN,{size:30})}),d.jsx("p",{className:"text-2xl font-bold",children:"Create a New Feed"})]}),d.jsxs("div",{className:"p-3 md:flex ",children:[d.jsx("div",{className:"flex flex-col justify-center items-center gap-3 bg-[#FF2424] h-[60px] rounded-[10px]",children:d.jsx("input",{type:"file",accept:"image/*",className:"bg-[#FF2424] text-white",onChange:W})}),d.jsxs("div",{className:"p-1 md:pt-0 md:w-[100%]",children:[d.jsxs("div",{className:"mt-3 mb-5",children:[d.jsxs("label",{htmlFor:"Post Title",children:["Post Title",d.jsx("span",{className:"text-[#FF2424]",children:"*"})]}),d.jsx("input",{type:"text",className:"border rounded-[10px] block h-[50px] w-[100%] mt-1 ps-4",value:s,onChange:H=>{i(H.target.value)}})]}),d.jsxs("div",{className:"mt-3 mb-5",children:[d.jsxs("label",{htmlFor:"Post Title",children:["Post Description",d.jsx("span",{className:"text-[#FF2424]",children:"*"})]}),d.jsx("input",{type:"text",className:"border rounded-[10px] block h-[50px] w-[100%] mt-1 ps-4",value:u,onChange:H=>{h(H.target.value)}})]}),d.jsxs("div",{className:"mt-3 mb-5",children:[d.jsxs("label",{htmlFor:"Content/Body",children:["Content/Body",d.jsx("span",{className:"text-[#FF2424]",children:"*"})]}),d.jsx("textarea",{type:"text",className:"border rounded-[10px] block h-[400px] w-[100%] mt-1 ps-4 pe-6 pt-4 flex-wrap",onChange:H=>{a(H.target.value)}})]}),d.jsxs("div",{className:"mt-3 mb-3",children:[d.jsxs("label",{htmlFor:"Post Title",children:["Category",d.jsx("span",{className:"text-[#FF2424]",children:"*"})]}),d.jsxs("select",{name:"category",id:"",className:"border rounded-[10px] pe-10 block h-[50px] w-[100%] mt-1 ps-4 md:w-[100%]",onChange:H=>{c(H.target.value)},children:[d.jsx("option",{value:"None",children:"---Select"}),d.jsx("option",{value:"Politics",children:"Politics"}),d.jsx("option",{value:"Sports",children:"Sports"}),d.jsx("option",{value:"Music",children:"Music"}),d.jsx("option",{value:"Entertainment",children:"Entertainment"}),d.jsx("option",{value:"Technology",children:"Technology"}),d.jsx("option",{value:"Lifestyle",children:"Lifestyle"}),d.jsx("option",{value:"Education",children:"Education"})]})]}),d.jsxs("div",{className:"mt-3 mb-5",children:[d.jsxs("label",{htmlFor:"Post Title",children:["Tags/Keywords",d.jsx("span",{className:"text-[#FF2424]",children:"*"})]}),d.jsxs("div",{className:"border rounded-[10px] h-[50px] w-[100%] mt-1 ps-4 flex justify-between pe-6 bg-white",children:[d.jsx("input",{type:"text",className:"w-[100%] h-[100%] focus:outline-none bg-white",value:n,onChange:H=>{const _e=H.target.value;r(_e)}}),d.jsxs("div",{className:"flex items-center text-[#FF2424]",onClick:()=>{const H={text:n};e([...t,H]),r("")},children:[d.jsx(Kq,{color:"#FF2424"}),"Add"]})]}),d.jsx("div",{children:d.jsx("div",{className:"flex mt-4",id:"tag-array",children:t.map(H=>d.jsxs("div",{className:"w-auto ps-4 pe-4 gap-2 h-[40px] rounded-[6px] me-1 bg-[#fdd6d6] text-[#FF2424] flex items-center justify-center",children:[H.text,d.jsx(zn,{color:"FF2424",onClick:()=>{const _e=t.filter(x=>x!==H);e(_e)}})]}))})})]}),d.jsx("div",{className:"w-[100%] h-[60px] rounded-[10px] flex items-center gap-2 justify-center bg-[#FF2424] text-white hover:bg-[#DD0000]",onClick:q,children:C?d.jsx(Hi,{color:"#fff",size:10}):d.jsxs("div",{className:"flex gap-4",children:[d.jsx(IG,{size:22}),d.jsx("p",{children:"Publish Feed"})]})})]})]})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="firebasestorage.googleapis.com",AG="storageBucket",RG=2*60*1e3,kG=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends kn{constructor(e,n,r=0){super(hm(e),`Firebase Storage: ${n} (${hm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mr||(mr={}));function hm(t){return"storage/"+t}function NG(){const t="An unknown error occurred, please check the error payload for server response.";return new gr(mr.UNKNOWN,t)}function bG(){return new gr(mr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DG(){return new gr(mr.CANCELED,"User canceled the upload/download.")}function OG(t){return new gr(mr.INVALID_URL,"Invalid URL '"+t+"'.")}function MG(t){return new gr(mr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Lx(t){return new gr(mr.INVALID_ARGUMENT,t)}function l2(){return new gr(mr.APP_DELETED,"The Firebase app was deleted.")}function LG(t){return new gr(mr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Vn.makeFromUrl(e,n)}catch{return new Vn(e,"")}if(r.path==="")return r;throw MG(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(E){E.path_=decodeURIComponent(E.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${u}/b/${s}/o${f}`,"i"),g={bucket:1,path:3},v=n===a2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",m=new RegExp(`^https?://${v}/${s}/${w}`,"i"),_=[{regex:a,indices:l,postModify:i},{regex:p,indices:g,postModify:c},{regex:m,indices:{bucket:1,path:2},postModify:c}];for(let E=0;E<_.length;E++){const I=_[E],A=I.regex.exec(e);if(A){const R=A[I.indices.bucket];let C=A[I.indices.path];C||(C=""),r=new Vn(R,C),I.postModify(r);break}}if(r==null)throw OG(e);return r}}class FG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VG(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...w){c||(c=!0,e.apply(null,w))}function h(w){s=setTimeout(()=>{s=null,t(p,l())},w)}function f(){i&&clearTimeout(i)}function p(w,...m){if(c){f();return}if(w){f(),u.call(null,w,...m);return}if(l()||o){f(),u.call(null,w,...m);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,h(_)}let g=!1;function v(w){g||(g=!0,f(),!c&&(s!==null?(w||(a=2),clearTimeout(s),h(0)):w||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function jG(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UG(t){return t!==void 0}function Fx(t,e,n,r){if(r<e)throw Lx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Lx(`Invalid value for '${t}'. Expected ${n} or less.`)}function $G(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Td;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Td||(Td={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BG(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG{constructor(e,n,r,s,i,o,a,l,c,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Ou(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Td.NO_ERROR,l=i.getStatus();if(!a||BG(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===Td.ABORT;r(!1,new Ou(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Ou(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());UG(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=NG();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?l2():DG();o(l)}else{const l=bG();o(l)}};this.canceled_?n(!1,new Ou(!1,null,!0)):this.backoffId_=VG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&jG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ou{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function WG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function HG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function GG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function KG(t,e,n,r,s,i,o=!0){const a=$G(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return qG(c,e),WG(c,n),HG(c,i),GG(c,r),new zG(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QG(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function YG(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n){this._service=e,n instanceof Vn?this._location=n:this._location=Vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xd(e,n)}get root(){const e=new Vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YG(this._location.path)}get storage(){return this._service}get parent(){const e=QG(this._location.path);if(e===null)return null;const n=new Vn(this._location.bucket,e);return new xd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw LG(e)}}function Vx(t,e){const n=e==null?void 0:e[AG];return n==null?null:Vn.makeFromBucketSpec(n,t)}class XG{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=a2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RG,this._maxUploadRetryTime=kG,this._requests=new Set,s!=null?this._bucket=Vn.makeFromBucketSpec(s,this._host):this._bucket=Vx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vn.makeFromBucketSpec(this._url,e):this._bucket=Vx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Fx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Fx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xd(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new FG(l2());{const o=KG(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const jx="@firebase/storage",Ux="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JG="storage";function ZG(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new XG(n,r,s,e,Vs)}function eK(){An(new ln(JG,ZG,"PUBLIC").setMultipleInstances(!0)),Pt(jx,Ux,""),Pt(jx,Ux,"esm2017")}eK();const tK=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,a]=T.useState(""),[l,c]=T.useState(""),[u,h]=T.useState(!1),[f,p]=T.useState(""),[g,v]=T.useState(!1),[w,m]=T.useState(""),[y,_]=T.useState(!1),[E,I]=T.useState(!1),A=Qt();GP(),T.useEffect(()=>{window.scrollTo(0,0)},[]);const R=k=>{const M=k.target.files[0];if(M){const X=new FileReader;X.onload=()=>{c(X.result)},X.readAsDataURL(M)}},C=async()=>{if(s&&o&&n&&l){I(!0);try{const X=(await YU(ur,s,o)).user.uid,le=Xo(We,"users",X);await K5(le,{Name:n,EmailAddress:s,ProfilePicture:l})}catch(k){h(!0),p(k.message),v(!1),I(!1)}$c(ur,k=>{k?(h(!1),v(!0),I(!1),m("Sign Up Successful"),setTimeout(()=>{v(!1),A("/")},3e3)):(h(!0),I(!1))})}else h(!0),p("Please input your full, email address and password to signup")};return t&&setTimeout(()=>{e(!1)},5e3),u&&setTimeout(()=>{h(!1)},5e3),d.jsxs("section",{className:"flex flex-col items-center bg-[#fcf7df] h-[100vh] w-[100vw] p-[30px] px-[18px] md:flex md:flex-row",children:[g&&d.jsxs(hn.div,{initial:{y:-1e3},animate:{y:0},className:"fixed top-4 left-[10vw] bg-white w-[80vw] h-[100px] rounded-[10px] flex items-center gap-6 shadow-xl border justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Jc,{size:60,color:"#22c55e",className:"ms-3"}),d.jsxs("p",{className:" text-[14px] ms-5 w-[90%]",children:[d.jsx("span",{className:"text-green-500 font-bold",children:"Success: "}),w]})]}),d.jsx(zn,{size:40,className:"me-3",onClick:()=>{v(!1),A("/")}})]}),u&&d.jsxs(hn.div,{initial:{y:-1e3},animate:{y:0},className:"fixed top-4 left-[10vw] bg-white w-[80vw] h-[100px] rounded-[10px] flex items-center gap-6 shadow-xl border justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Xc,{size:60,color:"#FF2424",className:"ms-3"}),d.jsxs("p",{className:" text-[14px] ms-5 w-[90%]",children:[d.jsx("span",{className:"text-[#FF2424] font-bold",children:"Error: "}),f]})]}),d.jsx(zn,{size:40,className:"me-3",onClick:()=>{h(!1)}})]}),t&&d.jsx("div",{className:"fixed top-0 left-0 bg-black/40 w-[100vw] h-[100vh] flex items-center justify-center",children:d.jsxs("div",{className:"w-[50%] bg-white h-[50%] rounded-[10px] flex flex-col gap-12 items-center justify-center",children:[d.jsx("div",{className:"w-[100px] h-[100px] rounded-full bg-[#FFE4E4]"}),d.jsx("p",{className:"text-[25px] font-bold text-[#FF2424]",children:"Creating Account.."})]})}),d.jsx("div",{className:"hidden md:flex md:flex-col md:w-[50vw] md:items-center md:justify-center",children:d.jsx("img",{src:"https://bafybeibwm2p6evzko2347enjs6gzp66gkjsllq3lq3xu3bjrlvcaz5s6k4.ipfs.w3s.link/Sign up-pana.svg",alt:"",className:"w-[450px]"})}),d.jsxs("div",{className:"w-[100%] md:w-[50vw]",children:[d.jsxs("div",{className:"flex gap-5 items-center",children:[d.jsx(Jt,{to:"/",children:d.jsx(e2,{size:30})}),d.jsx("img",{src:"https://bafybeigfti5usy3rsztdbbqu2bnox4fbbvykrueijnmeoaw625xglbo7xq.ipfs.w3s.link/FeedPost Logo.svg",className:"w-[150px]",alt:""})]}),d.jsxs("div",{className:"mt-[34px]",children:[d.jsx("p",{className:"font-bold text-[36px]",onClick:()=>{_(!0)},children:"Create an account!"}),d.jsxs(Jt,{to:"/signin",className:"decoration-none",children:["Already have an account? ",d.jsx("span",{className:"text-[#FF2424]",children:"Login"})]})]}),d.jsxs("div",{className:"w-[100%] mt-[34px]",children:[d.jsxs("div",{className:"mt-3 mb-5 w-[100%]",children:[d.jsxs("label",{htmlFor:"Content/Body",children:["Full Name",d.jsx("span",{className:"text-[#FF2424]",children:"*"})]}),d.jsx("input",{type:"text",value:n,className:"border rounded-[10px] h-[50px] w-[100%] mt-1 ps-4 focus:outline-red-500",onChange:k=>{r(k.target.value)}})]}),d.jsxs("div",{className:"mt-3 mb-5 w-[100%]",children:[d.jsxs("label",{htmlFor:"Content/Body",children:["Email Address",d.jsx("span",{className:"text-[#FF2424]",children:"*"})]}),d.jsx("input",{type:"email",value:s,className:"border rounded-[10px] h-[50px] w-[100%] mt-1 ps-4 focus:outline-red-500",onChange:k=>{i(k.target.value)}})]}),d.jsxs("div",{className:"mt-3 mb-5 w-[100%]",children:[d.jsxs("label",{htmlFor:"Content/Body",children:["Password",d.jsx("span",{className:"text-[#FF2424]",children:"*"})]}),d.jsxs("div",{className:"border rounded-[10px] h-[50px] w-[100%] mt-1 flex items-center bg-white justify-between pe-6",children:[d.jsx("input",{type:y?"text":"password",value:o,className:"h-[100%] w-[100%] bg-transparent mt-1 ps-4 focus:outline-none",onChange:k=>{a(k.target.value)}}),d.jsxs("div",{children:[y&&d.jsx("div",{children:d.jsx(EG,{size:23,onClick:()=>{_(!1)}})}),!y&&d.jsx("div",{children:d.jsx(TG,{size:22,onClick:()=>{_(!0)}})})]})]})]}),d.jsxs("div",{className:"mt-3 mb-5 w-[100%]",children:[d.jsxs("label",{htmlFor:"Content/Body",children:["Profile Picture",d.jsx("span",{className:"text-[#FF2424]",children:"*"})]}),d.jsx("input",{type:"file",accept:"image/*",className:"border rounded-[10px] h-[50px] w-[100%] mt-1 ps-4 flex items-center",onChange:R})]}),d.jsx("div",{className:"w-[100%] h-[60px] rounded-[10px] flex items-center gap-2 justify-center bg-[#FF2424] hover:bg-[#d41717] hover:duration-200 hover:ease-in text-white text-[18px] font-bold",onClick:C,children:E?d.jsx(Hi,{color:"#fff",size:10}):"Sign Up"})]})]})]})},nK=()=>{const[t,e]=T.useState(!1);T.useState("");const[n,r]=T.useState(""),[s,i]=T.useState(""),[o,a]=T.useState(!1),[l,c]=T.useState(""),[u,h]=T.useState(!1),[f,p]=T.useState(""),[g,v]=T.useState(!1),[w,m]=T.useState(!1),y=Qt();T.useEffect(()=>{window.scrollTo(0,0)},[]);const _=async()=>{if(n&&s){m(!0);try{await XU(ur,n,s)}catch(E){c(E.message),h(!1),m(!1)}$c(ur,E=>{E?(a(!1),console.log("signin in"),h(!0),m(!1),p("Sign In Successful"),setTimeout(()=>{h(!1),y("/")},3e3)):(console.log("not signed in"),a(!0),m(!1))})}else c("Please input your email address and password to login");t?setTimeout(()=>{e(!1)},5e3):a(!0)};return o&&setTimeout(()=>{a(!1)},3e3),d.jsxs("section",{className:"flex flex-col items-center bg-[#fcf7df] px-[18px] h-[100vh] w-[100vw] p-[30px] md:flex md:flex-row",children:[u&&d.jsxs(hn.div,{initial:{y:-1e3},animate:{y:0},className:"fixed top-4 left-[10vw] bg-white w-[80vw] h-[100px] rounded-[10px] flex items-center gap-6 shadow-xl border justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Jc,{size:60,color:"#22c55e",className:"ms-3"}),d.jsxs("p",{className:" text-[14px] ms-5 w-[90%]",children:[d.jsx("span",{className:"text-green-500 font-bold",children:"Success: "}),f]})]}),d.jsx(zn,{size:40,className:"me-3",onClick:()=>{h(!1),y("/")}})]}),o&&d.jsxs(hn.div,{initial:{y:-1e3},animate:{y:0},className:"fixed top-4 left-[10vw] bg-white w-[80vw] h-[100px] rounded-[10px] flex items-center gap-6 shadow-xl border justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Xc,{size:60,color:"#FF2424",className:"ms-3"}),d.jsxs("p",{className:" text-[14px] ms-5 w-[90%]",children:[d.jsx("span",{className:"text-[#FF2424] font-bold",children:"Error: "}),l]})]}),d.jsx(zn,{size:40,className:"me-3",onClick:()=>{a(!1)}})]}),t&&d.jsx("div",{className:"fixed top-0 left-0 bg-black/40 w-[100vw] h-[100vh] flex items-center justify-center",children:d.jsxs("div",{className:"w-[50%] bg-white h-[50%] rounded-[10px] flex flex-col gap-12 items-center justify-center",children:[d.jsx("div",{className:"w-[100px] h-[100px] rounded-full bg-[#FFE4E4]"}),d.jsx("p",{className:"text-[25px] font-bold text-[#FF2424]",children:"Signing Up.."})]})}),d.jsx("div",{className:"hidden md:flex md:flex-col md:w-[50vw] md:items-center md:justify-center",children:d.jsx("img",{src:"https://bafybeieu4pvjjx5qlz5onlfqac37hqhciaz4k4fm3pmjl3cdtpc6qslrrq.ipfs.w3s.link/Login-pana.svg",alt:"",className:"w-[450px]"})}),d.jsxs("div",{className:"w-[100%] md:w-[50vw]",children:[d.jsxs("div",{className:"flex gap-5 items-center",children:[d.jsx(Jt,{to:"/",children:d.jsx(e2,{size:30})}),d.jsx("img",{src:"https://bafybeigfti5usy3rsztdbbqu2bnox4fbbvykrueijnmeoaw625xglbo7xq.ipfs.w3s.link/FeedPost Logo.svg",className:"w-[150px]",alt:""})]}),d.jsxs("div",{className:"mt-[34px]",children:[d.jsx("p",{className:"font-bold text-[36px]",children:"Log into your account!"}),d.jsxs(Jt,{className:"decoration-none",to:"/create-account",children:["Don't have an account?"," ",d.jsx("span",{className:"text-[#FF2424]",children:"Create an account"})]})]}),d.jsxs("div",{className:"w-[100%] mt-[34px]",children:[d.jsxs("div",{className:"mt-3 mb-5 w-[100%]",children:[d.jsxs("label",{htmlFor:"Content/Body",children:["Email Address",d.jsx("span",{className:"text-[#FF2424]",children:"*"})]}),d.jsx("input",{type:"email",value:n,className:"border rounded-[10px] h-[50px] w-[100%] mt-1 ps-4",onChange:E=>{r(E.target.value)}})]}),d.jsxs("div",{className:"mt-3 mb-5 w-[100%]",children:[d.jsxs("label",{htmlFor:"Content/Body",children:["Password",d.jsx("span",{className:"text-[#FF2424]",children:"*"})]}),d.jsxs("div",{className:"border rounded-[10px] h-[50px] w-[100%] mt-1 flex items-center bg-white justify-between pe-6",children:[d.jsx("input",{type:g?"text":"password",value:s,className:"h-[100%] w-[100%] bg-transparent mt-1 ps-4 focus:outline-none",onChange:E=>{i(E.target.value)}}),d.jsxs("div",{children:[g&&d.jsx("div",{children:d.jsx(SG,{size:23,onClick:()=>{v(!1)}})}),!g&&d.jsx("div",{children:d.jsx(CG,{size:22,onClick:()=>{v(!0)}})})]})]})]}),d.jsx("div",{className:"w-[100%] h-[60px] rounded-[10px] flex items-center gap-2 justify-center bg-[#FF2424] hover:bg-[#d41717] hover:duration-200 hover:ease-in text-white text-[18px] font-bold",onClick:_,children:w?d.jsx(Hi,{color:"#fff",size:10}):"Login"})]})]})]})},rK=()=>{const[t,e]=T.useState([]),[n,r]=T.useState(0),[s,i]=T.useState(0),[o,a]=T.useState([]),[l,c]=T.useState(!1),u=async()=>{try{const k=await rr(Mt(We,"interactions")),M=await rr(Mt(We,"LikeCount"));let X=[],le=[];M.forEach(q=>{le.unshift({docId:q.id,...q.data()})}),k.forEach(q=>{X.unshift(q.data())});const ce=X.filter(q=>q.postId==I);e(ce),console.log(ce),r(ce.length),console.log(le);const W=le.filter(q=>q.postId==I);a(W),console.log(W),i(W.length)}catch(k){console.log(k)}};T.useEffect(()=>{u()},[]);const h=async()=>{if(y){const k={postId:I,commentValue:w,userName:y,profilePicture:_};try{await fl(Mt(We,"interactions"),k),e(M=>[k,...M]),m(""),r(n+1),await fl(Mt(We,"CommentCount"),k)}catch(M){console.log(M)}}else A("/signin")},[f,p]=T.useState([]),[g,v]=T.useState(!0),[w,m]=T.useState(""),y=Je(k=>k.userName),_=Je(k=>k.profilePicture),E=async()=>{try{const k=await rr(Mt(We,"posts")),M=[];k.forEach(X=>{M.push(X.data())}),p(M),console.log(f)}catch(k){console.error("Error fetching data:",k)}};T.useEffect(()=>{E(),r(t.length)},[]);const{postId:I}=o8(),A=Qt(),R=f.filter(k=>k.postId==I);T.useEffect(()=>{window.scrollTo(0,0),setTimeout(()=>{R&&v(!1)},2e3)},[]);const C=async()=>{const k=o.find(M=>M.userName===y);if(k){const M=Xo(We,"LikeCount",k.docId);await Q5(M)}else{const M={postId:I,userName:y,likeCount:1};try{await fl(Mt(We,"LikeCount"),M)}catch(X){console.log(X)}}try{const M=await rr(Mt(We,"LikeCount")),X=[];M.forEach(ce=>{X.unshift({docId:ce.id,...ce.data()})});const le=X.filter(ce=>ce.postId===I);a(le),i(le.length)}catch(M){console.log(M)}};return d.jsxs("section",{className:"h-[100vh]",children:[d.jsx(Yc,{}),g&&d.jsx("div",{className:"w-[100%] flex items-center justify-center h-[100%]",children:d.jsx(Hi,{color:"#FF2424"})}),!g&&d.jsx("div",{children:R.map(k=>d.jsxs("section",{className:"flex flex-col gap-4 text-left p-10 ps-6",children:[d.jsx(vG,{size:30,onClick:()=>{A(-1)}}),d.jsx("p",{className:"font-bold uppercase text-[20px] text-[#FF2424]",children:k.category}),d.jsx("p",{className:"font-bold text-[38px] tracking-tighter",children:k.postTitle}),d.jsx("p",{children:k.postDescription}),d.jsxs("p",{className:"text-[14px] text-[#666666]",children:[k.postAuthor," - ",k.postDate]}),d.jsxs("div",{className:"flex gap-6",children:[d.jsxs("div",{className:l?"flex gap-2 items-center font-bold text-[#FF2424]":"flex gap-2 items-center font-bold",onClick:C,children:[d.jsx(xG,{size:26}),s]}),d.jsxs("div",{className:"flex gap-2 items-center font-bold",children:[d.jsx(wG,{size:26}),n]})]}),d.jsx("img",{src:k.postImage,alt:"",className:"w-[100%] h-[280px] bg-red-300 rounded-[10px] object-cover"}),d.jsx("p",{children:k.content}),d.jsx("hr",{}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[26px] font-bold",children:"COMMENTS"}),d.jsxs("div",{className:"h-[250px] overflow-y-auto",children:[t&&d.jsx("div",{children:t.map(M=>d.jsxs("div",{className:"flex gap-4 mt-6",children:[d.jsx("img",{src:M.profilePicture,alt:"",className:"rounded-[10px] w-[60px] h-[60px] bg-red-600 min-w-[60px] min-h[60px]"}),d.jsxs("div",{children:[d.jsx("p",{children:M.userName}),d.jsx("p",{className:"text-[14px] text-[#666666]",children:M.commentValue})]})]}))}),t.length===0&&d.jsx("div",{children:"No comments yet under this post. Be the first to comment! 😁"})]}),d.jsxs("div",{className:"mt-8",children:[d.jsx("label",{htmlFor:"Write Comment",children:"Write Comment"}),d.jsxs("div",{className:"h-[55px] w-[100%] mt-2 border bg-white flex items-center",children:[d.jsx("input",{type:"text",className:"block h-[100%] w-[100%] ps-4 outline-none focus:outline-none",value:w,placeholder:"Write your comment here..",onChange:M=>{m(M.target.value)}}),w&&d.jsx("div",{className:"h-[45px] w-[45px] bg-[#FF2424] rounded-[6px] flex justify-center items-center hover:bg-[#DD0000]",onClick:h,children:d.jsx(F8,{color:"white",size:20})})]})]})]})]}))}),d.jsxs("footer",{className:"bg-black h-[200px] relative",children:[d.jsx("h1",{className:"text-white tracking-tighter text-[30px] font-bold ps-6 pt-4",children:"FEEDPOST"}),d.jsxs("div",{className:"p-6 flex gap-4",children:[d.jsx("p",{className:"text-white",children:"Home"}),d.jsx("p",{className:"text-white",children:"Categories"}),d.jsx("p",{className:"text-white",children:"About FeedPost"}),d.jsx("p",{className:"text-white",children:"Contact"})]}),d.jsx("div",{className:"absolute bottom-0 border-t-2 w-[100%] pt-[15px] pb-[15px] text-center",children:d.jsxs("p",{className:"text-white",children:["Copyright © 2024 |"," ",d.jsx("span",{className:"text-[#FF2424]",children:"Uwak Daniel"})]})})]})]})},sK=()=>{const t=Qt(),[e,n]=T.useState(""),[r,s]=T.useState([]),[i,o]=T.useState(!1),[a,l]=T.useState(!0),[c,u]=T.useState([]),h=()=>{const p=c.filter(g=>g.postTitle.toLowerCase().includes(e));s(p),console.log(p),o(!0),l(!1)},f=async()=>{try{const p=await rr(Mt(We,"posts")),g=[];p.forEach(v=>{g.push(v.data())}),u(g),console.log(c)}catch(p){console.error("Error fetching data:",p)}};return T.useEffect(()=>{window.scrollTo(0,0),f()},[]),d.jsxs("section",{className:"p-0 m-0",children:[d.jsx(Yc,{}),d.jsx("div",{className:"p-4 ps-6",onClick:()=>{t(-1)},children:d.jsx(t2,{size:50})}),d.jsx("div",{className:"w-[100%] p-5 pt-0",children:d.jsxs("div",{className:"h-[60px] flex items-center justify-between gap-4",children:[d.jsx("input",{type:"text",className:"h-[60px] w-[100%] border ps-5",placeholder:"Search here...",value:e,onClick:()=>{o(!1)},onChange:p=>{n(p.target.value)}}),d.jsx("div",{className:"min-h-[60px] min-w-[60px] flex items-center justify-center text-white bg-[#FF2424] rounded-[6px]",onClick:h,children:d.jsx(L8,{size:26})})]})}),i&&d.jsxs("div",{className:"h-[65px] w-[100%] bg-black text-white text-[40px] flex items-center justify-center font-bold",children:['Results for "',e,'"']}),d.jsxs("div",{className:"p-4",children:[a&&d.jsx("div",{className:"flex items-center justify-center h-[100%] text-[30px]",children:"Search for something!"}),r.map(p=>d.jsxs("div",{className:"flex gap-4 items-center mt-4 mb-6 border-b pb-6 border-[#cccccc]",onClick:()=>{t(`/blog/${p.category}/${p.postId}`)},children:[d.jsx("div",{className:"w-[auto] h-[auto] rounded-[10px] bg-red-100",children:d.jsx("img",{src:p.postImage,alt:p.postTitle,className:"max-w-[150px] max-h-[150px] rounded-[10px]"})}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("p",{className:"text-[#FF2424] text-[20px] font-bold",children:p.category}),d.jsx("p",{className:"font-bold w-[90%]",children:p.postTitle}),d.jsxs("p",{className:"w-[100%]",children:[p.postAuthor," - ",p.postDate]})]})]}))]})]})},iK=()=>{const t=Qt(),e=Je(f=>f.profilePicture),n=Je(f=>f.userName),r=Je(f=>f.userEmail),[s,i]=T.useState(0),[o,a]=T.useState([]),[l,c]=T.useState(0);T.useState(0);const[u,h]=T.useState(!1);return T.useEffect(()=>{(async()=>{const p=await rr(Mt(We,"posts")),g=await rr(Mt(We,"LikeCount"));await rr(Mt(We,"users"));const v=[],w=[];p.forEach(_=>{v.push(_.data())}),g.forEach(_=>{w.push(_.data())});const m=v.filter(_=>_.postAuthor==n),y=w.filter(_=>_.userName==n);i(m.length),a(m),c(y.length),m.length==0&&h(!0)})(),n==""&&t("/signin")},[]),d.jsxs("section",{children:[d.jsxs("div",{className:"bg-black/90 h-[180px] relative",children:[d.jsxs("div",{className:"header flex items-center gap-3 justify-between p-4 z-10",children:[d.jsxs("div",{className:"flex gap-3",children:[d.jsx(t2,{color:"white",size:50,onClick:()=>{t(-1)}}),d.jsx("p",{className:"text-white text-[30px]",children:"My Profile"})]}),d.jsx(Jt,{to:"/edit-profile",className:"w-[80px] rounded-full h-[35px] flex justify-center items-center bg-white decoration-none",children:"Edit"})]}),d.jsx("div",{className:"w-[130px] h-[130px] rounded-full border ms-6 relative top-8 bg-white",children:d.jsx("img",{src:e||"https://bafybeihngeb4mfzcbb26gmrjno7yaynjtkgvhigesyrerpbgtrvqpt26x4.ipfs.w3s.link/Frame 34.png",alt:"",className:"w-[100%] h-[100%] rounded-full"})})]}),d.jsxs("div",{className:"flex justify-between h-[160px] border-b",children:[d.jsxs("div",{className:"ms-6 relative top-20",children:[d.jsx("p",{className:"text-[24px] font-bold",children:n}),d.jsx("p",{className:"text-[#575757] text-[14px]",children:r})]}),d.jsxs("div",{className:"flex mt-5",children:[d.jsxs("div",{className:"text-center border-r ps-8 pe-8 h-[75px]",children:[d.jsx("p",{children:"Feeds"}),d.jsx("p",{className:"text-[25px] font-bold",children:s})]}),d.jsxs("div",{className:"text-center border-r ps-8 pe-8 h-[75px]",children:[d.jsx("p",{children:"Likes"}),d.jsx("p",{className:"text-[25px] font-bold",children:l})]})]})]}),d.jsx("div",{className:"ps-6",children:d.jsx("p",{className:"text-[#FF2424] text-[30px] font-bold mt-6",children:"FEEDS"})}),d.jsxs("div",{className:"p-4",children:[u&&d.jsxs("div",{className:"text-[25px]",children:["You have no existing feed",d.jsx("div",{className:"mt-4 rounded-full bg-[#FF2424] h-[45px] flex justify-center items-center text-[16px] text-white",onClick:()=>{t("/createfeed")},children:"Create new feed"})]}),o.map(f=>d.jsxs("div",{className:"flex gap-4 items-center mt-4 mb-6",onClick:()=>{t(`/blog/${f.category}/${f.postId}`)},children:[d.jsx("div",{className:"w-[auto] h-[auto] rounded-[10px] bg-red-100",children:d.jsx("img",{src:f.postImage,alt:f.postTitle,className:"max-w-[150px] max-h-[150px] rounded-[10px]"})}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("p",{className:"text-[#FF2424] text-[20px] font-bold",children:"POLITICS"}),d.jsx("p",{className:"font-bold w-[90%]",children:f.postTitle}),d.jsxs("p",{className:"w-[100%]",children:[f.postAuthor," - ",f.postDate]})]})]}))]})]})},oK=()=>{const t=Je(W=>W.userName),e=Je(W=>W.userEmail),n=Je(W=>W.profilePicture),[r,s]=T.useState(!1),i=Qt(),o=Wc(),[a,l]=T.useState(t);T.useState(e),T.useState("");const[c,u]=T.useState(!1),[h,f]=T.useState(!1),[p,g]=T.useState([]),[v,w]=T.useState(null),[m,y]=T.useState(!1),[_,E]=T.useState(""),[I,A]=T.useState(!1),[R,C]=T.useState(""),[k,M]=T.useState(""),X=W=>{const q=W.target.files[0];if(q){const H=new FileReader;H.onload=()=>{w(H.result)},H.readAsDataURL(q),u(!0)}};T.useEffect(()=>{window.scrollTo(0,0);const W=$c(ur,q=>{M(q)});return()=>W()},[]),T.useEffect(()=>{(async()=>{const q=await rr(Mt(We,"users")),H=[];q.forEach(x=>{H.push({docID:x.id,...x.data()})});const _e=H.filter(x=>x.Name==t);console.log(_e),_e.map(x=>g(x.docID))})()},[]);const le=async()=>{s(!0),f(!1);const W=Xo(We,"users",p);try{await U1(W,{Name:a}),o(ay(a)),C("Your profile has been updated."),A(!0),s(!1),setTimeout(()=>{A(!1)},2500)}catch(q){E(q.message),y(!0),s(!1)}},ce=async()=>{const W=Xo(We,"users",p);f(!0),u(!1);try{await U1(W,{ProfilePicture:v}),f(!1),C("Your Image has been updated successfully"),A(!0),setTimeout(()=>{i("/")},2500)}catch{E("You image was not updated"),y(!0)}};return d.jsxs("section",{children:[I&&d.jsxs(hn.div,{initial:{y:-1e3},animate:{y:0},className:"fixed top-4 left-[10vw] bg-white w-[80vw] h-[100px] rounded-[10px] flex items-center gap-6 shadow-xl border justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Jc,{size:60,color:"#22c55e",className:"ms-3"}),d.jsxs("p",{className:" text-[14px] ms-5 w-[90%]",children:[d.jsx("span",{className:"text-green-500 font-bold",children:"Success: "}),R]})]}),d.jsx(zn,{size:40,className:"me-3",onClick:()=>{A(!1)}})]}),m&&d.jsxs(hn.div,{initial:{y:-1e3},animate:{y:0},className:"fixed top-4 left-[10vw] bg-white w-[80vw] h-[100px] rounded-[10px] flex items-center gap-6 shadow-xl border justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Xc,{size:60,color:"#FF2424",className:"ms-3"}),d.jsxs("p",{className:" text-[14px] ms-5 w-[90%]",children:[d.jsx("span",{className:"text-[#FF2424] font-bold",children:"Error: "}),_]})]}),d.jsx(zn,{size:40,className:"me-3",onClick:()=>{y(!1)}})]}),d.jsxs("div",{className:"w-100 flex gap-4 bg-black/90 text-white items-center py-5 px-7",children:[d.jsx("div",{onClick:()=>{i(-1)},children:d.jsx(bN,{size:30})}),d.jsx("p",{className:"text-2xl font-bold",children:"Edit Profile"})]}),d.jsxs("div",{className:"p-5",children:[d.jsxs("div",{className:"flex gap-6 items-center",children:[d.jsx("div",{className:"min-w-[130px] min-h-[130px] rounded-full border mb-6 bg-white",children:d.jsx("img",{src:n||"https://bafybeihngeb4mfzcbb26gmrjno7yaynjtkgvhigesyrerpbgtrvqpt26x4.ipfs.w3s.link/Frame 34.png",alt:"",className:"w-[100%] h-[100%] rounded-full"})}),d.jsxs("div",{children:[d.jsx("p",{className:"mb-4",children:"Change Profile Picture to"}),d.jsx("input",{type:"file",accept:"image/*",className:"bg-[#FF2424] text-white",onChange:X}),c&&d.jsx("div",{className:"w-[100px] h-[40px] rounded-full flex justify-center items-center text-white bg-[#FF2424] mt-4 cursor-pointer",onClick:ce,children:"Update"}),h&&d.jsx("div",{className:"text-[#FF2424] mt-4",children:"Updating.."})]})]}),d.jsxs("div",{className:"mt-3 mb-5",children:[d.jsxs("label",{htmlFor:"Post Title",children:["Full Name",d.jsx("span",{className:"text-[#FF2424]"})]}),d.jsx("input",{type:"text",className:"border rounded-[10px] block h-[50px] w-[100%] mt-1 ps-4",value:a,onChange:W=>{l(W.target.value)}})]}),d.jsx("div",{className:"w-[100%] h-[60px] rounded-[10px] flex items-center gap-2 justify-center bg-[#FF2424] text-white hover:bg-[#DD0000]",onClick:le,children:r?d.jsx(Hi,{color:"#fff",size:10}):d.jsx("div",{className:"flex gap-4",children:d.jsx("p",{children:"Update Profile"})})})]})]})},c2=()=>{const t=Qt();return d.jsxs("footer",{className:"bg-black h-[200px] relative",children:[d.jsx("h1",{className:"text-white tracking-tighter text-[30px] font-bold ps-6 pt-4",children:"FEEDPOST"}),d.jsxs("div",{className:"p-6 flex gap-4",children:[d.jsx("p",{className:"text-white hover:text-[#FF2424] duration-200 ease-in cursor-pointer",onClick:()=>{t("/")},children:"Home"}),d.jsx("p",{className:"text-white hover:text-[#FF2424] duration-200 ease-in cursor-pointer",onClick:()=>{t("/about")},children:"About"}),d.jsx("p",{className:"text-white hover:text-[#FF2424] duration-200 ease-in cursor-pointer",onClick:()=>{t("/my-profile")},children:"Profile"}),d.jsx("p",{className:"text-white hover:text-[#FF2424] duration-200 ease-in cursor-pointer",onClick:()=>{t("/contact")},children:"Contact"})]}),d.jsx("div",{className:"absolute bottom-0 border-t-2 w-[100%] pt-[15px] pb-[15px] text-center",children:d.jsxs("p",{className:"text-white",children:["Copyright © 2024 | ",d.jsx("span",{className:"text-[#FF2424]",children:"Uwak Daniel"})]})})]})},aK=()=>{const t=Qt();return d.jsxs("section",{children:[d.jsx(Yc,{}),d.jsx("div",{className:"text-center text-[40px] mt-10 font-bold text-[#FF2424] underline",children:"ABOUT FEEDPOST"}),d.jsxs("p",{className:"text-center p-5",children:["Welcome to FeedPost! At FeedPost, we are passionate about creating a seamless and engaging platform for users to connect, share, and discover. Our platform was born out of the belief that sharing meaningful stories and experiences can foster a sense of community and connection. Our Mission FeedPost is on a mission to empower individuals to share their stories, connect with like-minded people, and build a diverse and supportive online community. We aim to redefine the way people interact with content, making it easy and enjoyable to express yourself and discover captivating posts from others. What Sets Us Apart Captivating Feeds FeedPost provides dynamic and personalized feeds, ensuring that every user's experience is tailored to their interests. Our smart algorithms analyze user preferences, delivering content that matters most to you. Seamless Sharing With an intuitive and user-friendly interface, FeedPost makes sharing your thoughts, photos, and experiences a breeze. Express yourself with ease and connect with others who resonate with your content. Community Engagement FeedPost is more than just a platform; it's a community. Engage in meaningful conversations, discover new perspectives, and support fellow FeedPosters. We believe in fostering a positive and inclusive environment for everyone. Contact Us Have questions, feedback, or just want to say hello? We'd love to hear from you! Reach out to us at dannycodesltd@gmail.com or use our"," ",d.jsx("span",{className:"text-[#FF2424] font-bold cursor-pointer",onClick:()=>{t("/contact")},children:"Contact Form"}),". Thank you for being a part of the FeedPost community. Together, let's create, share, and connect! FeedPost Team"]}),d.jsx(c2,{})]})},lK=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,a]=T.useState(!1),[l,c]=T.useState(""),[u,h]=T.useState(!1),[f,p]=T.useState(""),[g,v]=T.useState(!1),w=async()=>{if(v(!0),t&&n&&s)try{await fl(Mt(We,"enquiries"),{name:t,subject:n,message:s}),v(!1),h(!0),p("Your information has been sent, check updates on your email"),setTimeout(()=>{h(!1)},3e3),e(""),r(""),i("")}catch(m){c(m.message),v(!1),a(!0),setTimeout(()=>{a(!1)},3e3)}else v(!1),c("Please input the required details"),a(!0),setTimeout(()=>{a(!1)},3e3)};return d.jsxs("section",{children:[u&&d.jsxs(hn.div,{initial:{y:-1e3},animate:{y:0},className:"fixed top-4 left-[10vw] z-[10] bg-white w-[80vw] h-[100px] rounded-[10px] flex items-center gap-6 shadow-xl border justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Jc,{size:60,color:"#22c55e",className:"ms-3"}),d.jsxs("p",{className:" text-[14px] ms-5 w-[90%]",children:[d.jsx("span",{className:"text-green-500 font-bold",children:"Success: "}),f]})]}),d.jsx(zn,{size:40,className:"me-3",onClick:()=>{h(!1)}})]}),o&&d.jsxs(hn.div,{initial:{y:-1e3},animate:{y:0},className:"fixed top-4 left-[10vw] z-[10] bg-white w-[80vw] h-[100px] rounded-[10px] flex items-center gap-6 shadow-xl border justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Xc,{size:60,color:"#FF2424",className:"ms-3"}),d.jsxs("p",{className:" text-[14px] ms-5 w-[90%]",children:[d.jsx("span",{className:"text-[#FF2424] font-bold",children:"Error: "}),l]})]}),d.jsx(zn,{size:40,className:"me-3",onClick:()=>{a(!1)}})]}),d.jsx(Yc,{}),d.jsxs("div",{children:[d.jsx("p",{className:"text-center text-[40px] mt-10 font-bold text-[#FF2424] underline",children:"CONTACT FORM"}),d.jsx("div",{className:"p-4 pb-0",children:d.jsxs("div",{className:"mt-3 mb-5",children:[d.jsxs("label",{htmlFor:"Post Title",children:["Full Name",d.jsx("span",{className:"text-[#FF2424]",children:"*"})]}),d.jsx("input",{type:"text",className:"border rounded-[10px] block h-[50px] w-[100%] mt-1 ps-4",value:t,onChange:m=>{e(m.target.value)}})]})}),d.jsx("div",{className:"p-4 pt-0",children:d.jsxs("div",{className:"mt-3",children:[d.jsxs("label",{htmlFor:"Post Title",children:["Subject",d.jsx("span",{className:"text-[#FF2424]",children:"*"})]}),d.jsx("input",{type:"text",className:"border rounded-[10px] block h-[50px] w-[100%] mt-1 ps-4",value:n,onChange:m=>{r(m.target.value)}})]})}),d.jsx("div",{className:"p-4 pt-0",children:d.jsxs("div",{className:"mt-3 mb-5",children:[d.jsxs("label",{htmlFor:"Post Title",children:["Message",d.jsx("span",{className:"text-[#FF2424]",children:"*"})]}),d.jsx("textarea",{type:"text",className:"border rounded-[10px] block h-[300px] w-[100%] mt-1 ps-4 pt-4",value:s,onChange:m=>{i(m.target.value)}})]})}),d.jsx("div",{className:"p-4",children:d.jsx("div",{className:"w-[100%] h-[60px] rounded-[10px] flex items-center gap-2 justify-center bg-[#FF2424] text-white hover:bg-[#DD0000]",onClick:w,children:g?d.jsx(Hi,{color:"#fff",size:10}):d.jsx("div",{className:"flex gap-4",children:d.jsx("p",{children:"Submit"})})})})]}),d.jsx(c2,{})]})},cK=()=>{const t=Qt();return d.jsxs("section",{className:"flex flex-col items-center justify-center gap-3",children:[d.jsx("img",{src:"https://bafybeicodwwfosuuy764n7zptvomzvsvzpwzvljx4o5h5vegfta437ngf4.ipfs.w3s.link/404 Error-rafiki.svg",alt:"",className:"w-[400px]"}),d.jsx("p",{className:"text-[#FF2424] text-[50px] font-bold",children:"Oops!"}),d.jsx("p",{className:"text-[20px] text-center p-3",children:"Seems you got lost in space, you can still go back to the space ship though😂"}),d.jsx("div",{className:"w-[180px] h-[50px] mb-8 rounded-full bg-[#FF2424] flex items-center justify-center cursor-pointer text-white",onClick:()=>{t("/")},children:"Go to space ship"})]})};function uK(){return d.jsx(P8,{children:d.jsxs(E8,{children:[d.jsx(gn,{path:"/",exact:!0,element:d.jsx(_G,{})}),d.jsx(gn,{path:"/createfeed",exact:!0,element:d.jsx(PG,{})}),d.jsx(gn,{path:"/create-account",exact:!0,element:d.jsx(tK,{})}),d.jsx(gn,{path:"/signin",exact:!0,element:d.jsx(nK,{})}),d.jsx(gn,{path:"/blog/:category/:postId",exact:!0,element:d.jsx(rK,{})}),d.jsx(gn,{path:"/search",exact:!0,element:d.jsx(sK,{})}),d.jsx(gn,{path:"/my-profile",exact:!0,element:d.jsx(iK,{})}),d.jsx(gn,{path:"/edit-profile",exact:!0,element:d.jsx(oK,{})}),d.jsx(gn,{path:"/about",exact:!0,element:d.jsx(aK,{})}),d.jsx(gn,{path:"/contact",exact:!0,element:d.jsx(lK,{})}),d.jsx(gn,{path:"*",exact:!0,element:d.jsx(cK,{})})]})})}fm.createRoot(document.getElementById("root")).render(d.jsx(Tn.StrictMode,{children:d.jsx(Az,{store:zB,children:d.jsx(uK,{})})}));
